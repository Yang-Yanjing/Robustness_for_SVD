func	2:0	46:0	0	static int	vlclua_net_poll
params	2:26	0:0	1	
param	2:28	2:41	2	lua_State *	L
stmnts	0:0	45:16	1	
decl	4:4	4:48	2	vlclua_dtable_t	*dt
op	4:24	0:0	2	=
call	4:26	4:47	3	vlclua_get_dtable
arg	4:45	4:47	4	L
water	4:45	0:0	5	L
call	5:4	5:37	2	luaL_checktype
arg	5:20	5:21	3	L
water	5:20	0:0	4	L
arg	5:23	5:24	3	1
water	5:23	0:0	4	1
arg	5:26	5:37	3	LUA_TTABLE
water	5:26	0:0	4	LUA_TTABLE
water	5:38	0:0	2	;
decl	6:4	6:17	2	int	i_fds
op	6:14	0:0	2	=
water	6:16	0:0	2	1
call	7:4	7:19	2	lua_pushnil
arg	7:17	7:19	3	L
water	7:17	0:0	4	L
water	7:20	0:0	2	;
while	8:4	12:4	2	(lua_next (L ,1 ))
cond	8:11	8:26	3	lua_next (L ,1 )
call	8:11	8:26	4	lua_next
arg	8:21	8:22	5	L
water	8:21	0:0	6	L
arg	8:24	8:26	5	1
water	8:24	0:0	6	1
stmts	9:4	12:4	3	
water	9:4	0:0	4	{
water	10:8	0:0	4	i_fds
op	10:13	0:0	4	++
water	10:15	0:0	4	;
call	11:8	11:22	4	lua_pop
arg	11:17	11:18	5	L
water	11:17	0:0	6	L
arg	11:20	11:22	5	1
water	11:20	0:0	6	1
water	11:23	0:0	4	;
water	12:4	0:0	4	}
decl	13:4	13:62	2	struct pollfd	*p_fds
op	13:25	0:0	2	=
call	13:27	13:61	3	xmalloc
arg	13:36	13:61	4	i_fds*sizeof(*p_fds)
water	13:36	0:0	5	i_fds
op	13:42	0:0	5	*
op	13:44	0:0	5	sizeof
water	13:50	0:0	5	(
op	13:52	0:0	5	*
water	13:53	0:0	5	p_fds
water	13:59	0:0	5	)
decl	14:4	14:54	2	int	*luafds
op	14:16	0:0	2	=
call	14:18	14:53	3	xmalloc
arg	14:27	14:53	4	i_fds*sizeof(*luafds)
water	14:27	0:0	5	i_fds
op	14:33	0:0	5	*
op	14:35	0:0	5	sizeof
water	14:41	0:0	5	(
op	14:43	0:0	5	*
water	14:44	0:0	5	luafds
water	14:51	0:0	5	)
call	15:4	15:19	2	lua_pushnil
arg	15:17	15:19	3	L
water	15:17	0:0	4	L
water	15:20	0:0	2	;
decl	16:4	16:13	2	int	i
op	16:10	0:0	2	=
water	16:12	0:0	2	1
water	17:4	0:0	2	p_fds
op	17:9	0:0	2	[
water	17:10	0:0	2	0
op	17:11	0:0	2	]
op	17:12	0:0	2	.
water	17:13	0:0	2	fd
op	17:16	0:0	2	=
water	17:18	0:0	2	dt
op	17:20	0:0	2	->
water	17:22	0:0	2	fd
op	17:24	0:0	2	[
water	17:25	0:0	2	0
op	17:26	0:0	2	]
water	17:27	0:0	2	;
water	18:4	0:0	2	p_fds
op	18:9	0:0	2	[
water	18:10	0:0	2	0
op	18:11	0:0	2	]
op	18:12	0:0	2	.
water	18:13	0:0	2	events
op	18:20	0:0	2	=
water	18:22	0:0	2	POLLIN
water	18:28	0:0	2	;
while	19:4	27:4	2	(lua_next (L ,1 ))
cond	19:11	19:26	3	lua_next (L ,1 )
call	19:11	19:26	4	lua_next
arg	19:21	19:22	5	L
water	19:21	0:0	6	L
arg	19:24	19:26	5	1
water	19:24	0:0	6	1
stmts	20:4	27:4	3	
water	20:4	0:0	4	{
water	21:8	0:0	4	luafds
op	21:14	0:0	4	[
water	21:15	0:0	4	i
op	21:16	0:0	4	]
op	21:18	0:0	4	=
call	21:20	21:45	4	luaL_checkinteger
arg	21:39	21:40	5	L
water	21:39	0:0	6	L
arg	21:42	21:45	5	-2
op	21:42	0:0	6	-
water	21:43	0:0	6	2
water	21:46	0:0	4	;
water	22:8	0:0	4	p_fds
op	22:13	0:0	4	[
water	22:14	0:0	4	i
op	22:15	0:0	4	]
op	22:16	0:0	4	.
water	22:17	0:0	4	fd
op	22:20	0:0	4	=
call	22:22	22:50	4	vlclua_fd_get
arg	22:37	22:38	5	L
water	22:37	0:0	6	L
arg	22:40	22:50	5	luafds[i]
water	22:40	0:0	6	luafds
op	22:46	0:0	6	[
water	22:47	0:0	6	i
op	22:48	0:0	6	]
water	22:51	0:0	4	;
water	23:8	0:0	4	p_fds
op	23:13	0:0	4	[
water	23:14	0:0	4	i
op	23:15	0:0	4	]
op	23:16	0:0	4	.
water	23:17	0:0	4	events
op	23:24	0:0	4	=
call	23:26	23:51	4	luaL_checkinteger
arg	23:45	23:46	5	L
water	23:45	0:0	6	L
arg	23:48	23:51	5	-1
op	23:48	0:0	6	-
water	23:49	0:0	6	1
water	23:52	0:0	4	;
water	24:8	0:0	4	p_fds
op	24:13	0:0	4	[
water	24:14	0:0	4	i
op	24:15	0:0	4	]
op	24:16	0:0	4	.
water	24:17	0:0	4	events
op	24:24	0:0	4	&=
water	24:27	0:0	4	POLLIN
op	24:34	0:0	4	|
water	24:36	0:0	4	POLLOUT
op	24:44	0:0	4	|
water	24:46	0:0	4	POLLPRI
water	24:53	0:0	4	;
call	25:8	25:22	4	lua_pop
arg	25:17	25:18	5	L
water	25:17	0:0	6	L
arg	25:20	25:22	5	1
water	25:20	0:0	6	1
water	25:23	0:0	4	;
water	26:8	0:0	4	i
op	26:9	0:0	4	++
water	26:11	0:0	4	;
water	27:4	0:0	4	}
decl	28:4	28:13	2	int	i_ret
do	29:4	30:40	2	(i_ret == - 1 && errno == EINTR)
cond	31:11	31:35	3	i_ret == - 1 && errno == EINTR
water	31:11	0:0	4	i_ret
op	31:17	0:0	4	==
op	31:20	0:0	4	-
water	31:21	0:0	4	1
op	31:23	0:0	4	&&
water	31:26	0:0	4	errno
op	31:32	0:0	4	==
water	31:35	0:0	4	EINTR
stmts	30:8	30:40	3	
water	30:8	0:0	4	i_ret
op	30:14	0:0	4	=
call	30:16	30:39	4	poll
arg	30:22	30:27	5	p_fds
water	30:22	0:0	6	p_fds
arg	30:29	30:34	5	i_fds
water	30:29	0:0	6	i_fds
arg	30:36	30:39	5	-1
op	30:36	0:0	6	-
water	30:37	0:0	6	1
water	30:40	0:0	4	;
water	31:42	0:0	2	;
for	32:4	37:4	2	(i = 1 ;i < i_fds;i ++)
forinit	32:9	32:14	3	i = 1 ;
water	32:9	0:0	4	i
op	32:11	0:0	4	=
water	32:13	0:0	4	1
water	32:14	0:0	4	;
cond	32:16	32:20	3	i < i_fds
water	32:16	0:0	4	i
op	32:18	0:0	4	<
water	32:20	0:0	4	i_fds
forexpr	32:27	32:28	3	i ++
water	32:27	0:0	4	i
op	32:28	0:0	4	++
stmts	33:4	37:4	3	
water	33:4	0:0	4	{
call	34:8	34:38	4	lua_pushinteger
arg	34:25	34:26	5	L
water	34:25	0:0	6	L
arg	34:28	34:38	5	luafds[i]
water	34:28	0:0	6	luafds
op	34:34	0:0	6	[
water	34:35	0:0	6	i
op	34:36	0:0	6	]
water	34:39	0:0	4	;
call	35:8	35:45	4	lua_pushinteger
arg	35:25	35:26	5	L
water	35:25	0:0	6	L
arg	35:28	35:45	5	p_fds[i].revents
water	35:28	0:0	6	p_fds
op	35:33	0:0	6	[
water	35:34	0:0	6	i
op	35:35	0:0	6	]
op	35:36	0:0	6	.
water	35:37	0:0	6	revents
water	35:46	0:0	4	;
call	36:8	36:27	4	lua_settable
arg	36:22	36:23	5	L
water	36:22	0:0	6	L
arg	36:25	36:27	5	1
water	36:25	0:0	6	1
water	36:28	0:0	4	;
water	37:4	0:0	4	}
call	38:4	38:30	2	lua_pushinteger
arg	38:21	38:22	3	L
water	38:21	0:0	4	L
arg	38:24	38:30	3	i_ret
water	38:24	0:0	4	i_ret
water	38:31	0:0	2	;
if	39:4	40:47	2	(p_fds [ 0 ] . revents)
cond	39:8	39:17	3	p_fds [ 0 ] . revents
water	39:8	0:0	4	p_fds
op	39:13	0:0	4	[
water	39:14	0:0	4	0
op	39:15	0:0	4	]
op	39:16	0:0	4	.
water	39:17	0:0	4	revents
stmts	40:8	40:47	3	
water	40:8	0:0	4	i_ret
op	40:14	0:0	4	=
call	40:16	40:46	4	luaL_error
arg	40:28	40:29	5	L
water	40:28	0:0	6	L
arg	40:31	40:46	5	"Interrupted."
water	40:31	0:0	6	"Interrupted."
water	40:47	0:0	4	;
else	41:4	42:17	2
stmts	42:8	42:17	3	
water	42:8	0:0	4	i_ret
op	42:14	0:0	4	=
water	42:16	0:0	4	1
water	42:17	0:0	4	;
call	43:4	43:17	2	free
arg	43:10	43:17	3	luafds
water	43:10	0:0	4	luafds
water	43:18	0:0	2	;
call	44:4	44:16	2	free
arg	44:10	44:16	3	p_fds
water	44:10	0:0	4	p_fds
water	44:17	0:0	2	;
return	45:4	45:16	2	i_ret
water	45:11	0:0	3	i_ret
