func	2:0	38:0	0	static int	Read
params	2:16	0:0	1	
param	2:17	2:33	2	stream_t *	stream
param	2:35	2:44	2	void *	buf
param	2:46	2:65	2	unsigned int	buflen
stmnts	0:0	37:14	1	
decl	4:4	4:37	2	stream_sys_t	*sys
op	4:22	0:0	2	=
water	4:24	0:0	2	stream
op	4:30	0:0	2	->
water	4:32	0:0	2	p_sys
water	5:4	0:0	2	unsigned
water	5:13	0:0	2	ret
op	5:17	0:0	2	=
water	5:19	0:0	2	0
water	5:20	0:0	2	;
if	6:4	7:66	2	(buf == NULL)
cond	6:8	6:15	3	buf == NULL
water	6:8	0:0	4	buf
op	6:12	0:0	4	==
water	6:15	0:0	4	NULL
stmts	7:8	7:66	3	
water	7:8	0:0	4	buflen
op	7:15	0:0	4	=
call	7:17	7:65	4	Peek
arg	7:23	7:29	5	stream
water	7:23	0:0	6	stream
arg	7:31	7:57	5	&(constuint8_t*){NULL}
op	7:31	0:0	6	&
water	7:32	0:0	6	(
water	7:33	0:0	6	const
water	7:39	0:0	6	uint8_t
op	7:47	0:0	6	*
water	7:48	0:0	6	)
water	7:49	0:0	6	{
water	7:51	0:0	6	NULL
water	7:56	0:0	6	}
arg	7:59	7:65	5	buflen
water	7:59	0:0	6	buflen
water	7:66	0:0	4	;
decl	8:4	8:33	2	block_t	*peeked
op	8:20	0:0	2	=
water	8:22	0:0	2	sys
op	8:25	0:0	2	->
water	8:27	0:0	2	peeked
if	9:4	29:4	2	(peeked != NULL)
cond	9:8	9:18	3	peeked != NULL
water	9:8	0:0	4	peeked
op	9:15	0:0	4	!=
water	9:18	0:0	4	NULL
stmts	10:4	29:4	3	
water	10:4	0:0	4	{
decl	11:8	11:40	4	size_t	length
op	11:22	0:0	4	=
water	11:24	0:0	4	peeked
op	11:30	0:0	4	->
water	11:32	0:0	4	i_buffer
if	12:8	13:27	4	(length > buflen)
cond	12:12	12:21	5	length > buflen
water	12:12	0:0	6	length
op	12:19	0:0	6	>
water	12:21	0:0	6	buflen
stmts	13:12	13:27	5	
water	13:12	0:0	6	length
op	13:19	0:0	6	=
water	13:21	0:0	6	buflen
water	13:27	0:0	6	;
if	14:8	18:8	4	(buf != NULL)
cond	14:12	14:19	5	buf != NULL
water	14:12	0:0	6	buf
op	14:16	0:0	6	!=
water	14:19	0:0	6	NULL
stmts	15:8	18:8	5	
water	15:8	0:0	6	{
call	16:12	16:49	6	memcpy
arg	16:20	16:23	7	buf
water	16:20	0:0	8	buf
arg	16:25	16:41	7	peeked->p_buffer
water	16:25	0:0	8	peeked
op	16:31	0:0	8	->
water	16:33	0:0	8	p_buffer
arg	16:43	16:49	7	length
water	16:43	0:0	8	length
water	16:50	0:0	6	;
water	17:12	0:0	6	buf
op	17:16	0:0	6	=
water	17:18	0:0	6	(
water	17:19	0:0	6	(
water	17:20	0:0	6	char
op	17:25	0:0	6	*
water	17:26	0:0	6	)
water	17:27	0:0	6	buf
water	17:30	0:0	6	)
op	17:32	0:0	6	+
water	17:34	0:0	6	length
water	17:40	0:0	6	;
water	18:8	0:0	6	}
water	19:8	0:0	4	buflen
op	19:15	0:0	4	-=
water	19:18	0:0	4	length
water	19:24	0:0	4	;
water	20:8	0:0	4	peeked
op	20:14	0:0	4	->
water	20:16	0:0	4	p_buffer
op	20:25	0:0	4	+=
water	20:28	0:0	4	length
water	20:34	0:0	4	;
water	21:8	0:0	4	peeked
op	21:14	0:0	4	->
water	21:16	0:0	4	i_buffer
op	21:25	0:0	4	-=
water	21:28	0:0	4	length
water	21:34	0:0	4	;
if	22:8	26:8	4	(peeked -> i_buffer == 0)
cond	22:12	22:32	5	peeked -> i_buffer == 0
water	22:12	0:0	6	peeked
op	22:18	0:0	6	->
water	22:20	0:0	6	i_buffer
op	22:29	0:0	6	==
water	22:32	0:0	6	0
stmts	23:8	26:8	5	
water	23:8	0:0	6	{
call	24:12	24:33	6	block_Release
arg	24:27	24:33	7	peeked
water	24:27	0:0	8	peeked
water	24:34	0:0	6	;
water	25:12	0:0	6	sys
op	25:15	0:0	6	->
water	25:17	0:0	6	peeked
op	25:24	0:0	6	=
water	25:26	0:0	6	NULL
water	25:30	0:0	6	;
water	26:8	0:0	6	}
water	27:8	0:0	4	sys
op	27:11	0:0	4	->
water	27:13	0:0	4	offset
op	27:20	0:0	4	+=
water	27:23	0:0	4	length
water	27:29	0:0	4	;
water	28:8	0:0	4	ret
op	28:12	0:0	4	+=
water	28:15	0:0	4	length
water	28:21	0:0	4	;
water	29:4	0:0	4	}
call	30:4	30:42	2	assert
arg	30:12	30:42	3	(buf!=NULL)||(buflen==0)
water	30:12	0:0	4	(
water	30:13	0:0	4	buf
op	30:17	0:0	4	!=
water	30:20	0:0	4	NULL
water	30:24	0:0	4	)
op	30:26	0:0	4	||
water	30:29	0:0	4	(
water	30:30	0:0	4	buflen
op	30:37	0:0	4	==
water	30:40	0:0	4	0
water	30:41	0:0	4	)
water	30:43	0:0	2	;
decl	31:4	31:75	2	ssize_t	val
op	31:16	0:0	2	=
call	31:18	31:74	3	net_Read
arg	31:28	31:34	4	stream
water	31:28	0:0	5	stream
arg	31:36	31:48	4	sys->read_fd
water	31:36	0:0	5	sys
op	31:39	0:0	5	->
water	31:41	0:0	5	read_fd
arg	31:50	31:54	4	NULL
water	31:50	0:0	5	NULL
arg	31:56	31:59	4	buf
water	31:56	0:0	5	buf
arg	31:61	31:67	4	buflen
water	31:61	0:0	5	buflen
arg	31:69	31:74	4	false
water	31:69	0:0	5	false
if	32:4	36:4	2	(val > 0)
cond	32:8	32:14	3	val > 0
water	32:8	0:0	4	val
op	32:12	0:0	4	>
water	32:14	0:0	4	0
stmts	33:4	36:4	3	
water	33:4	0:0	4	{
water	34:8	0:0	4	sys
op	34:11	0:0	4	->
water	34:13	0:0	4	offset
op	34:20	0:0	4	+=
water	34:23	0:0	4	val
water	34:26	0:0	4	;
water	35:8	0:0	4	ret
op	35:12	0:0	4	+=
water	35:15	0:0	4	val
water	35:18	0:0	4	;
water	36:4	0:0	4	}
return	37:4	37:14	2	ret
water	37:11	0:0	3	ret
