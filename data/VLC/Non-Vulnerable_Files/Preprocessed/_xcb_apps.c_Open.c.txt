func	2:0	74:0	0	static int	Open
params	2:16	0:0	1	
param	2:17	2:34	2	vlc_object_t *	obj
stmnts	0:0	73:23	1	
decl	4:4	4:58	2	services_discovery_t	*sd
op	4:29	0:0	2	=
water	4:31	0:0	2	(
water	4:32	0:0	2	services_discovery_t
op	4:53	0:0	2	*
water	4:54	0:0	2	)
water	4:55	0:0	2	obj
decl	5:4	5:62	2	services_discovery_sys_t	*p_sys
op	5:36	0:0	2	=
call	5:38	5:61	3	malloc
arg	5:46	5:61	4	sizeof(*p_sys)
op	5:46	0:0	5	sizeof
water	5:53	0:0	5	(
op	5:54	0:0	5	*
water	5:55	0:0	5	p_sys
water	5:60	0:0	5	)
if	6:4	7:25	2	(p_sys == NULL)
cond	6:8	6:17	3	p_sys == NULL
water	6:8	0:0	4	p_sys
op	6:14	0:0	4	==
water	6:17	0:0	4	NULL
stmts	7:8	7:25	3	
return	7:8	7:25	4	VLC_ENOMEM
water	7:15	0:0	5	VLC_ENOMEM
water	8:4	0:0	2	sd
op	8:6	0:0	2	->
water	8:8	0:0	2	p_sys
op	8:14	0:0	2	=
water	8:16	0:0	2	p_sys
water	8:21	0:0	2	;
decl	10:4	10:58	2	char	*display
op	10:18	0:0	2	=
call	10:20	10:57	3	var_InheritString
arg	10:39	10:42	4	obj
water	10:39	0:0	5	obj
arg	10:44	10:57	4	"x11-display"
water	10:44	0:0	5	"x11-display"
decl	11:4	11:12	2	int	snum
decl	12:4	12:57	2	xcb_connection_t	*conn
op	12:27	0:0	2	=
call	12:29	12:56	3	xcb_connect
arg	12:42	12:49	4	display
water	12:42	0:0	5	display
arg	12:51	12:56	4	&snum
op	12:51	0:0	5	&
water	12:52	0:0	5	snum
call	13:4	13:17	2	free
arg	13:10	13:17	3	display
water	13:10	0:0	4	display
water	13:18	0:0	2	;
if	14:4	18:4	2	(xcb_connection_has_error (conn ))
cond	14:8	14:38	3	xcb_connection_has_error (conn )
call	14:8	14:38	4	xcb_connection_has_error
arg	14:34	14:38	5	conn
water	14:34	0:0	6	conn
stmts	15:4	18:4	3	
water	15:4	0:0	4	{
call	16:8	16:19	4	free
arg	16:14	16:19	5	p_sys
water	16:14	0:0	6	p_sys
water	16:20	0:0	4	;
return	17:8	17:27	4	VLC_EGENERIC
water	17:15	0:0	5	VLC_EGENERIC
water	18:4	0:0	4	}
water	19:4	0:0	2	p_sys
op	19:9	0:0	2	->
water	19:11	0:0	2	conn
op	19:16	0:0	2	=
water	19:18	0:0	2	conn
water	19:22	0:0	2	;
decl	21:4	21:51	2	const xcb_setup_t	*setup
op	21:29	0:0	2	=
call	21:31	21:50	3	xcb_get_setup
arg	21:46	21:50	4	conn
water	21:46	0:0	5	conn
decl	22:4	22:34	2	const xcb_screen_t	*scr
op	22:28	0:0	2	=
water	22:30	0:0	2	NULL
for	23:4	32:4	2	( xcb_screen_iterator_t i =xcb_setup_roots_iterator (setup ) ;i . rem > 0;xcb_screen_next (& i ))
forinit	0:0	23:67	3	 xcb_screen_iterator_t i =xcb_setup_roots_iterator (setup ) ;
decl	23:9	23:67	4	xcb_screen_iterator_t	i
op	23:33	0:0	4	=
call	23:35	23:66	5	xcb_setup_roots_iterator
arg	23:61	23:66	6	setup
water	23:61	0:0	7	setup
cond	24:9	24:17	3	i . rem > 0
water	24:9	0:0	4	i
op	24:10	0:0	4	.
water	24:11	0:0	4	rem
op	24:15	0:0	4	>
water	24:17	0:0	4	0
forexpr	24:20	24:39	3	xcb_screen_next (& i )
call	24:20	24:39	4	xcb_screen_next
arg	24:37	24:39	5	&i
op	24:37	0:0	6	&
water	24:38	0:0	6	i
stmts	25:4	32:4	3	
water	25:4	0:0	4	{
if	26:8	30:8	4	(snum == 0)
cond	26:12	26:20	5	snum == 0
water	26:12	0:0	6	snum
op	26:17	0:0	6	==
water	26:20	0:0	6	0
stmts	27:8	30:8	5	
water	27:8	0:0	6	{
water	28:12	0:0	6	scr
op	28:16	0:0	6	=
water	28:18	0:0	6	i
op	28:19	0:0	6	.
water	28:20	0:0	6	data
water	28:24	0:0	6	;
break	29:12	29:17	6	
water	30:8	0:0	6	}
water	31:8	0:0	4	snum
op	31:12	0:0	4	--
water	31:14	0:0	4	;
water	32:4	0:0	4	}
if	33:4	37:4	2	(scr == NULL)
cond	33:8	33:15	3	scr == NULL
water	33:8	0:0	4	scr
op	33:12	0:0	4	==
water	33:15	0:0	4	NULL
stmts	34:4	37:4	3	
water	34:4	0:0	4	{
call	35:8	35:45	4	msg_Err
arg	35:17	35:20	5	obj
water	35:17	0:0	6	obj
arg	35:22	35:45	5	"bad X11 screen number"
water	35:22	0:0	6	"bad X11 screen number"
water	35:46	0:0	4	;
goto	36:8	36:18	4	error
water	36:13	0:0	5	error
water	37:4	0:0	4	}
call	39:4	39:18	2	AddDesktop
arg	39:16	39:18	3	sd
water	39:16	0:0	4	sd
water	39:19	0:0	2	;
water	40:4	0:0	2	p_sys
op	40:9	0:0	2	->
water	40:11	0:0	2	root_window
op	40:23	0:0	2	=
water	40:25	0:0	2	scr
op	40:28	0:0	2	->
water	40:30	0:0	2	root
water	40:34	0:0	2	;
call	41:4	42:77	2	xcb_change_window_attributes
arg	41:34	41:38	3	conn
water	41:34	0:0	4	conn
arg	41:40	41:49	3	scr->root
water	41:40	0:0	4	scr
op	41:43	0:0	4	->
water	41:45	0:0	4	root
arg	41:51	41:68	3	XCB_CW_EVENT_MASK
water	41:51	0:0	4	XCB_CW_EVENT_MASK
arg	42:31	42:77	3	&(uint32_t){XCB_EVENT_MASK_PROPERTY_CHANGE}
op	42:31	0:0	4	&
water	42:32	0:0	4	(
water	42:33	0:0	4	uint32_t
water	42:41	0:0	4	)
water	42:43	0:0	4	{
water	42:45	0:0	4	XCB_EVENT_MASK_PROPERTY_CHANGE
water	42:76	0:0	4	}
water	42:78	0:0	2	;
decl	45:4	45:30	2	xcb_intern_atom_reply_t	*r
decl	46:4	46:37	2	xcb_intern_atom_cookie_t	ncl
water	46:32	0:0	2	,
decl	46:4	46:37	2	xcb_intern_atom_cookie_t	nwn
water	47:4	0:0	2	ncl
op	47:8	0:0	2	=
call	47:10	48:44	2	xcb_intern_atom
arg	47:27	47:31	3	conn
water	47:27	0:0	4	conn
arg	47:33	47:34	3	1
water	47:33	0:0	4	1
arg	47:36	47:63	3	strlen("_NET_CLIENT_LIST")
call	47:36	47:62	4	strlen
arg	47:44	47:62	5	"_NET_CLIENT_LIST"
water	47:44	0:0	6	"_NET_CLIENT_LIST"
arg	48:26	48:44	3	"_NET_CLIENT_LIST"
water	48:26	0:0	4	"_NET_CLIENT_LIST"
water	48:45	0:0	2	;
water	49:4	0:0	2	nwn
op	49:8	0:0	2	=
call	49:10	49:75	2	xcb_intern_atom
arg	49:27	49:31	3	conn
water	49:27	0:0	4	conn
arg	49:33	49:34	3	0
water	49:33	0:0	4	0
arg	49:36	49:59	3	strlen("_NET_WM_NAME")
call	49:36	49:58	4	strlen
arg	49:44	49:58	5	"_NET_WM_NAME"
water	49:44	0:0	6	"_NET_WM_NAME"
arg	49:61	49:75	3	"_NET_WM_NAME"
water	49:61	0:0	4	"_NET_WM_NAME"
water	49:76	0:0	2	;
water	50:4	0:0	2	r
op	50:6	0:0	2	=
call	50:8	50:46	2	xcb_intern_atom_reply
arg	50:31	50:35	3	conn
water	50:31	0:0	4	conn
arg	50:37	50:40	3	ncl
water	50:37	0:0	4	ncl
arg	50:42	50:46	3	NULL
water	50:42	0:0	4	NULL
water	50:47	0:0	2	;
if	51:4	56:4	2	(r == NULL || r -> atom == 0)
cond	51:8	51:32	3	r == NULL || r -> atom == 0
water	51:8	0:0	4	r
op	51:10	0:0	4	==
water	51:13	0:0	4	NULL
op	51:18	0:0	4	||
water	51:21	0:0	4	r
op	51:22	0:0	4	->
water	51:24	0:0	4	atom
op	51:29	0:0	4	==
water	51:32	0:0	4	0
stmts	52:4	56:4	3	
water	52:4	0:0	4	{
call	53:8	54:77	4	dialog_Fatal
arg	53:22	53:24	5	sd
water	53:22	0:0	6	sd
arg	53:26	53:45	5	_("Screen capture")
call	53:26	53:44	6	_
arg	53:28	53:44	7	"Screen capture"
water	53:28	0:0	8	"Screen capture"
arg	54:12	54:77	5	_("Your window manager does not provide a list of applications.")
call	54:12	54:76	6	_
arg	54:14	54:76	7	"Your window manager does not provide a list of applications."
water	54:14	0:0	8	"Your window manager does not provide a list of applications."
water	54:78	0:0	4	;
call	55:8	55:74	4	msg_Err
arg	55:17	55:19	5	sd
water	55:17	0:0	6	sd
arg	55:21	55:74	5	"client list not supported (_NET_CLIENT_LIST absent)"
water	55:21	0:0	6	"client list not supported (_NET_CLIENT_LIST absent)"
water	55:75	0:0	4	;
water	56:4	0:0	4	}
water	57:4	0:0	2	p_sys
op	57:9	0:0	2	->
water	57:11	0:0	2	net_client_list
op	57:27	0:0	2	=
water	57:29	0:0	2	r
water	57:31	0:0	2	?
water	57:33	0:0	2	r
op	57:34	0:0	2	->
water	57:36	0:0	2	atom
water	57:41	0:0	2	:
water	57:43	0:0	2	0
water	57:44	0:0	2	;
call	58:4	58:11	2	free
arg	58:10	58:11	3	r
water	58:10	0:0	4	r
water	58:12	0:0	2	;
water	59:4	0:0	2	r
op	59:6	0:0	2	=
call	59:8	59:46	2	xcb_intern_atom_reply
arg	59:31	59:35	3	conn
water	59:31	0:0	4	conn
arg	59:37	59:40	3	nwn
water	59:37	0:0	4	nwn
arg	59:42	59:46	3	NULL
water	59:42	0:0	4	NULL
water	59:47	0:0	2	;
if	60:4	64:4	2	(r != NULL)
cond	60:8	60:13	3	r != NULL
water	60:8	0:0	4	r
op	60:10	0:0	4	!=
water	60:13	0:0	4	NULL
stmts	61:4	64:4	3	
water	61:4	0:0	4	{
water	62:8	0:0	4	p_sys
op	62:13	0:0	4	->
water	62:15	0:0	4	net_wm_name
op	62:27	0:0	4	=
water	62:29	0:0	4	r
op	62:30	0:0	4	->
water	62:32	0:0	4	atom
water	62:36	0:0	4	;
call	63:8	63:15	4	free
arg	63:14	63:15	5	r
water	63:14	0:0	6	r
water	63:16	0:0	4	;
water	64:4	0:0	4	}
water	65:4	0:0	2	p_sys
op	65:9	0:0	2	->
water	65:11	0:0	2	apps
op	65:16	0:0	2	=
water	65:18	0:0	2	NULL
water	65:22	0:0	2	;
call	66:4	66:18	2	UpdateApps
arg	66:16	66:18	3	sd
water	66:16	0:0	4	sd
water	66:19	0:0	2	;
if	67:4	68:18	2	(vlc_clone (& p_sys -> thread ,Run ,sd ,VLC_THREAD_PRIORITY_LOW ))
cond	67:8	67:67	3	vlc_clone (& p_sys -> thread ,Run ,sd ,VLC_THREAD_PRIORITY_LOW )
call	67:8	67:67	4	vlc_clone
arg	67:19	67:33	5	&p_sys->thread
op	67:19	0:0	6	&
water	67:20	0:0	6	p_sys
op	67:25	0:0	6	->
water	67:27	0:0	6	thread
arg	67:35	67:38	5	Run
water	67:35	0:0	6	Run
arg	67:40	67:42	5	sd
water	67:40	0:0	6	sd
arg	67:44	67:67	5	VLC_THREAD_PRIORITY_LOW
water	67:44	0:0	6	VLC_THREAD_PRIORITY_LOW
stmts	68:8	68:18	3	
goto	68:8	68:18	4	error
water	68:13	0:0	5	error
return	69:4	69:22	2	VLC_SUCCESS
water	69:11	0:0	3	VLC_SUCCESS
label	70:0	70:5	2	error :
call	71:4	71:31	2	xcb_disconnect
arg	71:20	71:31	3	p_sys->conn
water	71:20	0:0	4	p_sys
op	71:25	0:0	4	->
water	71:27	0:0	4	conn
water	71:32	0:0	2	;
call	72:4	72:15	2	free
arg	72:10	72:15	3	p_sys
water	72:10	0:0	4	p_sys
water	72:16	0:0	2	;
return	73:4	73:23	2	VLC_EGENERIC
water	73:11	0:0	3	VLC_EGENERIC
