func	2:0	69:0	0	static char *	svg_GetTemplate
params	2:28	0:0	1	
param	2:30	2:51	2	vlc_object_t *	p_this
stmnts	0:0	68:23	1	
decl	4:4	4:45	2	filter_t	*p_filter
op	4:23	0:0	2	=
water	4:25	0:0	2	(
water	4:27	0:0	2	filter_t
op	4:36	0:0	2	*
water	4:38	0:0	2	)
water	4:39	0:0	2	p_this
decl	5:4	5:22	2	char	*psz_filename
decl	6:4	6:22	2	char	*psz_template
decl	7:4	7:14	2	FILE	*file
water	8:4	0:0	2	psz_filename
op	8:17	0:0	2	=
call	8:19	8:68	2	var_InheritString
arg	8:38	8:46	3	p_filter
water	8:38	0:0	4	p_filter
arg	8:48	8:68	3	"svg-template-file"
water	8:48	0:0	4	"svg-template-file"
water	8:69	0:0	2	;
if	9:4	13:4	2	(! psz_filename || ( psz_filename [ 0 ] == 0 ))
cond	9:8	9:46	3	! psz_filename || ( psz_filename [ 0 ] == 0 )
op	9:8	0:0	4	!
water	9:9	0:0	4	psz_filename
op	9:22	0:0	4	||
water	9:25	0:0	4	(
water	9:26	0:0	4	psz_filename
op	9:38	0:0	4	[
water	9:39	0:0	4	0
op	9:40	0:0	4	]
op	9:42	0:0	4	==
water	9:45	0:0	4	0
water	9:46	0:0	4	)
stmts	10:4	13:4	3	
water	10:4	0:0	4	{
water	12:8	0:0	4	psz_template
op	12:21	0:0	4	=
water	12:23	0:0	4	NULL
water	12:27	0:0	4	;
water	13:4	0:0	4	}
else	14:4	57:4	2
stmts	15:4	57:4	3	
water	15:4	0:0	4	{
water	17:8	0:0	4	file
op	17:13	0:0	4	=
call	17:15	17:45	4	vlc_fopen
arg	17:26	17:38	5	psz_filename
water	17:26	0:0	6	psz_filename
arg	17:40	17:45	5	"rt"
water	17:40	0:0	6	"rt"
water	17:46	0:0	4	;
if	18:8	23:8	4	(! file)
cond	18:12	18:13	5	! file
op	18:12	0:0	6	!
water	18:13	0:0	6	file
stmts	19:8	23:8	5	
water	19:8	0:0	6	{
call	20:12	21:54	6	msg_Warn
arg	20:22	20:28	7	p_this
water	20:22	0:0	8	p_this
arg	20:30	20:68	7	"SVG template file %s does not exist."
water	20:30	0:0	8	"SVG template file %s does not exist."
arg	21:41	21:54	7	psz_filename
water	21:41	0:0	8	psz_filename
water	21:55	0:0	6	;
water	22:12	0:0	6	psz_template
op	22:25	0:0	6	=
water	22:27	0:0	6	NULL
water	22:31	0:0	6	;
water	23:8	0:0	6	}
else	24:8	56:8	4
stmts	25:8	56:8	5	
water	25:8	0:0	6	{
decl	26:12	26:25	6	struct stat	s
if	27:12	32:12	6	(fstat (fileno (file ) ,& s ))
cond	27:16	27:42	7	fstat (fileno (file ) ,& s )
call	27:16	27:42	8	fstat
arg	27:23	27:37	9	fileno(file)
call	27:23	27:36	10	fileno
arg	27:31	27:36	11	file
water	27:31	0:0	12	file
arg	27:39	27:42	9	&s
op	27:39	0:0	10	&
water	27:40	0:0	10	s
stmts	28:12	32:12	7	
water	28:12	0:0	8	{
water	31:16	0:0	8	psz_template
op	31:29	0:0	8	=
water	31:31	0:0	8	NULL
water	31:35	0:0	8	;
water	32:12	0:0	8	}
else	33:12	38:12	6
stmts	34:12	38:12	7	
if	34:12	38:12	8	(( ( signed ) s . st_size ) < 0)
cond	34:16	34:38	9	( ( signed ) s . st_size ) < 0
water	34:16	0:0	10	(
water	34:17	0:0	10	(
water	34:18	0:0	10	signed
water	34:24	0:0	10	)
water	34:25	0:0	10	s
op	34:26	0:0	10	.
water	34:27	0:0	10	st_size
water	34:34	0:0	10	)
op	34:36	0:0	10	<
water	34:38	0:0	10	0
stmts	35:12	38:12	9	
water	35:12	0:0	10	{
call	36:16	36:56	10	msg_Err
arg	36:25	36:31	11	p_this
water	36:25	0:0	12	p_this
arg	36:33	36:56	11	"SVG template too big"
water	36:33	0:0	12	"SVG template too big"
water	36:57	0:0	10	;
water	37:16	0:0	10	psz_template
op	37:29	0:0	10	=
water	37:31	0:0	10	NULL
water	37:35	0:0	10	;
water	38:12	0:0	10	}
else	39:12	54:12	6
stmts	40:12	54:12	7	
water	40:12	0:0	8	{
call	41:16	42:64	8	msg_Dbg
arg	41:25	41:31	9	p_this
water	41:25	0:0	10	p_this
arg	41:33	41:69	9	"reading %ld bytes from template %s"
water	41:33	0:0	10	"reading %ld bytes from template %s"
arg	42:25	42:49	9	(unsignedlong)s.st_size
water	42:25	0:0	10	(
water	42:26	0:0	10	unsigned
water	42:35	0:0	10	long
water	42:39	0:0	10	)
water	42:40	0:0	10	s
op	42:41	0:0	10	.
water	42:42	0:0	10	st_size
arg	42:51	42:64	9	psz_filename
water	42:51	0:0	10	psz_filename
water	42:65	0:0	8	;
water	43:16	0:0	8	psz_template
op	43:29	0:0	8	=
call	43:31	43:57	8	calloc
arg	43:39	43:40	9	1
water	43:39	0:0	10	1
arg	43:42	43:57	9	s.st_size+42
water	43:42	0:0	10	s
op	43:43	0:0	10	.
water	43:44	0:0	10	st_size
op	43:52	0:0	10	+
water	43:54	0:0	10	42
water	43:58	0:0	8	;
if	44:16	49:16	8	(! psz_template)
cond	44:20	44:21	9	! psz_template
op	44:20	0:0	10	!
water	44:21	0:0	10	psz_template
stmts	45:16	49:16	9	
water	45:16	0:0	10	{
call	46:20	46:33	10	fclose
arg	46:28	46:33	11	file
water	46:28	0:0	12	file
water	46:34	0:0	10	;
call	47:20	47:39	10	free
arg	47:26	47:39	11	psz_filename
water	47:26	0:0	12	psz_filename
water	47:40	0:0	10	;
return	48:20	48:31	10	NULL
water	48:27	0:0	11	NULL
water	49:16	0:0	10	}
if	50:16	53:16	8	(!fread (psz_template ,s . st_size ,1 ,file ))
cond	50:19	50:61	9	!fread (psz_template ,s . st_size ,1 ,file )
op	50:19	0:0	10	!
call	50:21	50:61	10	fread
arg	50:28	50:40	11	psz_template
water	50:28	0:0	12	psz_template
arg	50:42	50:51	11	s.st_size
water	50:42	0:0	12	s
op	50:43	0:0	12	.
water	50:44	0:0	12	st_size
arg	50:53	50:54	11	1
water	50:53	0:0	12	1
arg	50:56	50:61	11	file
water	50:56	0:0	12	file
stmts	51:16	53:16	9	
water	51:16	0:0	10	{
call	52:20	52:67	10	msg_Dbg
arg	52:29	52:35	11	p_this
water	52:29	0:0	12	p_this
arg	52:37	52:67	11	"No data read from template."
water	52:37	0:0	12	"No data read from template."
water	52:68	0:0	10	;
water	53:16	0:0	10	}
water	54:12	0:0	8	}
call	55:12	55:25	6	fclose
arg	55:20	55:25	7	file
water	55:20	0:0	8	file
water	55:26	0:0	6	;
water	56:8	0:0	6	}
water	57:4	0:0	4	}
call	58:4	58:23	2	free
arg	58:10	58:23	3	psz_filename
water	58:10	0:0	4	psz_filename
water	58:24	0:0	2	;
if	59:4	67:4	2	(! psz_template)
cond	59:8	59:9	3	! psz_template
op	59:8	0:0	4	!
water	59:9	0:0	4	psz_template
stmts	60:4	67:4	3	
water	60:4	0:0	4	{
water	63:8	0:0	4	psz_template
op	63:21	0:0	4	=
call	63:23	66:50	4	strdup
arg	63:31	66:50	5	"<?xml version='1.0' encoding='UTF-8' standalone='no'?> \_n<svg version='1' preserveAspectRatio='xMinYMin meet' viewBox='0 0 800 600'> \_n  <text x='10' y='560' fill='white' font-size='32'  \_n        font-family='sans-serif'>%s</text></svg>"
water	63:31	0:0	6	"<?xml version='1.0' encoding='UTF-8' standalone='no'?> \_n<svg version='1' preserveAspectRatio='xMinYMin meet' viewBox='0 0 800 600'> \_n  <text x='10' y='560' fill='white' font-size='32'  \_n        font-family='sans-serif'>%s</text></svg>"
water	66:51	0:0	4	;
water	67:4	0:0	4	}
return	68:4	68:23	2	psz_template
water	68:11	0:0	3	psz_template
