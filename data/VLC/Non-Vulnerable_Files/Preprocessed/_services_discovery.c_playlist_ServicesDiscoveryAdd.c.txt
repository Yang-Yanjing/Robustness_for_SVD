func	2:0	58:0	0	int	playlist_ServicesDiscoveryAdd
params	2:33	0:0	1	
param	2:35	2:57	2	playlist_t *	p_playlist
param	3:35	3:56	2	const char *	psz_name
stmnts	0:0	57:22	1	
decl	6:4	6:30	2	services_discovery_t	*p_sd
call	7:4	7:69	2	msg_Dbg
arg	7:13	7:23	3	p_playlist
water	7:13	0:0	4	p_playlist
arg	7:25	7:58	3	"adding services_discovery %s..."
water	7:25	0:0	4	"adding services_discovery %s..."
arg	7:60	7:69	3	psz_name
water	7:60	0:0	4	psz_name
water	7:70	0:0	2	;
water	8:4	0:0	2	p_sd
op	8:9	0:0	2	=
call	8:11	8:59	2	vlc_sd_Create
arg	8:26	8:48	3	VLC_OBJECT(p_playlist)
call	8:26	8:47	4	VLC_OBJECT
arg	8:37	8:47	5	p_playlist
water	8:37	0:0	6	p_playlist
arg	8:50	8:59	3	psz_name
water	8:50	0:0	4	psz_name
water	8:60	0:0	2	;
if	9:4	10:25	2	(! p_sd)
cond	9:8	9:9	3	! p_sd
op	9:8	0:0	4	!
water	9:9	0:0	4	p_sd
stmts	10:8	10:25	3	
return	10:8	10:25	4	VLC_ENOMEM
water	10:15	0:0	5	VLC_ENOMEM
decl	12:4	12:56	2	vlc_sd_internal_t	*p_sds
op	12:30	0:0	2	=
call	12:32	12:55	3	malloc
arg	12:40	12:55	4	sizeof(*p_sds)
op	12:40	0:0	5	sizeof
water	12:46	0:0	5	(
op	12:47	0:0	5	*
water	12:48	0:0	5	p_sds
water	12:53	0:0	5	)
if	13:4	17:4	2	(! p_sds)
cond	13:8	13:9	3	! p_sds
op	13:8	0:0	4	!
water	13:9	0:0	4	p_sds
stmts	14:4	17:4	3	
water	14:4	0:0	4	{
call	15:8	15:29	4	vlc_sd_Destroy
arg	15:24	15:29	5	p_sd
water	15:24	0:0	6	p_sd
water	15:30	0:0	4	;
return	16:8	16:25	4	VLC_ENOMEM
water	16:15	0:0	5	VLC_ENOMEM
water	17:4	0:0	4	}
decl	18:4	18:27	2	playlist_item_t	*p_node
decl	20:4	20:34	2	const char	*psz_longname
op	20:29	0:0	2	=
water	20:31	0:0	2	"?"
if	21:4	33:4	2	(p_sd -> p_cfg)
cond	21:8	21:14	3	p_sd -> p_cfg
water	21:8	0:0	4	p_sd
op	21:12	0:0	4	->
water	21:14	0:0	4	p_cfg
stmts	22:4	33:4	3	
water	22:4	0:0	4	{
decl	23:8	23:41	4	config_chain_t	*cfg
op	23:28	0:0	4	=
water	23:30	0:0	4	p_sd
op	23:34	0:0	4	->
water	23:36	0:0	4	p_cfg
while	24:8	32:8	4	(cfg)
cond	24:15	24:15	5	cfg
water	24:15	0:0	6	cfg
stmts	25:8	32:8	5	
water	25:8	0:0	6	{
if	26:12	30:12	6	(cfg -> psz_name && !strcmp (cfg -> psz_name ,"longname" ))
cond	26:16	26:68	7	cfg -> psz_name && !strcmp (cfg -> psz_name ,"longname" )
water	26:16	0:0	8	cfg
op	26:19	0:0	8	->
water	26:21	0:0	8	psz_name
op	26:30	0:0	8	&&
op	26:33	0:0	8	!
call	26:34	26:68	8	strcmp
arg	26:42	26:55	9	cfg->psz_name
water	26:42	0:0	10	cfg
op	26:45	0:0	10	->
water	26:47	0:0	10	psz_name
arg	26:57	26:68	9	"longname"
water	26:57	0:0	10	"longname"
stmts	27:12	30:12	7	
water	27:12	0:0	8	{
water	28:16	0:0	8	psz_longname
op	28:29	0:0	8	=
water	28:31	0:0	8	cfg
op	28:34	0:0	8	->
water	28:36	0:0	8	psz_value
water	28:45	0:0	8	;
break	29:16	29:21	8	
water	30:12	0:0	8	}
water	31:12	0:0	6	cfg
op	31:16	0:0	6	=
water	31:18	0:0	6	cfg
op	31:21	0:0	6	->
water	31:23	0:0	6	p_next
water	31:29	0:0	6	;
water	32:8	0:0	6	}
water	33:4	0:0	4	}
water	34:4	0:0	2	PL_LOCK
water	34:11	0:0	2	;
water	35:4	0:0	2	p_node
op	35:11	0:0	2	=
call	35:13	36:76	2	playlist_NodeCreate
arg	35:34	35:44	3	p_playlist
water	35:34	0:0	4	p_playlist
arg	35:46	35:58	3	psz_longname
water	35:46	0:0	4	psz_longname
arg	36:34	36:52	3	p_playlist->p_root
water	36:34	0:0	4	p_playlist
op	36:44	0:0	4	->
water	36:46	0:0	4	p_root
arg	36:54	36:66	3	PLAYLIST_END
water	36:54	0:0	4	PLAYLIST_END
arg	36:68	36:69	3	0
water	36:68	0:0	4	0
arg	36:71	36:76	3	NULL
water	36:71	0:0	4	NULL
water	36:77	0:0	2	;
water	37:4	0:0	2	PL_UNLOCK
water	37:13	0:0	2	;
decl	38:4	38:69	2	vlc_event_manager_t	*em
op	38:28	0:0	2	=
call	38:30	38:68	3	services_discovery_EventManager
arg	38:63	38:68	4	p_sd
water	38:63	0:0	5	p_sd
call	39:4	40:53	2	vlc_event_attach
arg	39:22	39:24	3	em
water	39:22	0:0	4	em
arg	39:26	39:56	3	vlc_ServicesDiscoveryItemAdded
water	39:26	0:0	4	vlc_ServicesDiscoveryItemAdded
arg	40:22	40:44	3	playlist_sd_item_added
water	40:22	0:0	4	playlist_sd_item_added
arg	40:46	40:53	3	p_node
water	40:46	0:0	4	p_node
water	40:54	0:0	2	;
call	41:4	42:55	2	vlc_event_attach
arg	41:22	41:24	3	em
water	41:22	0:0	4	em
arg	41:26	41:58	3	vlc_ServicesDiscoveryItemRemoved
water	41:26	0:0	4	vlc_ServicesDiscoveryItemRemoved
arg	42:22	42:46	3	playlist_sd_item_removed
water	42:22	0:0	4	playlist_sd_item_removed
arg	42:48	42:55	3	p_node
water	42:48	0:0	4	p_node
water	42:56	0:0	2	;
call	43:4	44:57	2	vlc_event_attach
arg	43:22	43:24	3	em
water	43:22	0:0	4	em
arg	43:26	43:60	3	vlc_ServicesDiscoveryItemRemoveAll
water	43:26	0:0	4	vlc_ServicesDiscoveryItemRemoveAll
arg	44:22	44:48	3	playlist_sd_item_removeall
water	44:22	0:0	4	playlist_sd_item_removeall
arg	44:50	44:57	3	p_node
water	44:50	0:0	4	p_node
water	44:58	0:0	2	;
if	45:4	50:4	2	(!vlc_sd_Start (p_sd ))
cond	45:8	45:28	3	!vlc_sd_Start (p_sd )
op	45:8	0:0	4	!
call	45:9	45:28	4	vlc_sd_Start
arg	45:23	45:28	5	p_sd
water	45:23	0:0	6	p_sd
stmts	46:4	50:4	3	
water	46:4	0:0	4	{
call	47:8	47:29	4	vlc_sd_Destroy
arg	47:24	47:29	5	p_sd
water	47:24	0:0	6	p_sd
water	47:30	0:0	4	;
call	48:8	48:20	4	free
arg	48:14	48:20	5	p_sds
water	48:14	0:0	6	p_sds
water	48:21	0:0	4	;
return	49:8	49:27	4	VLC_EGENERIC
water	49:15	0:0	5	VLC_EGENERIC
water	50:4	0:0	4	}
water	51:4	0:0	2	p_sds
op	51:9	0:0	2	->
water	51:11	0:0	2	p_sd
op	51:16	0:0	2	=
water	51:18	0:0	2	p_sd
water	51:22	0:0	2	;
water	52:4	0:0	2	p_sds
op	52:9	0:0	2	->
water	52:11	0:0	2	p_node
op	52:18	0:0	2	=
water	52:20	0:0	2	p_node
water	52:26	0:0	2	;
water	53:4	0:0	2	p_sds
op	53:9	0:0	2	->
water	53:11	0:0	2	psz_name
op	53:20	0:0	2	=
call	53:22	53:39	2	strdup
arg	53:30	53:39	3	psz_name
water	53:30	0:0	4	psz_name
water	53:40	0:0	2	;
water	54:4	0:0	2	PL_LOCK
water	54:11	0:0	2	;
call	55:4	55:79	2	TAB_APPEND
arg	55:16	55:42	3	pl_priv(p_playlist)->i_sds
call	55:16	55:34	4	pl_priv
arg	55:24	55:34	5	p_playlist
water	55:24	0:0	6	p_playlist
op	55:35	0:0	4	->
water	55:37	0:0	4	i_sds
arg	55:44	55:71	3	pl_priv(p_playlist)->pp_sds
call	55:44	55:62	4	pl_priv
arg	55:52	55:62	5	p_playlist
water	55:52	0:0	6	p_playlist
op	55:63	0:0	4	->
water	55:65	0:0	4	pp_sds
arg	55:73	55:79	3	p_sds
water	55:73	0:0	4	p_sds
water	55:80	0:0	2	;
water	56:4	0:0	2	PL_UNLOCK
water	56:13	0:0	2	;
return	57:4	57:22	2	VLC_SUCCESS
water	57:11	0:0	3	VLC_SUCCESS
