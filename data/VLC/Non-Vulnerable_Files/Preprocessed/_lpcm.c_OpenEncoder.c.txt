func	2:0	45:0	0	static int	OpenEncoder
params	2:22	0:0	1	
param	2:24	2:45	2	vlc_object_t *	p_this
stmnts	0:0	44:22	1	
decl	4:4	4:42	2	encoder_t	*p_enc
op	4:21	0:0	2	=
water	4:23	0:0	2	(
water	4:24	0:0	2	encoder_t
op	4:34	0:0	2	*
water	4:35	0:0	2	)
water	4:36	0:0	2	p_this
decl	5:4	5:24	2	encoder_sys_t	*p_sys
if	7:4	8:27	2	(p_enc -> fmt_out . i_codec != VLC_CODEC_DVD_LPCM)
cond	7:8	7:34	3	p_enc -> fmt_out . i_codec != VLC_CODEC_DVD_LPCM
water	7:8	0:0	4	p_enc
op	7:13	0:0	4	->
water	7:15	0:0	4	fmt_out
op	7:22	0:0	4	.
water	7:23	0:0	4	i_codec
op	7:31	0:0	4	!=
water	7:34	0:0	4	VLC_CODEC_DVD_LPCM
stmts	8:8	8:27	3	
return	8:8	8:27	4	VLC_EGENERIC
water	8:15	0:0	5	VLC_EGENERIC
if	9:4	16:4	2	(p_enc -> fmt_in . audio . i_rate != 48000 && p_enc -> fmt_in . audio . i_rate != 96000 && p_enc -> fmt_in . audio . i_rate != 44100 && p_enc -> fmt_in . audio . i_rate != 32000)
cond	9:8	12:38	3	p_enc -> fmt_in . audio . i_rate != 48000 && p_enc -> fmt_in . audio . i_rate != 96000 && p_enc -> fmt_in . audio . i_rate != 44100 && p_enc -> fmt_in . audio . i_rate != 32000
water	9:8	0:0	4	p_enc
op	9:13	0:0	4	->
water	9:15	0:0	4	fmt_in
op	9:21	0:0	4	.
water	9:22	0:0	4	audio
op	9:27	0:0	4	.
water	9:28	0:0	4	i_rate
op	9:35	0:0	4	!=
water	9:38	0:0	4	48000
op	9:44	0:0	4	&&
water	10:8	0:0	4	p_enc
op	10:13	0:0	4	->
water	10:15	0:0	4	fmt_in
op	10:21	0:0	4	.
water	10:22	0:0	4	audio
op	10:27	0:0	4	.
water	10:28	0:0	4	i_rate
op	10:35	0:0	4	!=
water	10:38	0:0	4	96000
op	10:44	0:0	4	&&
water	11:8	0:0	4	p_enc
op	11:13	0:0	4	->
water	11:15	0:0	4	fmt_in
op	11:21	0:0	4	.
water	11:22	0:0	4	audio
op	11:27	0:0	4	.
water	11:28	0:0	4	i_rate
op	11:35	0:0	4	!=
water	11:38	0:0	4	44100
op	11:44	0:0	4	&&
water	12:8	0:0	4	p_enc
op	12:13	0:0	4	->
water	12:15	0:0	4	fmt_in
op	12:21	0:0	4	.
water	12:22	0:0	4	audio
op	12:27	0:0	4	.
water	12:28	0:0	4	i_rate
op	12:35	0:0	4	!=
water	12:38	0:0	4	32000
stmts	13:4	16:4	3	
water	13:4	0:0	4	{
call	14:8	14:88	4	msg_Err
arg	14:17	14:22	5	p_enc
water	14:17	0:0	6	p_enc
arg	14:24	14:88	5	"DVD LPCM supports only sample rates of 48, 96, 44.1 or 32 kHz"
water	14:24	0:0	6	"DVD LPCM supports only sample rates of 48, 96, 44.1 or 32 kHz"
water	14:89	0:0	4	;
return	15:8	15:27	4	VLC_EGENERIC
water	15:15	0:0	5	VLC_EGENERIC
water	16:4	0:0	4	}
if	17:4	21:4	2	(p_enc -> fmt_in . audio . i_channels > 8)
cond	17:8	17:41	3	p_enc -> fmt_in . audio . i_channels > 8
water	17:8	0:0	4	p_enc
op	17:13	0:0	4	->
water	17:15	0:0	4	fmt_in
op	17:21	0:0	4	.
water	17:22	0:0	4	audio
op	17:27	0:0	4	.
water	17:28	0:0	4	i_channels
op	17:39	0:0	4	>
water	17:41	0:0	4	8
stmts	18:4	21:4	3	
water	18:4	0:0	4	{
call	19:8	19:72	4	msg_Err
arg	19:17	19:22	5	p_enc
water	19:17	0:0	6	p_enc
arg	19:24	19:72	5	"DVD LPCM supports a maximum of eight channels"
water	19:24	0:0	6	"DVD LPCM supports a maximum of eight channels"
water	19:73	0:0	4	;
return	20:8	20:27	4	VLC_EGENERIC
water	20:15	0:0	5	VLC_EGENERIC
water	21:4	0:0	4	}
if	23:4	25:25	2	(( p_enc -> p_sys = p_sys = ( encoder_sys_t * )malloc (sizeof ( encoder_sys_t ) ) ) == NULL)
cond	23:8	24:62	3	( p_enc -> p_sys = p_sys = ( encoder_sys_t * )malloc (sizeof ( encoder_sys_t ) ) ) == NULL
water	23:8	0:0	4	(
water	23:10	0:0	4	p_enc
op	23:15	0:0	4	->
water	23:17	0:0	4	p_sys
op	23:23	0:0	4	=
water	23:25	0:0	4	p_sys
op	23:31	0:0	4	=
water	24:10	0:0	4	(
water	24:11	0:0	4	encoder_sys_t
op	24:25	0:0	4	*
water	24:26	0:0	4	)
call	24:27	24:55	4	malloc
arg	24:34	24:55	5	sizeof(encoder_sys_t)
op	24:34	0:0	6	sizeof
water	24:40	0:0	6	(
water	24:41	0:0	6	encoder_sys_t
water	24:54	0:0	6	)
water	24:57	0:0	4	)
op	24:59	0:0	4	==
water	24:62	0:0	4	NULL
stmts	25:8	25:25	3	
return	25:8	25:25	4	VLC_ENOMEM
water	25:15	0:0	5	VLC_ENOMEM
water	27:4	0:0	2	p_sys
op	27:9	0:0	2	->
water	27:11	0:0	2	i_frame_samples
op	27:27	0:0	2	=
water	27:29	0:0	2	p_enc
op	27:34	0:0	2	->
water	27:36	0:0	2	fmt_in
op	27:42	0:0	2	.
water	27:43	0:0	2	audio
op	27:48	0:0	2	.
water	27:49	0:0	2	i_rate
op	27:56	0:0	2	*
water	27:58	0:0	2	150
op	27:62	0:0	2	/
water	27:64	0:0	2	90000
water	27:69	0:0	2	;
water	28:4	0:0	2	p_sys
op	28:9	0:0	2	->
water	28:11	0:0	2	p_buffer
op	28:20	0:0	2	=
call	28:22	29:65	2	xmalloc
arg	28:30	29:65	3	p_sys->i_frame_samples*p_enc->fmt_in.audio.i_channels*16
water	28:30	0:0	4	p_sys
op	28:35	0:0	4	->
water	28:37	0:0	4	i_frame_samples
op	29:28	0:0	4	*
water	29:30	0:0	4	p_enc
op	29:35	0:0	4	->
water	29:37	0:0	4	fmt_in
op	29:43	0:0	4	.
water	29:44	0:0	4	audio
op	29:49	0:0	4	.
water	29:50	0:0	4	i_channels
op	29:61	0:0	4	*
water	29:63	0:0	4	16
water	29:66	0:0	2	;
water	30:4	0:0	2	p_sys
op	30:9	0:0	2	->
water	30:11	0:0	2	i_buffer_used
op	30:25	0:0	2	=
water	30:27	0:0	2	0
water	30:28	0:0	2	;
water	31:4	0:0	2	p_sys
op	31:9	0:0	2	->
water	31:11	0:0	2	i_frame_num
op	31:23	0:0	2	=
water	31:25	0:0	2	0
water	31:26	0:0	2	;
water	32:4	0:0	2	p_sys
op	32:9	0:0	2	->
water	32:11	0:0	2	i_channels
op	32:22	0:0	2	=
water	32:24	0:0	2	p_enc
op	32:29	0:0	2	->
water	32:31	0:0	2	fmt_in
op	32:37	0:0	2	.
water	32:38	0:0	2	audio
op	32:43	0:0	2	.
water	32:44	0:0	2	i_channels
water	32:54	0:0	2	;
water	33:4	0:0	2	p_sys
op	33:9	0:0	2	->
water	33:11	0:0	2	i_rate
op	33:18	0:0	2	=
water	33:20	0:0	2	p_enc
op	33:25	0:0	2	->
water	33:27	0:0	2	fmt_in
op	33:33	0:0	2	.
water	33:34	0:0	2	audio
op	33:39	0:0	2	.
water	33:40	0:0	2	i_rate
water	33:46	0:0	2	;
water	34:4	0:0	2	p_enc
op	34:9	0:0	2	->
water	34:11	0:0	2	pf_encode_audio
op	34:27	0:0	2	=
water	34:29	0:0	2	EncodeFrames
water	34:41	0:0	2	;
water	35:4	0:0	2	p_enc
op	35:9	0:0	2	->
water	35:11	0:0	2	fmt_in
op	35:17	0:0	2	.
water	35:18	0:0	2	i_codec
op	35:26	0:0	2	=
water	35:28	0:0	2	p_enc
op	35:33	0:0	2	->
water	35:35	0:0	2	fmt_out
op	35:42	0:0	2	.
water	35:43	0:0	2	i_codec
water	35:50	0:0	2	;
water	36:4	0:0	2	p_enc
op	36:9	0:0	2	->
water	36:11	0:0	2	fmt_in
op	36:17	0:0	2	.
water	36:18	0:0	2	audio
op	36:23	0:0	2	.
water	36:24	0:0	2	i_bitspersample
op	36:40	0:0	2	=
water	36:42	0:0	2	16
water	36:44	0:0	2	;
water	37:4	0:0	2	p_enc
op	37:9	0:0	2	->
water	37:11	0:0	2	fmt_in
op	37:17	0:0	2	.
water	37:18	0:0	2	i_codec
op	37:26	0:0	2	=
water	37:28	0:0	2	VLC_CODEC_S16N
water	37:42	0:0	2	;
water	38:4	0:0	2	p_enc
op	38:9	0:0	2	->
water	38:11	0:0	2	fmt_out
op	38:18	0:0	2	.
water	38:19	0:0	2	i_bitrate
op	38:29	0:0	2	=
water	39:8	0:0	2	p_enc
op	39:13	0:0	2	->
water	39:15	0:0	2	fmt_in
op	39:21	0:0	2	.
water	39:22	0:0	2	audio
op	39:27	0:0	2	.
water	39:28	0:0	2	i_channels
op	39:39	0:0	2	*
water	40:8	0:0	2	p_enc
op	40:13	0:0	2	->
water	40:15	0:0	2	fmt_in
op	40:21	0:0	2	.
water	40:22	0:0	2	audio
op	40:27	0:0	2	.
water	40:28	0:0	2	i_rate
op	40:35	0:0	2	*
water	41:8	0:0	2	p_enc
op	41:13	0:0	2	->
water	41:15	0:0	2	fmt_in
op	41:21	0:0	2	.
water	41:22	0:0	2	audio
op	41:27	0:0	2	.
water	41:28	0:0	2	i_bitspersample
op	41:44	0:0	2	*
water	42:8	0:0	2	(
water	42:9	0:0	2	p_sys
op	42:14	0:0	2	->
water	42:16	0:0	2	i_frame_samples
op	42:32	0:0	2	+
water	42:34	0:0	2	LPCM_VOB_HEADER_LEN
water	42:53	0:0	2	)
op	42:55	0:0	2	/
water	43:8	0:0	2	p_sys
op	43:13	0:0	2	->
water	43:15	0:0	2	i_frame_samples
water	43:30	0:0	2	;
return	44:4	44:22	2	VLC_SUCCESS
water	44:11	0:0	3	VLC_SUCCESS
