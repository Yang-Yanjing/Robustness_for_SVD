func	2:0	38:0	0	static VdpStatus	vdp_instance_create
params	2:36	0:0	1	
param	2:37	2:53	2	const char *	name
param	2:55	2:62	2	int	num
param	3:37	3:56	2	vdp_instance_t * *	pp
stmnts	0:0	37:24	1	
decl	5:4	5:60	2	size_t	namelen
op	5:19	0:0	2	=
water	5:21	0:0	2	(
water	5:22	0:0	2	name
op	5:27	0:0	2	!=
water	5:30	0:0	2	NULL
water	5:34	0:0	2	)
water	5:36	0:0	2	?
water	5:38	0:0	2	(
call	5:39	5:50	3	strlen
arg	5:46	5:50	4	name
water	5:46	0:0	5	name
op	5:52	0:0	2	+
water	5:54	0:0	2	1
water	5:55	0:0	2	)
water	5:57	0:0	2	:
water	5:59	0:0	2	0
decl	6:4	6:55	2	vdp_instance_t	*vi
op	6:23	0:0	2	=
call	6:25	6:54	3	malloc
arg	6:32	6:54	4	sizeof(*vi)+namelen
op	6:32	0:0	5	sizeof
water	6:39	0:0	5	(
op	6:40	0:0	5	*
water	6:41	0:0	5	vi
water	6:43	0:0	5	)
op	6:45	0:0	5	+
water	6:47	0:0	5	namelen
if	7:4	8:35	2	(unlikely (vi == NULL ))
cond	7:8	7:27	3	unlikely (vi == NULL )
call	7:8	7:27	4	unlikely
arg	7:17	7:27	5	vi==NULL
water	7:17	0:0	6	vi
op	7:20	0:0	6	==
water	7:23	0:0	6	NULL
stmts	8:8	8:35	3	
return	8:8	8:35	4	VDP_STATUS_RESOURCES
water	8:15	0:0	5	VDP_STATUS_RESOURCES
water	9:4	0:0	2	vi
op	9:6	0:0	2	->
water	9:8	0:0	2	display
op	9:16	0:0	2	=
call	9:18	9:35	2	XOpenDisplay
arg	9:31	9:35	3	name
water	9:31	0:0	4	name
water	9:36	0:0	2	;
if	10:4	14:4	2	(vi -> display == NULL)
cond	10:8	10:23	3	vi -> display == NULL
water	10:8	0:0	4	vi
op	10:10	0:0	4	->
water	10:12	0:0	4	display
op	10:20	0:0	4	==
water	10:23	0:0	4	NULL
stmts	11:4	14:4	3	
water	11:4	0:0	4	{
call	12:8	12:15	4	free
arg	12:13	12:15	5	vi
water	12:13	0:0	6	vi
water	12:16	0:0	4	;
return	13:8	13:31	4	VDP_STATUS_ERROR
water	13:15	0:0	5	VDP_STATUS_ERROR
water	14:4	0:0	4	}
water	15:4	0:0	2	vi
op	15:6	0:0	2	->
water	15:8	0:0	2	next
op	15:13	0:0	2	=
water	15:15	0:0	2	NULL
water	15:19	0:0	2	;
if	16:4	20:4	2	(name != NULL)
cond	16:8	16:16	3	name != NULL
water	16:8	0:0	4	name
op	16:13	0:0	4	!=
water	16:16	0:0	4	NULL
stmts	17:4	20:4	3	
water	17:4	0:0	4	{
water	18:8	0:0	4	vi
op	18:10	0:0	4	->
water	18:12	0:0	4	name
op	18:17	0:0	4	=
call	18:19	18:34	4	(void*)
arg	18:28	18:34	5	vi+1
water	18:28	0:0	6	vi
op	18:31	0:0	6	+
water	18:33	0:0	6	1
water	18:35	0:0	4	;
call	19:8	19:38	4	memcpy
arg	19:15	19:23	5	vi->name
water	19:15	0:0	6	vi
op	19:17	0:0	6	->
water	19:19	0:0	6	name
arg	19:25	19:29	5	name
water	19:25	0:0	6	name
arg	19:31	19:38	5	namelen
water	19:31	0:0	6	namelen
water	19:39	0:0	4	;
water	20:4	0:0	4	}
else	21:4	22:23	2
stmts	22:8	22:23	3	
water	22:8	0:0	4	vi
op	22:10	0:0	4	->
water	22:12	0:0	4	name
op	22:17	0:0	4	=
water	22:19	0:0	4	NULL
water	22:23	0:0	4	;
if	23:4	24:21	2	(num >= 0)
cond	23:8	23:15	3	num >= 0
water	23:8	0:0	4	num
op	23:12	0:0	4	>=
water	23:15	0:0	4	0
stmts	24:8	24:21	3	
water	24:8	0:0	4	vi
op	24:10	0:0	4	->
water	24:12	0:0	4	num
op	24:16	0:0	4	=
water	24:18	0:0	4	num
water	24:21	0:0	4	;
else	25:4	26:45	2
stmts	26:8	26:45	3	
water	26:8	0:0	4	vi
op	26:10	0:0	4	->
water	26:12	0:0	4	num
op	26:16	0:0	4	=
call	26:18	26:44	4	XDefaultScreen
arg	26:33	26:44	5	vi->display
water	26:33	0:0	6	vi
op	26:35	0:0	6	->
water	26:37	0:0	6	display
water	26:45	0:0	4	;
water	27:4	0:0	2	vi
op	27:6	0:0	2	->
water	27:8	0:0	2	refs
op	27:13	0:0	2	=
water	27:15	0:0	2	1
water	27:16	0:0	2	;
decl	28:4	29:57	2	VdpStatus	err
op	28:18	0:0	2	=
call	28:20	29:56	3	vdp_create_x11
arg	28:35	28:46	4	vi->display
water	28:35	0:0	5	vi
op	28:37	0:0	5	->
water	28:39	0:0	5	display
arg	28:48	28:55	4	vi->num
water	28:48	0:0	5	vi
op	28:50	0:0	5	->
water	28:52	0:0	5	num
arg	29:35	29:43	4	&vi->vdp
op	29:35	0:0	5	&
water	29:36	0:0	5	vi
op	29:38	0:0	5	->
water	29:40	0:0	5	vdp
arg	29:45	29:56	4	&vi->device
op	29:45	0:0	5	&
water	29:46	0:0	5	vi
op	29:48	0:0	5	->
water	29:50	0:0	5	device
if	30:4	35:4	2	(err != VDP_STATUS_OK)
cond	30:8	30:15	3	err != VDP_STATUS_OK
water	30:8	0:0	4	err
op	30:12	0:0	4	!=
water	30:15	0:0	4	VDP_STATUS_OK
stmts	31:4	35:4	3	
water	31:4	0:0	4	{
call	32:8	32:33	4	XCloseDisplay
arg	32:22	32:33	5	vi->display
water	32:22	0:0	6	vi
op	32:24	0:0	6	->
water	32:26	0:0	6	display
water	32:34	0:0	4	;
call	33:8	33:15	4	free
arg	33:13	33:15	5	vi
water	33:13	0:0	6	vi
water	33:16	0:0	4	;
return	34:8	34:18	4	err
water	34:15	0:0	5	err
water	35:4	0:0	4	}
op	36:4	0:0	2	*
water	36:5	0:0	2	pp
op	36:8	0:0	2	=
water	36:10	0:0	2	vi
water	36:12	0:0	2	;
return	37:4	37:24	2	VDP_STATUS_OK
water	37:11	0:0	3	VDP_STATUS_OK
