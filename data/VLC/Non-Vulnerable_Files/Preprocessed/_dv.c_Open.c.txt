func	2:0	90:0	0	static int	Open
params	2:15	0:0	1	
param	2:17	2:38	2	vlc_object_t *	p_this
stmnts	0:0	89:22	1	
decl	4:4	4:46	2	access_t	*p_access
op	4:27	0:0	2	=
water	4:29	0:0	2	(
water	4:30	0:0	2	access_t
op	4:38	0:0	2	*
water	4:39	0:0	2	)
water	4:40	0:0	2	p_this
decl	5:4	5:23	2	access_sys_t	*p_sys
decl	6:4	6:42	2	struct raw1394_portinfo	port_inf[16]
call	7:4	7:40	2	msg_Dbg
arg	7:13	7:21	3	p_access
water	7:13	0:0	4	p_access
arg	7:23	7:40	3	"opening device"
water	7:23	0:0	4	"opening device"
water	7:41	0:0	2	;
call	9:4	9:32	2	access_InitFields
arg	9:23	9:32	3	p_access
water	9:23	0:0	4	p_access
water	9:33	0:0	2	;
call	10:4	10:53	2	ACCESS_SET_CALLBACKS
arg	10:26	10:30	3	NULL
water	10:26	0:0	4	NULL
arg	10:32	10:37	3	Block
water	10:32	0:0	4	Block
arg	10:39	10:46	3	Control
water	10:39	0:0	4	Control
arg	10:48	10:53	3	NULL
water	10:48	0:0	4	NULL
water	10:54	0:0	2	;
water	11:4	0:0	2	p_access
op	11:12	0:0	2	->
water	11:14	0:0	2	p_sys
op	11:20	0:0	2	=
water	11:22	0:0	2	p_sys
op	11:28	0:0	2	=
call	11:30	11:61	2	malloc
arg	11:38	11:61	3	sizeof(access_sys_t)
op	11:38	0:0	4	sizeof
water	11:44	0:0	4	(
water	11:46	0:0	4	access_sys_t
water	11:59	0:0	4	)
water	11:62	0:0	2	;
if	12:4	13:27	2	(! p_sys)
cond	12:8	12:9	3	! p_sys
op	12:8	0:0	4	!
water	12:9	0:0	4	p_sys
stmts	13:8	13:27	3	
return	13:8	13:27	4	VLC_EGENERIC
water	13:15	0:0	5	VLC_EGENERIC
water	14:4	0:0	2	p_sys
op	14:9	0:0	2	->
water	14:11	0:0	2	i_cards
op	14:19	0:0	2	=
water	14:21	0:0	2	0
water	14:22	0:0	2	;
water	15:4	0:0	2	p_sys
op	15:9	0:0	2	->
water	15:11	0:0	2	i_node
op	15:18	0:0	2	=
water	15:20	0:0	2	0
water	15:21	0:0	2	;
water	16:4	0:0	2	p_sys
op	16:9	0:0	2	->
water	16:11	0:0	2	i_port
op	16:18	0:0	2	=
water	16:20	0:0	2	0
water	16:21	0:0	2	;
water	17:4	0:0	2	p_sys
op	17:9	0:0	2	->
water	17:11	0:0	2	i_guid
op	17:18	0:0	2	=
water	17:20	0:0	2	0
water	17:21	0:0	2	;
water	18:4	0:0	2	p_sys
op	18:9	0:0	2	->
water	18:11	0:0	2	i_channel
op	18:21	0:0	2	=
water	18:23	0:0	2	63
water	18:25	0:0	2	;
water	19:4	0:0	2	p_sys
op	19:9	0:0	2	->
water	19:11	0:0	2	p_raw1394
op	19:21	0:0	2	=
water	19:23	0:0	2	NULL
water	19:27	0:0	2	;
water	20:4	0:0	2	p_sys
op	20:9	0:0	2	->
water	20:11	0:0	2	p_avc1394
op	20:21	0:0	2	=
water	20:23	0:0	2	NULL
water	20:27	0:0	2	;
water	21:4	0:0	2	p_sys
op	21:9	0:0	2	->
water	21:11	0:0	2	p_frame
op	21:19	0:0	2	=
water	21:21	0:0	2	NULL
water	21:25	0:0	2	;
water	22:4	0:0	2	p_sys
op	22:9	0:0	2	->
water	22:11	0:0	2	p_ev
op	22:16	0:0	2	=
water	22:18	0:0	2	NULL
water	22:22	0:0	2	;
call	23:4	23:33	2	vlc_mutex_init
arg	23:20	23:33	3	&p_sys->lock
op	23:20	0:0	4	&
water	23:21	0:0	4	p_sys
op	23:26	0:0	4	->
water	23:28	0:0	4	lock
water	23:34	0:0	2	;
water	24:4	0:0	2	p_sys
op	24:9	0:0	2	->
water	24:11	0:0	2	i_node
op	24:18	0:0	2	=
call	24:20	24:73	2	DiscoverAVC
arg	24:33	24:41	3	p_access
water	24:33	0:0	4	p_access
arg	24:43	24:57	3	&p_sys->i_port
op	24:43	0:0	4	&
water	24:44	0:0	4	p_sys
op	24:49	0:0	4	->
water	24:51	0:0	4	i_port
arg	24:59	24:73	3	p_sys->i_guid
water	24:59	0:0	4	p_sys
op	24:64	0:0	4	->
water	24:66	0:0	4	i_guid
water	24:74	0:0	2	;
if	25:4	30:4	2	(p_sys -> i_node < 0)
cond	25:8	25:24	3	p_sys -> i_node < 0
water	25:8	0:0	4	p_sys
op	25:13	0:0	4	->
water	25:15	0:0	4	i_node
op	25:22	0:0	4	<
water	25:24	0:0	4	0
stmts	26:4	30:4	3	
water	26:4	0:0	4	{
call	27:8	27:77	4	msg_Err
arg	27:17	27:25	5	p_access
water	27:17	0:0	6	p_access
arg	27:27	27:77	5	"failed to open a Firewire (IEEE1394) connection"
water	27:27	0:0	6	"failed to open a Firewire (IEEE1394) connection"
water	27:78	0:0	4	;
call	28:8	28:22	4	Close
arg	28:15	28:22	5	p_this
water	28:15	0:0	6	p_this
water	28:23	0:0	4	;
return	29:8	29:27	4	VLC_EGENERIC
water	29:15	0:0	5	VLC_EGENERIC
water	30:4	0:0	4	}
water	31:4	0:0	2	p_sys
op	31:9	0:0	2	->
water	31:11	0:0	2	p_avc1394
op	31:21	0:0	2	=
call	31:23	31:56	2	AVCOpen
arg	31:32	31:40	3	p_access
water	31:32	0:0	4	p_access
arg	31:42	31:56	3	p_sys->i_port
water	31:42	0:0	4	p_sys
op	31:47	0:0	4	->
water	31:49	0:0	4	i_port
water	31:57	0:0	2	;
if	32:4	37:4	2	(! p_sys -> p_avc1394)
cond	32:8	32:16	3	! p_sys -> p_avc1394
op	32:8	0:0	4	!
water	32:9	0:0	4	p_sys
op	32:14	0:0	4	->
water	32:16	0:0	4	p_avc1394
stmts	33:4	37:4	3	
water	33:4	0:0	4	{
call	34:8	34:67	4	msg_Err
arg	34:17	34:25	5	p_access
water	34:17	0:0	6	p_access
arg	34:27	34:67	5	"no Digital Video Control device found"
water	34:27	0:0	6	"no Digital Video Control device found"
water	34:68	0:0	4	;
call	35:8	35:22	4	Close
arg	35:15	35:22	5	p_this
water	35:15	0:0	6	p_this
water	35:23	0:0	4	;
return	36:8	36:27	4	VLC_EGENERIC
water	36:15	0:0	5	VLC_EGENERIC
water	37:4	0:0	4	}
water	38:4	0:0	2	p_sys
op	38:9	0:0	2	->
water	38:11	0:0	2	p_raw1394
op	38:21	0:0	2	=
call	38:23	38:42	2	raw1394_new_handle
water	38:43	0:0	2	;
if	39:4	44:4	2	(! p_sys -> p_raw1394)
cond	39:8	39:16	3	! p_sys -> p_raw1394
op	39:8	0:0	4	!
water	39:9	0:0	4	p_sys
op	39:14	0:0	4	->
water	39:16	0:0	4	p_raw1394
stmts	40:4	44:4	3	
water	40:4	0:0	4	{
call	41:8	41:59	4	msg_Err
arg	41:17	41:25	5	p_access
water	41:17	0:0	6	p_access
arg	41:27	41:59	5	"no Digital Video device found"
water	41:27	0:0	6	"no Digital Video device found"
water	41:60	0:0	4	;
call	42:8	42:22	4	Close
arg	42:15	42:22	5	p_this
water	42:15	0:0	6	p_this
water	42:23	0:0	4	;
return	43:8	43:27	4	VLC_EGENERIC
water	43:15	0:0	5	VLC_EGENERIC
water	44:4	0:0	4	}
water	45:4	0:0	2	p_sys
op	45:9	0:0	2	->
water	45:11	0:0	2	i_cards
op	45:19	0:0	2	=
call	45:21	45:75	2	raw1394_get_port_info
arg	45:44	45:60	3	p_sys->p_raw1394
water	45:44	0:0	4	p_sys
op	45:49	0:0	4	->
water	45:51	0:0	4	p_raw1394
arg	45:62	45:70	3	port_inf
water	45:62	0:0	4	port_inf
arg	45:72	45:75	3	16
water	45:72	0:0	4	16
water	45:76	0:0	2	;
if	46:4	51:4	2	(p_sys -> i_cards < 0)
cond	46:8	46:25	3	p_sys -> i_cards < 0
water	46:8	0:0	4	p_sys
op	46:13	0:0	4	->
water	46:15	0:0	4	i_cards
op	46:23	0:0	4	<
water	46:25	0:0	4	0
stmts	47:4	51:4	3	
water	47:4	0:0	4	{
call	48:8	48:53	4	msg_Err
arg	48:17	48:25	5	p_access
water	48:17	0:0	6	p_access
arg	48:27	48:53	5	"failed to get port info"
water	48:27	0:0	6	"failed to get port info"
water	48:54	0:0	4	;
call	49:8	49:22	4	Close
arg	49:15	49:22	5	p_this
water	49:15	0:0	6	p_this
water	49:23	0:0	4	;
return	50:8	50:27	4	VLC_EGENERIC
water	50:15	0:0	5	VLC_EGENERIC
water	51:4	0:0	4	}
if	52:4	57:4	2	(raw1394_set_port (p_sys -> p_raw1394 ,p_sys -> i_port ) < 0)
cond	52:8	52:62	3	raw1394_set_port (p_sys -> p_raw1394 ,p_sys -> i_port ) < 0
call	52:8	52:58	4	raw1394_set_port
arg	52:26	52:42	5	p_sys->p_raw1394
water	52:26	0:0	6	p_sys
op	52:31	0:0	6	->
water	52:33	0:0	6	p_raw1394
arg	52:44	52:58	5	p_sys->i_port
water	52:44	0:0	6	p_sys
op	52:49	0:0	6	->
water	52:51	0:0	6	i_port
op	52:60	0:0	4	<
water	52:62	0:0	4	0
stmts	53:4	57:4	3	
water	53:4	0:0	4	{
call	54:8	54:53	4	msg_Err
arg	54:17	54:25	5	p_access
water	54:17	0:0	6	p_access
arg	54:27	54:53	5	"failed to set port info"
water	54:27	0:0	6	"failed to set port info"
water	54:54	0:0	4	;
call	55:8	55:22	4	Close
arg	55:15	55:22	5	p_this
water	55:15	0:0	6	p_this
water	55:23	0:0	4	;
return	56:8	56:27	4	VLC_EGENERIC
water	56:15	0:0	5	VLC_EGENERIC
water	57:4	0:0	4	}
if	58:4	65:4	2	(raw1394_iso_recv_init (p_sys -> p_raw1394 ,Raw1394Handler ,ISOCHRONOUS_QUEUE_LENGTH ,ISOCHRONOUS_MAX_PACKET_SIZE ,p_sys -> i_channel ,RAW1394_DMA_PACKET_PER_BUFFER ,- 1 ) < 0)
cond	58:9	60:72	3	raw1394_iso_recv_init (p_sys -> p_raw1394 ,Raw1394Handler ,ISOCHRONOUS_QUEUE_LENGTH ,ISOCHRONOUS_MAX_PACKET_SIZE ,p_sys -> i_channel ,RAW1394_DMA_PACKET_PER_BUFFER ,- 1 ) < 0
call	58:9	60:68	4	raw1394_iso_recv_init
arg	58:32	58:48	5	p_sys->p_raw1394
water	58:32	0:0	6	p_sys
op	58:37	0:0	6	->
water	58:39	0:0	6	p_raw1394
arg	58:50	58:64	5	Raw1394Handler
water	58:50	0:0	6	Raw1394Handler
arg	59:16	59:40	5	ISOCHRONOUS_QUEUE_LENGTH
water	59:16	0:0	6	ISOCHRONOUS_QUEUE_LENGTH
arg	59:42	59:69	5	ISOCHRONOUS_MAX_PACKET_SIZE
water	59:42	0:0	6	ISOCHRONOUS_MAX_PACKET_SIZE
arg	60:16	60:32	5	p_sys->i_channel
water	60:16	0:0	6	p_sys
op	60:21	0:0	6	->
water	60:23	0:0	6	i_channel
arg	60:34	60:63	5	RAW1394_DMA_PACKET_PER_BUFFER
water	60:34	0:0	6	RAW1394_DMA_PACKET_PER_BUFFER
arg	60:65	60:68	5	-1
op	60:65	0:0	6	-
water	60:66	0:0	6	1
op	60:70	0:0	4	<
water	60:72	0:0	4	0
stmts	61:4	65:4	3	
water	61:4	0:0	4	{
call	62:8	62:61	4	msg_Err
arg	62:17	62:25	5	p_access
water	62:17	0:0	6	p_access
arg	62:27	62:61	5	"failed to init isochronous recv"
water	62:27	0:0	6	"failed to init isochronous recv"
water	62:62	0:0	4	;
call	63:8	63:22	4	Close
arg	63:15	63:22	5	p_this
water	63:15	0:0	6	p_this
water	63:23	0:0	4	;
return	64:8	64:27	4	VLC_EGENERIC
water	64:15	0:0	5	VLC_EGENERIC
water	65:4	0:0	4	}
call	66:4	66:53	2	raw1394_set_userdata
arg	66:26	66:42	3	p_sys->p_raw1394
water	66:26	0:0	4	p_sys
op	66:31	0:0	4	->
water	66:33	0:0	4	p_raw1394
arg	66:44	66:53	3	p_access
water	66:44	0:0	4	p_access
water	66:54	0:0	2	;
call	67:4	67:56	2	raw1394_iso_recv_start
arg	67:28	67:44	3	p_sys->p_raw1394
water	67:28	0:0	4	p_sys
op	67:33	0:0	4	->
water	67:35	0:0	4	p_raw1394
arg	67:46	67:48	3	-1
op	67:46	0:0	4	-
water	67:47	0:0	4	1
arg	67:50	67:52	3	-1
op	67:50	0:0	4	-
water	67:51	0:0	4	1
arg	67:54	67:56	3	0
water	67:54	0:0	4	0
water	67:57	0:0	2	;
water	68:4	0:0	2	p_sys
op	68:9	0:0	2	->
water	68:11	0:0	2	raw1394_poll
op	68:23	0:0	2	.
water	68:24	0:0	2	fd
op	68:27	0:0	2	=
call	68:29	68:62	2	raw1394_get_fd
arg	68:45	68:62	3	p_sys->p_raw1394
water	68:45	0:0	4	p_sys
op	68:50	0:0	4	->
water	68:52	0:0	4	p_raw1394
water	68:63	0:0	2	;
water	69:4	0:0	2	p_sys
op	69:9	0:0	2	->
water	69:11	0:0	2	raw1394_poll
op	69:23	0:0	2	.
water	69:24	0:0	2	events
op	69:31	0:0	2	=
water	69:33	0:0	2	POLLIN
op	69:40	0:0	2	|
water	69:42	0:0	2	POLLPRI
water	69:49	0:0	2	;
water	71:4	0:0	2	p_sys
op	71:9	0:0	2	->
water	71:11	0:0	2	p_ev
op	71:16	0:0	2	=
call	71:18	71:52	2	calloc
arg	71:26	71:27	3	1
water	71:26	0:0	4	1
arg	71:29	71:52	3	sizeof(*p_sys->p_ev)
op	71:29	0:0	4	sizeof
water	71:35	0:0	4	(
op	71:37	0:0	4	*
water	71:38	0:0	4	p_sys
op	71:43	0:0	4	->
water	71:45	0:0	4	p_ev
water	71:50	0:0	4	)
water	71:53	0:0	2	;
if	72:4	77:4	2	(! p_sys -> p_ev)
cond	72:8	72:16	3	! p_sys -> p_ev
op	72:8	0:0	4	!
water	72:9	0:0	4	p_sys
op	72:14	0:0	4	->
water	72:16	0:0	4	p_ev
stmts	73:4	77:4	3	
water	73:4	0:0	4	{
call	74:8	74:66	4	msg_Err
arg	74:17	74:25	5	p_access
water	74:17	0:0	6	p_access
arg	74:27	74:66	5	"failed to create event thread struct"
water	74:27	0:0	6	"failed to create event thread struct"
water	74:67	0:0	4	;
call	75:8	75:22	4	Close
arg	75:15	75:22	5	p_this
water	75:15	0:0	6	p_this
water	75:23	0:0	4	;
return	76:8	76:25	4	VLC_ENOMEM
water	76:15	0:0	5	VLC_ENOMEM
water	77:4	0:0	4	}
water	78:4	0:0	2	p_sys
op	78:9	0:0	2	->
water	78:11	0:0	2	p_ev
op	78:15	0:0	2	->
water	78:17	0:0	2	p_frame
op	78:25	0:0	2	=
water	78:27	0:0	2	NULL
water	78:31	0:0	2	;
water	79:4	0:0	2	p_sys
op	79:9	0:0	2	->
water	79:11	0:0	2	p_ev
op	79:15	0:0	2	->
water	79:17	0:0	2	pp_last
op	79:25	0:0	2	=
op	79:27	0:0	2	&
water	79:28	0:0	2	p_sys
op	79:33	0:0	2	->
water	79:35	0:0	2	p_ev
op	79:39	0:0	2	->
water	79:41	0:0	2	p_frame
water	79:48	0:0	2	;
water	80:4	0:0	2	p_sys
op	80:9	0:0	2	->
water	80:11	0:0	2	p_ev
op	80:15	0:0	2	->
water	80:17	0:0	2	p_access
op	80:26	0:0	2	=
water	80:28	0:0	2	p_access
water	80:36	0:0	2	;
call	81:4	81:39	2	vlc_mutex_init
arg	81:20	81:39	3	&p_sys->p_ev->lock
op	81:20	0:0	4	&
water	81:21	0:0	4	p_sys
op	81:26	0:0	4	->
water	81:28	0:0	4	p_ev
op	81:32	0:0	4	->
water	81:34	0:0	4	lock
water	81:40	0:0	2	;
if	82:4	88:4	2	(vlc_clone (& p_sys -> p_ev -> thread ,Raw1394EventThread ,p_sys -> p_ev ,VLC_THREAD_PRIORITY_OUTPUT ))
cond	82:8	83:55	3	vlc_clone (& p_sys -> p_ev -> thread ,Raw1394EventThread ,p_sys -> p_ev ,VLC_THREAD_PRIORITY_OUTPUT )
call	82:8	83:55	4	vlc_clone
arg	82:19	82:39	5	&p_sys->p_ev->thread
op	82:19	0:0	6	&
water	82:20	0:0	6	p_sys
op	82:25	0:0	6	->
water	82:27	0:0	6	p_ev
op	82:31	0:0	6	->
water	82:33	0:0	6	thread
arg	82:41	82:59	5	Raw1394EventThread
water	82:41	0:0	6	Raw1394EventThread
arg	83:15	83:26	5	p_sys->p_ev
water	83:15	0:0	6	p_sys
op	83:20	0:0	6	->
water	83:22	0:0	6	p_ev
arg	83:28	83:55	5	VLC_THREAD_PRIORITY_OUTPUT
water	83:28	0:0	6	VLC_THREAD_PRIORITY_OUTPUT
stmts	84:4	88:4	3	
water	84:4	0:0	4	{
call	85:8	85:58	4	msg_Err
arg	85:17	85:25	5	p_access
water	85:17	0:0	6	p_access
arg	85:27	85:58	5	"failed to clone event thread"
water	85:27	0:0	6	"failed to clone event thread"
water	85:59	0:0	4	;
call	86:8	86:22	4	Close
arg	86:15	86:22	5	p_this
water	86:15	0:0	6	p_this
water	86:23	0:0	4	;
return	87:8	87:27	4	VLC_EGENERIC
water	87:15	0:0	5	VLC_EGENERIC
water	88:4	0:0	4	}
return	89:4	89:22	2	VLC_SUCCESS
water	89:11	0:0	3	VLC_SUCCESS
