func	2:0	20:0	0	static int	GetLuminanceAvg
params	2:26	0:0	1	
param	2:28	2:45	2	picture_t *	p_pic
stmnts	0:0	19:37	1	
decl	4:4	4:54	2	uint8_t	*p_yplane_out
op	4:26	0:0	2	=
water	4:28	0:0	2	p_pic
op	4:33	0:0	2	->
water	4:35	0:0	2	p
op	4:36	0:0	2	[
water	4:37	0:0	2	Y_PLANE
op	4:44	0:0	2	]
op	4:45	0:0	2	.
water	4:46	0:0	2	p_pixels
decl	5:4	5:55	2	int	i_num_lines
op	5:20	0:0	2	=
water	5:22	0:0	2	p_pic
op	5:27	0:0	2	->
water	5:29	0:0	2	p
op	5:30	0:0	2	[
water	5:31	0:0	2	Y_PLANE
op	5:38	0:0	2	]
op	5:39	0:0	2	.
water	5:40	0:0	2	i_visible_lines
decl	6:4	6:54	2	int	i_num_cols
op	6:19	0:0	2	=
water	6:21	0:0	2	p_pic
op	6:26	0:0	2	->
water	6:28	0:0	2	p
op	6:29	0:0	2	[
water	6:30	0:0	2	Y_PLANE
op	6:37	0:0	2	]
op	6:38	0:0	2	.
water	6:39	0:0	2	i_visible_pitch
decl	7:4	7:46	2	int	i_in_pitch
op	7:19	0:0	2	=
water	7:21	0:0	2	p_pic
op	7:26	0:0	2	->
water	7:28	0:0	2	p
op	7:29	0:0	2	[
water	7:30	0:0	2	Y_PLANE
op	7:37	0:0	2	]
op	7:38	0:0	2	.
water	7:39	0:0	2	i_pitch
if	8:4	9:16	2	(i_num_lines == 0 || i_num_cols == 0)
cond	8:8	8:42	3	i_num_lines == 0 || i_num_cols == 0
water	8:8	0:0	4	i_num_lines
op	8:20	0:0	4	==
water	8:23	0:0	4	0
op	8:25	0:0	4	||
water	8:28	0:0	4	i_num_cols
op	8:39	0:0	4	==
water	8:42	0:0	4	0
stmts	9:8	9:16	3	
return	9:8	9:16	4	0
water	9:15	0:0	5	0
water	10:4	0:0	2	unsigned
water	10:13	0:0	2	lum_sum
op	10:21	0:0	2	=
water	10:23	0:0	2	0
water	10:24	0:0	2	;
for	11:4	17:4	2	( int i_line = 0 ;i_line < i_num_lines;++ i_line)
forinit	0:0	11:24	3	 int i_line = 0 ;
decl	11:9	11:24	4	int	i_line
op	11:20	0:0	4	=
water	11:22	0:0	4	0
cond	11:26	11:35	3	i_line < i_num_lines
water	11:26	0:0	4	i_line
op	11:33	0:0	4	<
water	11:35	0:0	4	i_num_lines
forexpr	11:49	11:51	3	++ i_line
op	11:49	0:0	4	++
water	11:51	0:0	4	i_line
stmts	12:4	17:4	3	
water	12:4	0:0	4	{
for	13:8	16:8	4	( int i_col = 0 ;i_col < i_num_cols;++ i_col)
forinit	0:0	13:27	5	 int i_col = 0 ;
decl	13:13	13:27	6	int	i_col
op	13:23	0:0	6	=
water	13:25	0:0	6	0
cond	13:29	13:37	5	i_col < i_num_cols
water	13:29	0:0	6	i_col
op	13:35	0:0	6	<
water	13:37	0:0	6	i_num_cols
forexpr	13:49	13:51	5	++ i_col
op	13:49	0:0	6	++
water	13:51	0:0	6	i_col
stmts	14:8	16:8	5	
water	14:8	0:0	6	{
water	15:12	0:0	6	lum_sum
op	15:20	0:0	6	+=
water	15:23	0:0	6	p_yplane_out
op	15:35	0:0	6	[
water	15:36	0:0	6	i_line
op	15:42	0:0	6	*
water	15:43	0:0	6	i_in_pitch
op	15:53	0:0	6	+
water	15:54	0:0	6	i_col
op	15:59	0:0	6	]
water	15:60	0:0	6	;
water	16:8	0:0	6	}
water	17:4	0:0	4	}
water	18:4	0:0	2	unsigned
water	18:13	0:0	2	div
op	18:17	0:0	2	=
water	18:19	0:0	2	i_num_lines
op	18:31	0:0	2	*
water	18:33	0:0	2	i_num_cols
water	18:43	0:0	2	;
return	19:4	19:37	2	(lum_sum+(div>>1))/div
water	19:11	0:0	3	(
water	19:12	0:0	3	lum_sum
op	19:20	0:0	3	+
water	19:22	0:0	3	(
water	19:23	0:0	3	div
op	19:26	0:0	3	>>
water	19:28	0:0	3	1
water	19:29	0:0	3	)
water	19:30	0:0	3	)
op	19:32	0:0	3	/
water	19:34	0:0	3	div
