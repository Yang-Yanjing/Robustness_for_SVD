func	2:0	52:0	0	int	RtspTrackAttach
params	2:19	0:0	1	
param	2:21	2:40	2	rtsp_stream_t *	rtsp
param	2:42	2:58	2	const char *	name
param	3:21	3:41	2	rtsp_stream_id_t *	id
param	3:43	3:72	2	sout_stream_id_sys_t *	sout_id
param	4:21	4:35	2	uint32_t *	ssrc
param	4:37	4:56	2	uint16_t *	seq_init
stmnts	0:0	51:14	1	
decl	6:4	6:26	2	int	val
op	6:12	0:0	2	=
water	6:14	0:0	2	VLC_EGENERIC
decl	7:4	7:27	2	rtsp_session_t	*session
call	8:4	8:30	2	vlc_mutex_lock
arg	8:19	8:30	3	&rtsp->lock
op	8:19	0:0	4	&
water	8:20	0:0	4	rtsp
op	8:24	0:0	4	->
water	8:26	0:0	4	lock
water	8:31	0:0	2	;
water	9:4	0:0	2	session
op	9:12	0:0	2	=
call	9:14	9:38	2	RtspClientGet
arg	9:28	9:32	3	rtsp
water	9:28	0:0	4	rtsp
arg	9:34	9:38	3	name
water	9:34	0:0	4	name
water	9:39	0:0	2	;
if	10:4	11:16	2	(session == NULL)
cond	10:8	10:19	3	session == NULL
water	10:8	0:0	4	session
op	10:16	0:0	4	==
water	10:19	0:0	4	NULL
stmts	11:8	11:16	3	
goto	11:8	11:16	4	out
water	11:13	0:0	5	out
decl	12:4	12:28	2	rtsp_strack_t	*tr
op	12:22	0:0	2	=
water	12:24	0:0	2	NULL
for	13:4	20:4	2	( int i = 0 ;i < session -> trackc;i ++)
forinit	0:0	13:18	3	 int i = 0 ;
decl	13:9	13:18	4	int	i
op	13:15	0:0	4	=
water	13:17	0:0	4	0
cond	13:20	13:33	3	i < session -> trackc
water	13:20	0:0	4	i
op	13:22	0:0	4	<
water	13:24	0:0	4	session
op	13:31	0:0	4	->
water	13:33	0:0	4	trackc
forexpr	13:41	13:42	3	i ++
water	13:41	0:0	4	i
op	13:42	0:0	4	++
stmts	14:4	20:4	3	
water	14:4	0:0	4	{
if	15:8	19:8	4	(session -> trackv [ i ] . id == id)
cond	15:12	15:37	5	session -> trackv [ i ] . id == id
water	15:12	0:0	6	session
op	15:19	0:0	6	->
water	15:21	0:0	6	trackv
op	15:27	0:0	6	[
water	15:28	0:0	6	i
op	15:29	0:0	6	]
op	15:30	0:0	6	.
water	15:31	0:0	6	id
op	15:34	0:0	6	==
water	15:37	0:0	6	id
stmts	16:8	19:8	5	
water	16:8	0:0	6	{
water	17:12	0:0	6	tr
op	17:15	0:0	6	=
water	17:17	0:0	6	session
op	17:24	0:0	6	->
water	17:26	0:0	6	trackv
op	17:33	0:0	6	+
water	17:35	0:0	6	i
water	17:36	0:0	6	;
break	18:12	18:17	6	
water	19:8	0:0	6	}
water	20:4	0:0	4	}
if	21:4	25:4	2	(tr != NULL)
cond	21:8	21:14	3	tr != NULL
water	21:8	0:0	4	tr
op	21:11	0:0	4	!=
water	21:14	0:0	4	NULL
stmts	22:4	25:4	3	
water	22:4	0:0	4	{
water	23:8	0:0	4	tr
op	23:10	0:0	4	->
water	23:12	0:0	4	sout_id
op	23:20	0:0	4	=
water	23:22	0:0	4	sout_id
water	23:29	0:0	4	;
water	24:8	0:0	4	tr
op	24:10	0:0	4	->
water	24:12	0:0	4	rtp_fd
op	24:19	0:0	4	=
call	24:21	24:44	4	dup_socket
arg	24:32	24:44	5	tr->setup_fd
water	24:32	0:0	6	tr
op	24:34	0:0	6	->
water	24:36	0:0	6	setup_fd
water	24:45	0:0	4	;
water	25:4	0:0	4	}
else	26:4	36:4	2
stmts	27:4	36:4	3	
water	27:4	0:0	4	{
decl	30:8	31:62	4	rtsp_strack_t	track
op	30:28	0:0	4	=
water	30:30	0:0	4	{
op	30:32	0:0	4	.
water	30:33	0:0	4	id
op	30:36	0:0	4	=
water	30:38	0:0	4	id
water	30:40	0:0	4	,
op	30:42	0:0	4	.
water	30:43	0:0	4	sout_id
op	30:51	0:0	4	=
water	30:53	0:0	4	sout_id
water	30:60	0:0	4	,
op	31:32	0:0	4	.
water	31:33	0:0	4	setup_fd
op	31:42	0:0	4	=
op	31:44	0:0	4	-
water	31:45	0:0	4	1
water	31:46	0:0	4	,
op	31:48	0:0	4	.
water	31:49	0:0	4	rtp_fd
op	31:56	0:0	4	=
op	31:58	0:0	4	-
water	31:59	0:0	4	1
water	31:61	0:0	4	}
call	32:8	32:64	4	vlc_rand_bytes
arg	32:24	32:39	5	&track.seq_init
op	32:24	0:0	6	&
water	32:25	0:0	6	track
op	32:30	0:0	6	.
water	32:31	0:0	6	seq_init
arg	32:41	32:64	5	sizeof(track.seq_init)
op	32:41	0:0	6	sizeof
water	32:48	0:0	6	(
water	32:49	0:0	6	track
op	32:54	0:0	6	.
water	32:55	0:0	6	seq_init
water	32:63	0:0	6	)
water	32:65	0:0	4	;
call	33:8	33:56	4	vlc_rand_bytes
arg	33:24	33:35	5	&track.ssrc
op	33:24	0:0	6	&
water	33:25	0:0	6	track
op	33:30	0:0	6	.
water	33:31	0:0	6	ssrc
arg	33:37	33:56	5	sizeof(track.ssrc)
op	33:37	0:0	6	sizeof
water	33:44	0:0	6	(
water	33:45	0:0	6	track
op	33:50	0:0	6	.
water	33:51	0:0	6	ssrc
water	33:55	0:0	6	)
water	33:57	0:0	4	;
call	34:8	34:76	4	INSERT_ELEM
arg	34:20	34:35	5	session->trackv
water	34:20	0:0	6	session
op	34:27	0:0	6	->
water	34:29	0:0	6	trackv
arg	34:37	34:52	5	session->trackc
water	34:37	0:0	6	session
op	34:44	0:0	6	->
water	34:46	0:0	6	trackc
arg	34:54	34:69	5	session->trackc
water	34:54	0:0	6	session
op	34:61	0:0	6	->
water	34:63	0:0	6	trackc
arg	34:71	34:76	5	track
water	34:71	0:0	6	track
water	34:77	0:0	4	;
water	35:8	0:0	4	tr
op	35:11	0:0	4	=
water	35:13	0:0	4	session
op	35:20	0:0	4	->
water	35:22	0:0	4	trackv
op	35:29	0:0	4	+
water	35:31	0:0	4	session
op	35:38	0:0	4	->
water	35:40	0:0	4	trackc
op	35:47	0:0	4	-
water	35:49	0:0	4	1
water	35:50	0:0	4	;
water	36:4	0:0	4	}
op	37:4	0:0	2	*
water	37:5	0:0	2	ssrc
op	37:10	0:0	2	=
call	37:12	37:26	2	ntohl
arg	37:18	37:26	3	tr->ssrc
water	37:18	0:0	4	tr
op	37:20	0:0	4	->
water	37:22	0:0	4	ssrc
water	37:27	0:0	2	;
op	38:4	0:0	2	*
water	38:5	0:0	2	seq_init
op	38:14	0:0	2	=
water	38:16	0:0	2	tr
op	38:18	0:0	2	->
water	38:20	0:0	2	seq_init
water	38:28	0:0	2	;
if	39:4	47:4	2	(tr -> rtp_fd != - 1)
cond	39:8	39:23	3	tr -> rtp_fd != - 1
water	39:8	0:0	4	tr
op	39:10	0:0	4	->
water	39:12	0:0	4	rtp_fd
op	39:19	0:0	4	!=
op	39:22	0:0	4	-
water	39:23	0:0	4	1
stmts	40:4	47:4	3	
water	40:4	0:0	4	{
decl	41:8	41:20	4	uint16_t	seq
call	42:8	42:57	4	rtp_add_sink
arg	42:21	42:32	5	tr->sout_id
water	42:21	0:0	6	tr
op	42:23	0:0	6	->
water	42:25	0:0	6	sout_id
arg	42:34	42:44	5	tr->rtp_fd
water	42:34	0:0	6	tr
op	42:36	0:0	6	->
water	42:38	0:0	6	rtp_fd
arg	42:46	42:51	5	false
water	42:46	0:0	6	false
arg	42:53	42:57	5	&seq
op	42:53	0:0	6	&
water	42:54	0:0	6	seq
water	42:58	0:0	4	;
call	46:8	46:34	4	assert
arg	46:15	46:34	5	tr->seq_init==seq
water	46:15	0:0	6	tr
op	46:17	0:0	6	->
water	46:19	0:0	6	seq_init
op	46:28	0:0	6	==
water	46:31	0:0	6	seq
water	46:35	0:0	4	;
water	47:4	0:0	4	}
water	48:4	0:0	2	val
op	48:8	0:0	2	=
water	48:10	0:0	2	VLC_SUCCESS
water	48:21	0:0	2	;
label	49:0	49:3	2	out :
call	50:4	50:32	2	vlc_mutex_unlock
arg	50:21	50:32	3	&rtsp->lock
op	50:21	0:0	4	&
water	50:22	0:0	4	rtsp
op	50:26	0:0	4	->
water	50:28	0:0	4	lock
water	50:33	0:0	2	;
return	51:4	51:14	2	val
water	51:11	0:0	3	val
