func	2:0	52:0	0	static int	DiscoverAVC
params	2:22	0:0	1	
param	2:24	2:42	2	access_t *	p_access
param	2:44	2:53	2	int *	port
param	2:55	2:69	2	uint64_t	guid
stmnts	0:0	51:17	1	
decl	4:4	4:29	2	rom1394_directory	rom_dir
decl	5:4	5:33	2	raw1394handle_t	handle
op	5:27	0:0	2	=
water	5:29	0:0	2	NULL
decl	6:4	6:19	2	int	device
op	6:15	0:0	2	=
op	6:17	0:0	2	-
water	6:18	0:0	2	1
decl	7:4	7:16	2	int	i
water	7:9	0:0	2	,
decl	7:4	7:16	2	int	j
op	7:13	0:0	2	=
water	7:15	0:0	2	0
decl	8:4	8:42	2	int	m
op	8:10	0:0	2	=
call	8:12	8:41	3	Raw1394GetNumPorts
arg	8:32	8:41	4	p_access
water	8:32	0:0	5	p_access
if	9:4	14:4	2	(* port >= 0)
cond	9:8	9:17	3	* port >= 0
op	9:8	0:0	4	*
water	9:9	0:0	4	port
op	9:14	0:0	4	>=
water	9:17	0:0	4	0
stmts	10:4	14:4	3	
water	10:4	0:0	4	{
water	12:8	0:0	4	j
op	12:10	0:0	4	=
op	12:12	0:0	4	*
water	12:13	0:0	4	port
water	12:17	0:0	4	;
water	13:8	0:0	4	m
op	13:10	0:0	4	=
op	13:12	0:0	4	*
water	13:13	0:0	4	port
op	13:18	0:0	4	+
water	13:20	0:0	4	1
water	13:21	0:0	4	;
water	14:4	0:0	4	}
for	15:4	50:4	2	(;j < m && device == - 1;j ++)
forinit	15:9	15:9	3	;
water	15:9	0:0	4	;
cond	15:11	15:31	3	j < m && device == - 1
water	15:11	0:0	4	j
op	15:13	0:0	4	<
water	15:15	0:0	4	m
op	15:17	0:0	4	&&
water	15:20	0:0	4	device
op	15:27	0:0	4	==
op	15:30	0:0	4	-
water	15:31	0:0	4	1
forexpr	15:34	15:35	3	j ++
water	15:34	0:0	4	j
op	15:35	0:0	4	++
stmts	16:4	50:4	3	
water	16:4	0:0	4	{
water	17:8	0:0	4	handle
op	17:15	0:0	4	=
call	17:17	17:42	4	Raw1394Open
arg	17:30	17:38	5	p_access
water	17:30	0:0	6	p_access
arg	17:40	17:42	5	j
water	17:40	0:0	6	j
water	17:43	0:0	4	;
if	18:8	19:21	4	(! handle)
cond	18:12	18:13	5	! handle
op	18:12	0:0	6	!
water	18:13	0:0	6	handle
stmts	19:12	19:21	5	
return	19:12	19:21	6	-1
op	19:19	0:0	7	-
water	19:20	0:0	7	1
for	20:8	48:8	4	(i = 0 ;i <raw1394_get_nodecount (handle );++ i)
forinit	20:13	20:18	5	i = 0 ;
water	20:13	0:0	6	i
op	20:15	0:0	6	=
water	20:17	0:0	6	0
water	20:18	0:0	6	;
cond	20:20	20:54	5	i <raw1394_get_nodecount (handle )
water	20:20	0:0	6	i
op	20:22	0:0	6	<
call	20:24	20:54	6	raw1394_get_nodecount
arg	20:47	20:54	7	handle
water	20:47	0:0	8	handle
forexpr	20:57	20:59	5	++ i
op	20:57	0:0	6	++
water	20:59	0:0	6	i
stmts	21:8	48:8	5	
water	21:8	0:0	6	{
if	22:12	31:12	6	(guid != 0)
cond	22:16	22:24	7	guid != 0
water	22:16	0:0	8	guid
op	22:21	0:0	8	!=
water	22:24	0:0	8	0
stmts	23:12	31:12	7	
water	23:12	0:0	8	{
if	25:16	30:16	8	(guid ==rom1394_get_guid (handle ,i ))
cond	25:20	25:56	9	guid ==rom1394_get_guid (handle ,i )
water	25:20	0:0	10	guid
op	25:25	0:0	10	==
call	25:28	25:56	10	rom1394_get_guid
arg	25:46	25:52	11	handle
water	25:46	0:0	12	handle
arg	25:54	25:56	11	i
water	25:54	0:0	12	i
stmts	26:16	30:16	9	
water	26:16	0:0	10	{
water	27:20	0:0	10	device
op	27:27	0:0	10	=
water	27:29	0:0	10	i
water	27:30	0:0	10	;
op	28:20	0:0	10	*
water	28:21	0:0	10	port
op	28:26	0:0	10	=
water	28:28	0:0	10	j
water	28:29	0:0	10	;
break	29:20	29:25	10	
water	30:16	0:0	10	}
water	31:12	0:0	8	}
else	32:12	47:12	6
stmts	33:12	47:12	7	
water	33:12	0:0	8	{
if	35:16	39:16	8	(rom1394_get_directory (handle ,i ,& rom_dir ) < 0)
cond	35:20	35:67	9	rom1394_get_directory (handle ,i ,& rom_dir ) < 0
call	35:20	35:63	10	rom1394_get_directory
arg	35:43	35:49	11	handle
water	35:43	0:0	12	handle
arg	35:51	35:52	11	i
water	35:51	0:0	12	i
arg	35:54	35:63	11	&rom_dir
op	35:54	0:0	12	&
water	35:55	0:0	12	rom_dir
op	35:65	0:0	10	<
water	35:67	0:0	10	0
stmts	36:16	39:16	9	
water	36:16	0:0	10	{
call	37:20	37:91	10	msg_Err
arg	37:29	37:37	11	p_access
water	37:29	0:0	12	p_access
arg	37:39	37:87	11	"error reading config rom directory for node %d"
water	37:39	0:0	12	"error reading config rom directory for node %d"
arg	37:89	37:91	11	i
water	37:89	0:0	12	i
water	37:92	0:0	10	;
continue	38:20	38:28	10	
water	39:16	0:0	10	}
if	40:16	46:16	8	((rom1394_get_node_type (& rom_dir ) == ROM1394_NODE_TYPE_AVC ) &&avc1394_check_subunit_type (handle ,i ,AVC1394_SUBUNIT_TYPE_VCR ))
cond	40:20	41:88	9	(rom1394_get_node_type (& rom_dir ) == ROM1394_NODE_TYPE_AVC ) &&avc1394_check_subunit_type (handle ,i ,AVC1394_SUBUNIT_TYPE_VCR )
water	40:20	0:0	10	(
call	40:22	40:54	10	rom1394_get_node_type
arg	40:45	40:54	11	&rom_dir
op	40:45	0:0	12	&
water	40:46	0:0	12	rom_dir
op	40:56	0:0	10	==
water	40:59	0:0	10	ROM1394_NODE_TYPE_AVC
water	40:81	0:0	10	)
op	40:83	0:0	10	&&
call	41:24	41:88	10	avc1394_check_subunit_type
arg	41:52	41:58	11	handle
water	41:52	0:0	12	handle
arg	41:60	41:61	11	i
water	41:60	0:0	12	i
arg	41:63	41:88	11	AVC1394_SUBUNIT_TYPE_VCR
water	41:63	0:0	12	AVC1394_SUBUNIT_TYPE_VCR
stmts	42:16	46:16	9	
water	42:16	0:0	10	{
water	43:20	0:0	10	device
op	43:27	0:0	10	=
water	43:29	0:0	10	i
water	43:30	0:0	10	;
op	44:20	0:0	10	*
water	44:21	0:0	10	port
op	44:26	0:0	10	=
water	44:28	0:0	10	j
water	44:29	0:0	10	;
break	45:20	45:25	10	
water	46:16	0:0	10	}
water	47:12	0:0	8	}
water	48:8	0:0	6	}
call	49:8	49:29	4	Raw1394Close
arg	49:22	49:29	5	handle
water	49:22	0:0	6	handle
water	49:30	0:0	4	;
water	50:4	0:0	4	}
return	51:4	51:17	2	device
water	51:11	0:0	3	device
