func	2:0	23:0	0	static int	Open
params	2:15	0:0	1	
param	2:17	2:38	2	vlc_object_t *	p_this
stmnts	0:0	22:22	1	
decl	4:4	4:65	2	services_discovery_t	*p_sd
op	4:31	0:0	2	=
water	4:33	0:0	2	(
water	4:35	0:0	2	services_discovery_t
op	4:56	0:0	2	*
water	4:58	0:0	2	)
water	4:59	0:0	2	p_this
decl	5:4	5:35	2	services_discovery_sys_t	*p_sys
if	6:4	7:25	2	(! ( p_sys =malloc (sizeof ( services_discovery_sys_t ) ) ))
cond	6:8	6:64	3	! ( p_sys =malloc (sizeof ( services_discovery_sys_t ) ) )
op	6:8	0:0	4	!
water	6:9	0:0	4	(
water	6:11	0:0	4	p_sys
op	6:17	0:0	4	=
call	6:19	6:62	4	malloc
arg	6:27	6:62	5	sizeof(services_discovery_sys_t)
op	6:27	0:0	6	sizeof
water	6:33	0:0	6	(
water	6:35	0:0	6	services_discovery_sys_t
water	6:60	0:0	6	)
water	6:64	0:0	4	)
stmts	7:8	7:25	3	
return	7:8	7:25	4	VLC_ENOMEM
water	7:15	0:0	5	VLC_ENOMEM
water	8:4	0:0	2	p_sd
op	8:8	0:0	2	->
water	8:10	0:0	2	p_sys
op	8:16	0:0	2	=
water	8:18	0:0	2	p_sys
water	8:23	0:0	2	;
water	9:4	0:0	2	p_sys
op	9:9	0:0	2	->
water	9:11	0:0	2	psz_name
op	9:20	0:0	2	=
water	9:22	0:0	2	NULL
water	9:26	0:0	2	;
call	10:4	10:30	2	vlc_mutex_lock
arg	10:20	10:30	3	&mtp_lock
op	10:20	0:0	4	&
water	10:21	0:0	4	mtp_lock
water	10:31	0:0	2	;
if	11:4	15:4	2	(! b_mtp_initialized)
cond	11:8	11:9	3	! b_mtp_initialized
op	11:8	0:0	4	!
water	11:9	0:0	4	b_mtp_initialized
stmts	12:4	15:4	3	
water	12:4	0:0	4	{
call	13:8	13:20	4	LIBMTP_Init
water	13:21	0:0	4	;
water	14:8	0:0	4	b_mtp_initialized
op	14:26	0:0	4	=
water	14:28	0:0	4	true
water	14:32	0:0	4	;
water	15:4	0:0	4	}
call	16:4	16:32	2	vlc_mutex_unlock
arg	16:22	16:32	3	&mtp_lock
op	16:22	0:0	4	&
water	16:23	0:0	4	mtp_lock
water	16:33	0:0	2	;
if	17:4	21:4	2	(vlc_clone (& p_sys -> thread ,Run ,p_sd ,VLC_THREAD_PRIORITY_LOW ))
cond	17:8	17:69	3	vlc_clone (& p_sys -> thread ,Run ,p_sd ,VLC_THREAD_PRIORITY_LOW )
call	17:8	17:69	4	vlc_clone
arg	17:19	17:33	5	&p_sys->thread
op	17:19	0:0	6	&
water	17:20	0:0	6	p_sys
op	17:25	0:0	6	->
water	17:27	0:0	6	thread
arg	17:35	17:38	5	Run
water	17:35	0:0	6	Run
arg	17:40	17:44	5	p_sd
water	17:40	0:0	6	p_sd
arg	17:46	17:69	5	VLC_THREAD_PRIORITY_LOW
water	17:46	0:0	6	VLC_THREAD_PRIORITY_LOW
stmts	18:4	21:4	3	
water	18:4	0:0	4	{
call	19:8	19:19	4	free
arg	19:14	19:19	5	p_sys
water	19:14	0:0	6	p_sys
water	19:20	0:0	4	;
return	20:8	20:27	4	VLC_EGENERIC
water	20:15	0:0	5	VLC_EGENERIC
water	21:4	0:0	4	}
return	22:4	22:22	2	VLC_SUCCESS
water	22:11	0:0	3	VLC_SUCCESS
