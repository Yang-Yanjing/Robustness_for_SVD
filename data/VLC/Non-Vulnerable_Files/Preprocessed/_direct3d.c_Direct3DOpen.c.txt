func	2:0	52:0	0	static int	Direct3DOpen
params	2:23	0:0	1	
param	2:24	2:42	2	vout_display_t *	vd
param	2:44	2:63	2	video_format_t *	fmt
stmnts	0:0	51:22	1	
decl	4:4	4:37	2	vout_display_sys_t	*sys
op	4:28	0:0	2	=
water	4:30	0:0	2	vd
op	4:32	0:0	2	->
water	4:34	0:0	2	sys
decl	5:4	5:36	2	LPDIRECT3D9	d3dobj
op	5:23	0:0	2	=
water	5:25	0:0	2	sys
op	5:28	0:0	2	->
water	5:30	0:0	2	d3dobj
if	6:4	7:27	2	(Direct3DFillPresentationParameters (vd ))
cond	6:8	6:45	3	Direct3DFillPresentationParameters (vd )
call	6:8	6:45	4	Direct3DFillPresentationParameters
arg	6:43	6:45	5	vd
water	6:43	0:0	6	vd
stmts	7:8	7:27	3	
return	7:8	7:27	4	VLC_EGENERIC
water	7:15	0:0	5	VLC_EGENERIC
decl	9:4	9:28	2	LPDIRECT3DDEVICE9	d3ddev
decl	10:4	10:42	2	UINT	AdapterToUse
op	10:22	0:0	2	=
water	10:24	0:0	2	D3DADAPTER_DEFAULT
decl	11:4	11:42	2	D3DDEVTYPE	DeviceType
op	11:26	0:0	2	=
water	11:28	0:0	2	D3DDEVTYPE_HAL
for	15:4	23:4	2	( UINT Adapter = 0 ;Adapter <IDirect3D9_GetAdapterCount (d3dobj );++ Adapter)
forinit	0:0	15:23	3	 UINT Adapter = 0 ;
decl	15:9	15:23	4	UINT	Adapter
op	15:21	0:0	4	=
water	15:22	0:0	4	0
cond	15:25	15:67	3	Adapter <IDirect3D9_GetAdapterCount (d3dobj )
water	15:25	0:0	4	Adapter
op	15:32	0:0	4	<
call	15:34	15:67	4	IDirect3D9_GetAdapterCount
arg	15:61	15:67	5	d3dobj
water	15:61	0:0	6	d3dobj
forexpr	15:70	15:72	3	++ Adapter
op	15:70	0:0	4	++
water	15:72	0:0	4	Adapter
stmts	15:81	23:4	3	
water	15:81	0:0	4	{
decl	16:8	16:41	4	D3DADAPTER_IDENTIFIER9	Identifier
decl	17:8	17:83	4	HRESULT	Res
op	17:20	0:0	4	=
call	17:22	17:82	5	IDirect3D9_GetAdapterIdentifier
arg	17:54	17:60	6	d3dobj
water	17:54	0:0	7	d3dobj
arg	17:61	17:68	6	Adapter
water	17:61	0:0	7	Adapter
arg	17:69	17:70	6	0
water	17:69	0:0	7	0
arg	17:71	17:82	6	&Identifier
op	17:71	0:0	7	&
water	17:72	0:0	7	Identifier
if	18:8	22:8	4	(SUCCEEDED (Res ) &&strstr (Identifier . Description ,"PerfHUD" ) != 0)
cond	18:12	18:74	5	SUCCEEDED (Res ) &&strstr (Identifier . Description ,"PerfHUD" ) != 0
call	18:12	18:25	6	SUCCEEDED
arg	18:22	18:25	7	Res
water	18:22	0:0	8	Res
op	18:27	0:0	6	&&
call	18:30	18:69	6	strstr
arg	18:37	18:59	7	Identifier.Description
water	18:37	0:0	8	Identifier
op	18:47	0:0	8	.
water	18:48	0:0	8	Description
arg	18:60	18:69	7	"PerfHUD"
water	18:60	0:0	8	"PerfHUD"
op	18:71	0:0	6	!=
water	18:74	0:0	6	0
stmts	18:77	22:8	5	
water	18:77	0:0	6	{
water	19:12	0:0	6	AdapterToUse
op	19:25	0:0	6	=
water	19:27	0:0	6	Adapter
water	19:34	0:0	6	;
water	20:12	0:0	6	DeviceType
op	20:23	0:0	6	=
water	20:25	0:0	6	D3DDEVTYPE_REF
water	20:39	0:0	6	;
break	21:12	21:17	6	
water	22:8	0:0	6	}
water	23:4	0:0	4	}
decl	26:4	26:32	2	D3DADAPTER_IDENTIFIER9	d3dai
if	27:4	29:4	2	(FAILED (IDirect3D9_GetAdapterIdentifier (d3dobj ,AdapterToUse ,0 ,& d3dai ) ))
cond	27:8	27:77	3	FAILED (IDirect3D9_GetAdapterIdentifier (d3dobj ,AdapterToUse ,0 ,& d3dai ) )
call	27:8	27:77	4	FAILED
arg	27:15	27:77	5	IDirect3D9_GetAdapterIdentifier(d3dobj,AdapterToUse,0,&d3dai)
call	27:15	27:76	6	IDirect3D9_GetAdapterIdentifier
arg	27:47	27:53	7	d3dobj
water	27:47	0:0	8	d3dobj
arg	27:54	27:66	7	AdapterToUse
water	27:54	0:0	8	AdapterToUse
arg	27:67	27:68	7	0
water	27:67	0:0	8	0
arg	27:70	27:76	7	&d3dai
op	27:70	0:0	8	&
water	27:71	0:0	8	d3dai
stmts	27:80	29:4	3	
water	27:80	0:0	4	{
call	28:8	28:61	4	msg_Warn
arg	28:17	28:19	5	vd
water	28:17	0:0	6	vd
arg	28:21	28:61	5	"IDirect3D9_GetAdapterIdentifier failed"
water	28:21	0:0	6	"IDirect3D9_GetAdapterIdentifier failed"
water	28:62	0:0	4	;
water	29:4	0:0	4	}
else	29:6	32:4	2
stmts	29:11	32:4	3	
water	29:11	0:0	4	{
call	30:8	31:63	4	msg_Dbg
arg	30:16	30:18	5	vd
water	30:16	0:0	6	vd
arg	30:20	30:53	5	"Direct3d Device: %s %lu %lu %lu"
water	30:20	0:0	6	"Direct3d Device: %s %lu %lu %lu"
arg	30:55	30:72	5	d3dai.Description
water	30:55	0:0	6	d3dai
op	30:60	0:0	6	.
water	30:61	0:0	6	Description
arg	31:16	31:30	5	d3dai.VendorId
water	31:16	0:0	6	d3dai
op	31:21	0:0	6	.
water	31:22	0:0	6	VendorId
arg	31:32	31:46	5	d3dai.DeviceId
water	31:32	0:0	6	d3dai
op	31:37	0:0	6	.
water	31:38	0:0	6	DeviceId
arg	31:48	31:63	5	d3dai.Revision
water	31:48	0:0	6	d3dai
op	31:53	0:0	6	.
water	31:54	0:0	6	Revision
water	31:64	0:0	4	;
water	32:4	0:0	4	}
decl	33:4	37:62	2	HRESULT	hr
op	33:15	0:0	2	=
call	33:17	37:61	3	IDirect3D9_CreateDevice
arg	33:41	33:47	4	d3dobj
water	33:41	0:0	5	d3dobj
arg	33:49	33:61	4	AdapterToUse
water	33:49	0:0	5	AdapterToUse
arg	34:41	34:51	4	DeviceType
water	34:41	0:0	5	DeviceType
arg	34:53	34:67	4	sys->hvideownd
water	34:53	0:0	5	sys
op	34:56	0:0	5	->
water	34:58	0:0	5	hvideownd
arg	35:41	36:64	4	D3DCREATE_SOFTWARE_VERTEXPROCESSING|D3DCREATE_MULTITHREADED
water	35:41	0:0	5	D3DCREATE_SOFTWARE_VERTEXPROCESSING
op	35:76	0:0	5	|
water	36:41	0:0	5	D3DCREATE_MULTITHREADED
arg	37:41	37:52	4	&sys->d3dpp
op	37:41	0:0	5	&
water	37:42	0:0	5	sys
op	37:45	0:0	5	->
water	37:47	0:0	5	d3dpp
arg	37:54	37:61	4	&d3ddev
op	37:54	0:0	5	&
water	37:55	0:0	5	d3ddev
if	38:4	41:4	2	(FAILED (hr ))
cond	38:8	38:17	3	FAILED (hr )
call	38:8	38:17	4	FAILED
arg	38:15	38:17	5	hr
water	38:15	0:0	6	hr
stmts	38:20	41:4	3	
water	38:20	0:0	4	{
call	39:7	39:68	4	msg_Err
arg	39:15	39:17	5	vd
water	39:15	0:0	6	vd
arg	39:19	39:64	5	"Could not create the D3D device! (hr=0x%lX)"
water	39:19	0:0	6	"Could not create the D3D device! (hr=0x%lX)"
arg	39:66	39:68	5	hr
water	39:66	0:0	6	hr
water	39:69	0:0	4	;
return	40:7	40:26	4	VLC_EGENERIC
water	40:14	0:0	5	VLC_EGENERIC
water	41:4	0:0	4	}
water	42:4	0:0	2	sys
op	42:7	0:0	2	->
water	42:9	0:0	2	d3ddev
op	42:16	0:0	2	=
water	42:18	0:0	2	d3ddev
water	42:24	0:0	2	;
call	43:4	43:36	2	UpdateRects
arg	43:16	43:18	3	vd
water	43:16	0:0	4	vd
arg	43:20	43:24	3	NULL
water	43:20	0:0	4	NULL
arg	43:26	43:30	3	NULL
water	43:26	0:0	4	NULL
arg	43:32	43:36	3	true
water	43:32	0:0	4	true
water	43:37	0:0	2	;
if	44:4	47:4	2	(Direct3DCreateResources (vd ,fmt ))
cond	44:8	44:39	3	Direct3DCreateResources (vd ,fmt )
call	44:8	44:39	4	Direct3DCreateResources
arg	44:32	44:34	5	vd
water	44:32	0:0	6	vd
arg	44:36	44:39	5	fmt
water	44:36	0:0	6	fmt
stmts	44:42	47:4	3	
water	44:42	0:0	4	{
call	45:8	45:50	4	msg_Err
arg	45:16	45:18	5	vd
water	45:16	0:0	6	vd
arg	45:20	45:50	5	"Failed to allocate resources"
water	45:20	0:0	6	"Failed to allocate resources"
water	45:51	0:0	4	;
return	46:8	46:27	4	VLC_EGENERIC
water	46:15	0:0	5	VLC_EGENERIC
water	47:4	0:0	4	}
call	49:4	49:70	2	EventThreadUpdateTitle
arg	49:27	49:37	3	sys->event
water	49:27	0:0	4	sys
op	49:30	0:0	4	->
water	49:32	0:0	4	event
arg	49:39	49:70	3	VOUT_TITLE" (Direct3D output)"
water	49:39	0:0	4	VOUT_TITLE
water	49:50	0:0	4	" (Direct3D output)"
water	49:71	0:0	2	;
call	50:4	50:66	2	msg_Dbg
arg	50:12	50:14	3	vd
water	50:12	0:0	4	vd
arg	50:16	50:66	3	"Direct3D device adapter successfully initialized"
water	50:16	0:0	4	"Direct3D device adapter successfully initialized"
water	50:67	0:0	2	;
return	51:4	51:22	2	VLC_SUCCESS
water	51:11	0:0	3	VLC_SUCCESS
