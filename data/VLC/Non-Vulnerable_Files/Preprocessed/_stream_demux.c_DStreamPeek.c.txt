func	2:0	31:0	0	static int	DStreamPeek
params	2:22	0:0	1	
param	2:24	2:35	2	stream_t *	s
param	2:37	2:60	2	const uint8_t * *	pp_peek
param	2:62	2:82	2	unsigned int	i_peek
stmnts	0:0	30:16	1	
decl	4:4	4:34	2	stream_sys_t	*p_sys
op	4:24	0:0	2	=
water	4:26	0:0	2	s
op	4:27	0:0	2	->
water	4:29	0:0	2	p_sys
decl	5:4	5:40	2	block_t	**pp_block
op	5:23	0:0	2	=
op	5:25	0:0	2	&
water	5:26	0:0	2	p_sys
op	5:31	0:0	2	->
water	5:33	0:0	2	p_block
decl	6:4	6:17	2	int	i_out
op	6:14	0:0	2	=
water	6:16	0:0	2	0
op	7:4	0:0	2	*
water	7:5	0:0	2	pp_peek
op	7:13	0:0	2	=
water	7:15	0:0	2	0
water	7:16	0:0	2	;
while	9:4	24:4	2	(atomic_load (& p_sys -> active ) && ! s -> b_error && i_peek)
cond	9:11	9:59	3	atomic_load (& p_sys -> active ) && ! s -> b_error && i_peek
call	9:11	9:39	4	atomic_load
arg	9:24	9:39	5	&p_sys->active
op	9:24	0:0	6	&
water	9:25	0:0	6	p_sys
op	9:30	0:0	6	->
water	9:32	0:0	6	active
op	9:41	0:0	4	&&
op	9:44	0:0	4	!
water	9:45	0:0	4	s
op	9:46	0:0	4	->
water	9:48	0:0	4	b_error
op	9:56	0:0	4	&&
water	9:59	0:0	4	i_peek
stmts	10:4	24:4	3	
water	10:4	0:0	4	{
decl	11:8	11:18	4	int	i_copy
if	12:8	16:8	4	(! * pp_block)
cond	12:12	12:14	5	! * pp_block
op	12:12	0:0	6	!
op	12:13	0:0	6	*
water	12:14	0:0	6	pp_block
stmts	13:8	16:8	5	
water	13:8	0:0	6	{
op	14:12	0:0	6	*
water	14:13	0:0	6	pp_block
op	14:22	0:0	6	=
call	14:24	14:53	6	block_FifoGet
arg	14:39	14:53	7	p_sys->p_fifo
water	14:39	0:0	8	p_sys
op	14:44	0:0	8	->
water	14:46	0:0	8	p_fifo
water	14:54	0:0	6	;
if	15:12	15:43	6	(! * pp_block)
cond	15:16	15:18	7	! * pp_block
op	15:16	0:0	8	!
op	15:17	0:0	8	*
water	15:18	0:0	8	pp_block
stmts	15:29	15:43	7	
water	15:29	0:0	8	s
op	15:30	0:0	8	->
water	15:32	0:0	8	b_error
op	15:40	0:0	8	=
water	15:42	0:0	8	1
water	15:43	0:0	8	;
water	16:8	0:0	6	}
if	17:8	23:8	4	(* pp_block && i_peek)
cond	17:12	17:25	5	* pp_block && i_peek
op	17:12	0:0	6	*
water	17:13	0:0	6	pp_block
op	17:22	0:0	6	&&
water	17:25	0:0	6	i_peek
stmts	18:8	23:8	5	
water	18:8	0:0	6	{
water	19:12	0:0	6	i_copy
op	19:19	0:0	6	=
call	19:21	19:58	6	__MIN
arg	19:28	19:34	7	i_peek
water	19:28	0:0	8	i_peek
arg	19:36	19:58	7	(*pp_block)->i_buffer
water	19:36	0:0	8	(
op	19:37	0:0	8	*
water	19:38	0:0	8	pp_block
water	19:46	0:0	8	)
op	19:47	0:0	8	->
water	19:49	0:0	8	i_buffer
water	19:59	0:0	6	;
water	20:12	0:0	6	i_peek
op	20:19	0:0	6	-=
water	20:22	0:0	6	i_copy
water	20:28	0:0	6	;
water	21:12	0:0	6	i_out
op	21:18	0:0	6	+=
water	21:21	0:0	6	i_copy
water	21:27	0:0	6	;
if	22:12	22:56	6	(i_peek)
cond	22:16	22:16	7	i_peek
water	22:16	0:0	8	i_peek
stmts	22:25	22:56	7	
water	22:25	0:0	8	pp_block
op	22:34	0:0	8	=
op	22:36	0:0	8	&
water	22:37	0:0	8	(
op	22:38	0:0	8	*
water	22:39	0:0	8	pp_block
water	22:47	0:0	8	)
op	22:48	0:0	8	->
water	22:50	0:0	8	p_next
water	22:56	0:0	8	;
water	23:8	0:0	6	}
water	24:4	0:0	4	}
if	25:4	29:4	2	(p_sys -> p_block)
cond	25:8	25:15	3	p_sys -> p_block
water	25:8	0:0	4	p_sys
op	25:13	0:0	4	->
water	25:15	0:0	4	p_block
stmts	26:4	29:4	3	
water	26:4	0:0	4	{
water	27:8	0:0	4	p_sys
op	27:13	0:0	4	->
water	27:15	0:0	4	p_block
op	27:23	0:0	4	=
call	27:25	27:59	4	block_ChainGather
arg	27:44	27:59	5	p_sys->p_block
water	27:44	0:0	6	p_sys
op	27:49	0:0	6	->
water	27:51	0:0	6	p_block
water	27:60	0:0	4	;
op	28:8	0:0	4	*
water	28:9	0:0	4	pp_peek
op	28:17	0:0	4	=
water	28:19	0:0	4	p_sys
op	28:24	0:0	4	->
water	28:26	0:0	4	p_block
op	28:33	0:0	4	->
water	28:35	0:0	4	p_buffer
water	28:43	0:0	4	;
water	29:4	0:0	4	}
return	30:4	30:16	2	i_out
water	30:11	0:0	3	i_out
