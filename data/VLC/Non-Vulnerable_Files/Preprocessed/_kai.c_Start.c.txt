func	2:0	81:0	0	static int	Start
params	2:17	0:0	1	
param	2:19	2:41	2	audio_output_t *	p_aout
param	2:43	2:70	2	audio_sample_format_t *	fmt
stmnts	0:0	80:23	1	
decl	4:4	4:35	2	aout_sys_t	*p_sys
op	4:22	0:0	2	=
water	4:24	0:0	2	p_aout
op	4:30	0:0	2	->
water	4:32	0:0	2	sys
decl	5:4	5:18	2	char	*psz_mode
decl	6:4	6:20	2	ULONG	i_kai_mode
decl	7:4	7:34	2	KAISPEC	ks_wanted
water	7:21	0:0	2	,
decl	7:4	7:34	2	KAISPEC	ks_obtained
decl	8:4	8:21	2	int	i_nb_channels
decl	9:4	9:25	2	int	i_bytes_per_frame
decl	10:4	10:25	2	vlc_value_t	val
water	10:19	0:0	2	,
decl	10:4	10:25	2	vlc_value_t	text
decl	11:4	11:39	2	audio_sample_format_t	format
op	11:33	0:0	2	=
op	11:35	0:0	2	*
water	11:36	0:0	2	fmt
water	12:4	0:0	2	psz_mode
op	12:13	0:0	2	=
call	12:15	12:61	2	var_InheritString
arg	12:34	12:40	3	p_aout
water	12:34	0:0	4	p_aout
arg	12:42	12:61	3	"kai-audio-device"
water	12:42	0:0	4	"kai-audio-device"
water	12:62	0:0	2	;
if	13:4	14:55	2	(! psz_mode)
cond	13:8	13:9	3	! psz_mode
op	13:8	0:0	4	!
water	13:9	0:0	4	psz_mode
stmts	14:8	14:55	3	
water	14:8	0:0	4	psz_mode
op	14:17	0:0	4	=
water	14:19	0:0	4	(
water	14:21	0:0	4	char
op	14:26	0:0	4	*
water	14:28	0:0	4	)
water	14:29	0:0	4	ppsz_kai_audio_device
op	14:50	0:0	4	[
water	14:52	0:0	4	0
op	14:54	0:0	4	]
water	14:55	0:0	4	;
water	15:4	0:0	2	i_kai_mode
op	15:15	0:0	2	=
water	15:17	0:0	2	KAIM_AUTO
water	15:26	0:0	2	;
if	16:4	17:30	2	(strcmp (psz_mode ,"dart" ) == 0)
cond	16:8	16:38	3	strcmp (psz_mode ,"dart" ) == 0
call	16:8	16:33	4	strcmp
arg	16:16	16:24	5	psz_mode
water	16:16	0:0	6	psz_mode
arg	16:26	16:33	5	"dart"
water	16:26	0:0	6	"dart"
op	16:35	0:0	4	==
water	16:38	0:0	4	0
stmts	17:8	17:30	3	
water	17:8	0:0	4	i_kai_mode
op	17:19	0:0	4	=
water	17:21	0:0	4	KAIM_DART
water	17:30	0:0	4	;
else	18:4	19:32	2
stmts	18:9	19:32	3	
if	18:9	19:32	4	(strcmp (psz_mode ,"uniaud" ) == 0)
cond	18:13	18:45	5	strcmp (psz_mode ,"uniaud" ) == 0
call	18:13	18:40	6	strcmp
arg	18:21	18:29	7	psz_mode
water	18:21	0:0	8	psz_mode
arg	18:31	18:40	7	"uniaud"
water	18:31	0:0	8	"uniaud"
op	18:42	0:0	6	==
water	18:45	0:0	6	0
stmts	19:8	19:32	5	
water	19:8	0:0	6	i_kai_mode
op	19:19	0:0	6	=
water	19:21	0:0	6	KAIM_UNIAUD
water	19:32	0:0	6	;
call	20:4	20:52	2	msg_Dbg
arg	20:13	20:19	3	p_aout
water	20:13	0:0	4	p_aout
arg	20:21	20:41	3	"selected mode = %s"
water	20:21	0:0	4	"selected mode = %s"
arg	20:43	20:52	3	psz_mode
water	20:43	0:0	4	psz_mode
water	20:53	0:0	2	;
if	21:4	22:24	2	(psz_mode != ppsz_kai_audio_device [ 0 ])
cond	21:8	21:45	3	psz_mode != ppsz_kai_audio_device [ 0 ]
water	21:8	0:0	4	psz_mode
op	21:17	0:0	4	!=
water	21:20	0:0	4	ppsz_kai_audio_device
op	21:41	0:0	4	[
water	21:43	0:0	4	0
op	21:45	0:0	4	]
stmts	22:8	22:24	3	
call	22:8	22:23	4	free
arg	22:14	22:23	5	psz_mode
water	22:14	0:0	6	psz_mode
water	22:24	0:0	4	;
water	23:4	0:0	2	i_nb_channels
op	23:18	0:0	2	=
call	23:20	23:51	2	aout_FormatNbChannels
arg	23:43	23:51	3	&format
op	23:43	0:0	4	&
water	23:44	0:0	4	format
water	23:52	0:0	2	;
if	24:4	29:4	2	(i_nb_channels >= 2)
cond	24:9	24:26	3	i_nb_channels >= 2
water	24:9	0:0	4	i_nb_channels
op	24:23	0:0	4	>=
water	24:26	0:0	4	2
stmts	25:4	29:4	3	
water	25:4	0:0	4	{
water	27:8	0:0	4	i_nb_channels
op	27:22	0:0	4	=
water	27:24	0:0	4	2
water	27:25	0:0	4	;
water	28:8	0:0	4	format
op	28:14	0:0	4	.
water	28:15	0:0	4	i_physical_channels
op	28:35	0:0	4	=
water	28:37	0:0	4	AOUT_CHANS_STEREO
water	28:54	0:0	4	;
water	29:4	0:0	4	}
else	30:4	31:53	2
stmts	31:8	31:53	3	
water	31:8	0:0	4	format
op	31:14	0:0	4	.
water	31:15	0:0	4	i_physical_channels
op	31:35	0:0	4	=
water	31:37	0:0	4	AOUT_CHAN_CENTER
water	31:53	0:0	4	;
water	33:4	0:0	2	format
op	33:10	0:0	2	.
water	33:11	0:0	2	i_format
op	33:20	0:0	2	=
water	33:22	0:0	2	VLC_CODEC_S16N
water	33:36	0:0	2	;
call	34:4	34:32	2	aout_FormatPrepare
arg	34:24	34:32	3	&format
op	34:24	0:0	4	&
water	34:25	0:0	4	format
water	34:33	0:0	2	;
water	35:4	0:0	2	i_bytes_per_frame
op	35:22	0:0	2	=
water	35:24	0:0	2	format
op	35:30	0:0	2	.
water	35:31	0:0	2	i_bytes_per_frame
water	35:48	0:0	2	;
if	37:4	41:4	2	(kaiInit (i_kai_mode ))
cond	37:8	37:28	3	kaiInit (i_kai_mode )
call	37:8	37:28	4	kaiInit
arg	37:17	37:28	5	i_kai_mode
water	37:17	0:0	6	i_kai_mode
stmts	38:4	41:4	3	
water	38:4	0:0	4	{
call	39:8	39:48	4	msg_Err
arg	39:17	39:23	5	p_aout
water	39:17	0:0	6	p_aout
arg	39:25	39:48	5	"cannot initialize KAI"
water	39:25	0:0	6	"cannot initialize KAI"
water	39:49	0:0	4	;
return	40:8	40:27	4	VLC_EGENERIC
water	40:15	0:0	5	VLC_EGENERIC
water	41:4	0:0	4	}
water	42:4	0:0	2	ks_wanted
op	42:13	0:0	2	.
water	42:14	0:0	2	usDeviceIndex
op	42:30	0:0	2	=
water	42:32	0:0	2	0
water	42:33	0:0	2	;
water	43:4	0:0	2	ks_wanted
op	43:13	0:0	2	.
water	43:14	0:0	2	ulType
op	43:30	0:0	2	=
water	43:32	0:0	2	KAIT_PLAY
water	43:41	0:0	2	;
water	44:4	0:0	2	ks_wanted
op	44:13	0:0	2	.
water	44:14	0:0	2	ulBitsPerSample
op	44:30	0:0	2	=
water	44:32	0:0	2	BPS_16
water	44:38	0:0	2	;
water	45:4	0:0	2	ks_wanted
op	45:13	0:0	2	.
water	45:14	0:0	2	ulSamplingRate
op	45:30	0:0	2	=
water	45:32	0:0	2	format
op	45:38	0:0	2	.
water	45:39	0:0	2	i_rate
water	45:45	0:0	2	;
water	46:4	0:0	2	ks_wanted
op	46:13	0:0	2	.
water	46:14	0:0	2	ulDataFormat
op	46:30	0:0	2	=
water	46:32	0:0	2	MCI_WAVE_FORMAT_PCM
water	46:51	0:0	2	;
water	47:4	0:0	2	ks_wanted
op	47:13	0:0	2	.
water	47:14	0:0	2	ulChannels
op	47:30	0:0	2	=
water	47:32	0:0	2	i_nb_channels
water	47:45	0:0	2	;
water	48:4	0:0	2	ks_wanted
op	48:13	0:0	2	.
water	48:14	0:0	2	ulNumBuffers
op	48:30	0:0	2	=
water	48:32	0:0	2	2
water	48:33	0:0	2	;
water	49:4	0:0	2	ks_wanted
op	49:13	0:0	2	.
water	49:14	0:0	2	ulBufferSize
op	49:30	0:0	2	=
water	49:32	0:0	2	FRAME_SIZE
op	49:43	0:0	2	*
water	49:45	0:0	2	i_bytes_per_frame
water	49:62	0:0	2	;
water	50:4	0:0	2	ks_wanted
op	50:13	0:0	2	.
water	50:14	0:0	2	fShareable
op	50:30	0:0	2	=
op	50:32	0:0	2	!
call	50:33	51:76	2	var_InheritBool
arg	50:50	50:56	3	p_aout
water	50:50	0:0	4	p_aout
arg	51:50	51:76	3	"kai-audio-exclusive-mode"
water	51:50	0:0	4	"kai-audio-exclusive-mode"
water	51:77	0:0	2	;
water	52:4	0:0	2	ks_wanted
op	52:13	0:0	2	.
water	52:14	0:0	2	pfnCallBack
op	52:30	0:0	2	=
water	52:32	0:0	2	KaiCallback
water	52:43	0:0	2	;
water	53:4	0:0	2	ks_wanted
op	53:13	0:0	2	.
water	53:14	0:0	2	pCallBackData
op	53:30	0:0	2	=
water	53:32	0:0	2	p_aout
water	53:38	0:0	2	;
call	54:4	54:76	2	msg_Dbg
arg	54:13	54:19	3	p_aout
water	54:13	0:0	4	p_aout
arg	54:21	54:51	3	"requested ulBufferSize = %ld"
water	54:21	0:0	4	"requested ulBufferSize = %ld"
arg	54:53	54:76	3	ks_wanted.ulBufferSize
water	54:53	0:0	4	ks_wanted
op	54:62	0:0	4	.
water	54:63	0:0	4	ulBufferSize
water	54:77	0:0	2	;
if	56:4	60:4	2	(kaiOpen (& ks_wanted ,& ks_obtained ,& p_sys -> hkai ))
cond	56:8	56:56	3	kaiOpen (& ks_wanted ,& ks_obtained ,& p_sys -> hkai )
call	56:8	56:56	4	kaiOpen
arg	56:17	56:27	5	&ks_wanted
op	56:17	0:0	6	&
water	56:18	0:0	6	ks_wanted
arg	56:29	56:41	5	&ks_obtained
op	56:29	0:0	6	&
water	56:30	0:0	6	ks_obtained
arg	56:43	56:56	5	&p_sys->hkai
op	56:43	0:0	6	&
water	56:44	0:0	6	p_sys
op	56:49	0:0	6	->
water	56:51	0:0	6	hkai
stmts	57:4	60:4	3	
water	57:4	0:0	4	{
call	58:8	58:49	4	msg_Err
arg	58:17	58:23	5	p_aout
water	58:17	0:0	6	p_aout
arg	58:25	58:49	5	"cannot open KAI device"
water	58:25	0:0	6	"cannot open KAI device"
water	58:50	0:0	4	;
goto	59:8	59:26	4	exit_kai_done
water	59:13	0:0	5	exit_kai_done
water	60:4	0:0	4	}
call	61:4	62:64	2	msg_Dbg
arg	61:13	61:19	3	p_aout
water	61:13	0:0	4	p_aout
arg	61:21	61:38	3	"open in %s mode"
water	61:21	0:0	4	"open in %s mode"
arg	62:13	62:64	3	ks_obtained.fShareable?"shareable":"exclusive"
water	62:13	0:0	4	ks_obtained
op	62:24	0:0	4	.
water	62:25	0:0	4	fShareable
water	62:36	0:0	4	?
water	62:38	0:0	4	"shareable"
water	62:50	0:0	4	:
water	62:52	0:0	4	"exclusive"
water	62:65	0:0	2	;
call	63:4	64:58	2	msg_Dbg
arg	63:13	63:19	3	p_aout
water	63:13	0:0	4	p_aout
arg	63:21	63:50	3	"obtained i_nb_samples = %lu"
water	63:21	0:0	4	"obtained i_nb_samples = %lu"
arg	64:13	64:58	3	ks_obtained.ulBufferSize/i_bytes_per_frame
water	64:13	0:0	4	ks_obtained
op	64:24	0:0	4	.
water	64:25	0:0	4	ulBufferSize
op	64:38	0:0	4	/
water	64:40	0:0	4	i_bytes_per_frame
water	64:59	0:0	2	;
call	65:4	66:38	2	msg_Dbg
arg	65:13	65:19	3	p_aout
water	65:13	0:0	4	p_aout
arg	65:21	65:54	3	"obtained i_bytes_per_frame = %d"
water	65:21	0:0	4	"obtained i_bytes_per_frame = %d"
arg	66:13	66:38	3	format.i_bytes_per_frame
water	66:13	0:0	4	format
op	66:19	0:0	4	.
water	66:20	0:0	4	i_bytes_per_frame
water	66:39	0:0	2	;
water	67:4	0:0	2	p_sys
op	67:9	0:0	2	->
water	67:11	0:0	2	format
op	67:18	0:0	2	=
op	67:20	0:0	2	*
water	67:21	0:0	2	fmt
op	67:25	0:0	2	=
water	67:27	0:0	2	format
water	67:33	0:0	2	;
water	68:4	0:0	2	p_aout
op	68:10	0:0	2	->
water	68:12	0:0	2	time_get
op	68:21	0:0	2	=
water	68:23	0:0	2	TimeGet
water	68:30	0:0	2	;
water	69:4	0:0	2	p_aout
op	69:10	0:0	2	->
water	69:12	0:0	2	play
op	69:21	0:0	2	=
water	69:23	0:0	2	Play
water	69:27	0:0	2	;
water	70:4	0:0	2	p_aout
op	70:10	0:0	2	->
water	70:12	0:0	2	pause
op	70:21	0:0	2	=
water	70:23	0:0	2	Pause
water	70:28	0:0	2	;
water	71:4	0:0	2	p_aout
op	71:10	0:0	2	->
water	71:12	0:0	2	flush
op	71:21	0:0	2	=
water	71:23	0:0	2	Flush
water	71:28	0:0	2	;
call	72:4	72:33	2	aout_SoftVolumeStart
arg	72:26	72:33	3	p_aout
water	72:26	0:0	4	p_aout
water	72:34	0:0	2	;
call	73:4	74:67	2	CreateBuffer
arg	73:18	73:24	3	p_aout
water	73:18	0:0	4	p_aout
arg	73:26	74:67	3	AUDIO_BUFFER_SIZE_IN_SECONDS*format.i_rate*format.i_bytes_per_frame
water	73:26	0:0	4	AUDIO_BUFFER_SIZE_IN_SECONDS
op	73:55	0:0	4	*
water	74:26	0:0	4	format
op	74:32	0:0	4	.
water	74:33	0:0	4	i_rate
op	74:40	0:0	4	*
water	74:42	0:0	4	format
op	74:48	0:0	4	.
water	74:49	0:0	4	i_bytes_per_frame
water	74:68	0:0	2	;
call	76:4	76:29	2	_control87
arg	76:15	76:21	3	MCW_EM
water	76:15	0:0	4	MCW_EM
arg	76:23	76:29	3	MCW_EM
water	76:23	0:0	4	MCW_EM
water	76:30	0:0	2	;
return	77:4	77:22	2	VLC_SUCCESS
water	77:11	0:0	3	VLC_SUCCESS
label	78:0	78:14	2	exit_kai_done :
call	79:4	79:12	2	kaiDone
water	79:13	0:0	2	;
return	80:4	80:23	2	VLC_EGENERIC
water	80:11	0:0	3	VLC_EGENERIC
