func	2:0	51:0	0	int	playlist_MLLoad
params	2:19	0:0	1	
param	2:21	2:44	2	playlist_t *	p_playlist
stmnts	0:0	50:22	1	
decl	4:4	4:25	2	input_item_t	*p_input
decl	5:4	5:57	2	char	*psz_datadir
op	5:22	0:0	2	=
call	5:24	5:56	3	config_GetUserDir
arg	5:43	5:56	4	VLC_DATA_DIR
water	5:43	0:0	5	VLC_DATA_DIR
if	6:4	10:4	2	(! psz_datadir)
cond	6:8	6:9	3	! psz_datadir
op	6:8	0:0	4	!
water	6:9	0:0	4	psz_datadir
stmts	7:4	10:4	3	
water	7:4	0:0	4	{
call	8:8	8:75	4	msg_Err
arg	8:17	8:27	5	p_playlist
water	8:17	0:0	6	p_playlist
arg	8:29	8:75	5	"no data directory, cannot load media library"
water	8:29	0:0	6	"no data directory, cannot load media library"
water	8:77	0:0	4	;
return	9:8	9:27	4	VLC_EGENERIC
water	9:15	0:0	5	VLC_EGENERIC
water	10:4	0:0	4	}
decl	11:4	11:18	2	char	*psz_file
if	12:4	13:23	2	(asprintf (& psz_file ,"%s" DIR_SEP "ml.xspf" ,psz_datadir ) == - 1)
cond	12:8	12:71	3	asprintf (& psz_file ,"%s" DIR_SEP "ml.xspf" ,psz_datadir ) == - 1
call	12:8	12:65	4	asprintf
arg	12:18	12:27	5	&psz_file
op	12:18	0:0	6	&
water	12:19	0:0	6	psz_file
arg	12:29	12:51	5	"%s"DIR_SEP"ml.xspf"
water	12:29	0:0	6	"%s"
water	12:34	0:0	6	DIR_SEP
water	12:42	0:0	6	"ml.xspf"
arg	12:53	12:65	5	psz_datadir
water	12:53	0:0	6	psz_datadir
op	12:67	0:0	4	==
op	12:70	0:0	4	-
water	12:71	0:0	4	1
stmts	13:8	13:23	3	
water	13:8	0:0	4	psz_file
op	13:17	0:0	4	=
water	13:19	0:0	4	NULL
water	13:23	0:0	4	;
call	14:4	14:22	2	free
arg	14:10	14:22	3	psz_datadir
water	14:10	0:0	4	psz_datadir
water	14:23	0:0	2	;
if	15:4	16:25	2	(psz_file == NULL)
cond	15:8	15:20	3	psz_file == NULL
water	15:8	0:0	4	psz_file
op	15:17	0:0	4	==
water	15:20	0:0	4	NULL
stmts	16:8	16:25	3	
return	16:8	16:25	4	VLC_ENOMEM
water	16:15	0:0	5	VLC_ENOMEM
decl	18:4	18:18	2	struct stat	st
if	19:4	23:4	2	(vlc_stat (psz_file ,& st ))
cond	19:8	19:32	3	vlc_stat (psz_file ,& st )
call	19:8	19:32	4	vlc_stat
arg	19:18	19:26	5	psz_file
water	19:18	0:0	6	psz_file
arg	19:28	19:32	5	&st
op	19:28	0:0	6	&
water	19:29	0:0	6	st
stmts	20:4	23:4	3	
water	20:4	0:0	4	{
call	21:8	21:23	4	free
arg	21:14	21:23	5	psz_file
water	21:14	0:0	6	psz_file
water	21:24	0:0	4	;
return	22:8	22:27	4	VLC_EGENERIC
water	22:15	0:0	5	VLC_EGENERIC
water	23:4	0:0	4	}
decl	24:4	24:62	2	char	*psz_uri
op	24:18	0:0	2	=
call	24:20	24:61	3	vlc_path2uri
arg	24:34	24:42	4	psz_file
water	24:34	0:0	5	psz_file
arg	24:44	24:61	4	"file/xspf-open"
water	24:44	0:0	5	"file/xspf-open"
call	25:4	25:19	2	free
arg	25:10	25:19	3	psz_file
water	25:10	0:0	4	psz_file
water	25:20	0:0	2	;
if	26:4	27:25	2	(psz_uri == NULL)
cond	26:8	26:19	3	psz_uri == NULL
water	26:8	0:0	4	psz_uri
op	26:16	0:0	4	==
water	26:19	0:0	4	NULL
stmts	27:8	27:25	3	
return	27:8	27:25	4	VLC_ENOMEM
water	27:15	0:0	5	VLC_ENOMEM
water	28:4	0:0	2	const
water	28:10	0:0	2	char
op	28:15	0:0	2	*
water	28:16	0:0	2	const
water	28:22	0:0	2	options
op	28:29	0:0	2	[
water	28:30	0:0	2	1
op	28:31	0:0	2	]
op	28:33	0:0	2	=
water	28:35	0:0	2	{
water	28:37	0:0	2	"meta-file"
water	28:48	0:0	2	,
water	28:50	0:0	2	}
water	28:51	0:0	2	;
water	31:4	0:0	2	p_input
op	31:12	0:0	2	=
call	31:14	32:74	2	input_item_NewExt
arg	31:33	31:40	3	psz_uri
water	31:33	0:0	4	psz_uri
arg	31:42	31:60	3	_("Media Library")
call	31:42	31:59	4	_
arg	31:44	31:59	5	"Media Library"
water	31:44	0:0	6	"Media Library"
arg	32:33	32:34	3	1
water	32:33	0:0	4	1
arg	32:36	32:43	3	options
water	32:36	0:0	4	options
arg	32:45	32:69	3	VLC_INPUT_OPTION_TRUSTED
water	32:45	0:0	4	VLC_INPUT_OPTION_TRUSTED
arg	32:71	32:74	3	-1
op	32:71	0:0	4	-
water	32:72	0:0	4	1
water	32:75	0:0	2	;
call	33:4	33:18	2	free
arg	33:10	33:18	3	psz_uri
water	33:10	0:0	4	psz_uri
water	33:19	0:0	2	;
if	34:4	35:27	2	(p_input == NULL)
cond	34:8	34:19	3	p_input == NULL
water	34:8	0:0	4	p_input
op	34:16	0:0	4	==
water	34:19	0:0	4	NULL
stmts	35:8	35:27	3	
return	35:8	35:27	4	VLC_EGENERIC
water	35:15	0:0	5	VLC_EGENERIC
water	36:4	0:0	2	PL_LOCK
water	36:11	0:0	2	;
if	37:4	38:61	2	(p_playlist -> p_media_library -> p_input)
cond	37:8	37:37	3	p_playlist -> p_media_library -> p_input
water	37:8	0:0	4	p_playlist
op	37:18	0:0	4	->
water	37:20	0:0	4	p_media_library
op	37:35	0:0	4	->
water	37:37	0:0	4	p_input
stmts	38:8	38:61	3	
call	38:8	38:60	4	vlc_gc_decref
arg	38:23	38:60	5	p_playlist->p_media_library->p_input
water	38:23	0:0	6	p_playlist
op	38:33	0:0	6	->
water	38:35	0:0	6	p_media_library
op	38:50	0:0	6	->
water	38:52	0:0	6	p_input
water	38:61	0:0	4	;
water	39:4	0:0	2	p_playlist
op	39:14	0:0	2	->
water	39:16	0:0	2	p_media_library
op	39:31	0:0	2	->
water	39:33	0:0	2	p_input
op	39:41	0:0	2	=
water	39:43	0:0	2	p_input
water	39:50	0:0	2	;
call	40:4	41:66	2	vlc_event_attach
arg	40:22	40:45	3	&p_input->event_manager
op	40:22	0:0	4	&
water	40:23	0:0	4	p_input
op	40:30	0:0	4	->
water	40:32	0:0	4	event_manager
arg	40:47	40:76	3	vlc_InputItemSubItemTreeAdded
water	40:47	0:0	4	vlc_InputItemSubItemTreeAdded
arg	41:24	41:53	3	input_item_subitem_tree_added
water	41:24	0:0	4	input_item_subitem_tree_added
arg	41:55	41:66	3	p_playlist
water	41:55	0:0	4	p_playlist
water	41:67	0:0	2	;
call	42:4	42:22	2	pl_priv
arg	42:12	42:22	3	p_playlist
water	42:12	0:0	4	p_playlist
op	42:23	0:0	2	->
water	42:25	0:0	2	b_doing_ml
op	42:36	0:0	2	=
water	42:38	0:0	2	true
water	42:42	0:0	2	;
water	43:4	0:0	2	PL_UNLOCK
water	43:13	0:0	2	;
call	44:4	44:36	2	input_Read
arg	44:16	44:26	3	p_playlist
water	44:16	0:0	4	p_playlist
arg	44:28	44:36	3	p_input
water	44:28	0:0	4	p_input
water	44:37	0:0	2	;
water	45:4	0:0	2	PL_LOCK
water	45:11	0:0	2	;
call	46:4	46:22	2	pl_priv
arg	46:12	46:22	3	p_playlist
water	46:12	0:0	4	p_playlist
op	46:23	0:0	2	->
water	46:25	0:0	2	b_doing_ml
op	46:36	0:0	2	=
water	46:38	0:0	2	false
water	46:43	0:0	2	;
water	47:4	0:0	2	PL_UNLOCK
water	47:13	0:0	2	;
call	48:4	49:66	2	vlc_event_detach
arg	48:22	48:45	3	&p_input->event_manager
op	48:22	0:0	4	&
water	48:23	0:0	4	p_input
op	48:30	0:0	4	->
water	48:32	0:0	4	event_manager
arg	48:47	48:76	3	vlc_InputItemSubItemTreeAdded
water	48:47	0:0	4	vlc_InputItemSubItemTreeAdded
arg	49:24	49:53	3	input_item_subitem_tree_added
water	49:24	0:0	4	input_item_subitem_tree_added
arg	49:55	49:66	3	p_playlist
water	49:55	0:0	4	p_playlist
water	49:67	0:0	2	;
return	50:4	50:22	2	VLC_SUCCESS
water	50:11	0:0	3	VLC_SUCCESS
