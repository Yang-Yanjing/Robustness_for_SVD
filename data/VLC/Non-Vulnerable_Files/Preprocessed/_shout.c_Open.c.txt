func	2:0	216:0	0	static int	Open
params	2:15	0:0	1	
param	2:17	2:38	2	vlc_object_t *	p_this
stmnts	0:0	215:23	1	
decl	4:4	4:60	2	sout_access_out_t	*p_access
op	4:32	0:0	2	=
water	4:34	0:0	2	(
water	4:35	0:0	2	sout_access_out_t
op	4:52	0:0	2	*
water	4:53	0:0	2	)
water	4:54	0:0	2	p_this
decl	5:4	5:32	2	sout_access_out_sys_t	*p_sys
decl	6:4	6:20	2	shout_t	*p_shout
decl	7:4	7:14	2	long	i_ret
decl	8:4	8:17	2	char	*psz_val
decl	9:4	9:18	2	char	*psz_name
decl	10:4	10:25	2	char	*psz_description
decl	11:4	11:19	2	char	*psz_genre
decl	12:4	12:17	2	char	*psz_url
decl	13:4	13:17	2	vlc_url_t	url
call	14:4	14:85	2	config_ChainParse
arg	14:23	14:31	3	p_access
water	14:23	0:0	4	p_access
arg	14:33	14:48	3	SOUT_CFG_PREFIX
water	14:33	0:0	4	SOUT_CFG_PREFIX
arg	14:50	14:67	3	ppsz_sout_options
water	14:50	0:0	4	ppsz_sout_options
arg	14:69	14:85	3	p_access->p_cfg
water	14:69	0:0	4	p_access
op	14:77	0:0	4	->
water	14:79	0:0	4	p_cfg
water	14:86	0:0	2	;
if	15:4	20:4	2	(! p_access -> psz_path)
cond	15:8	15:19	3	! p_access -> psz_path
op	15:8	0:0	4	!
water	15:9	0:0	4	p_access
op	15:17	0:0	4	->
water	15:19	0:0	4	psz_path
stmts	16:4	20:4	3	
water	16:4	0:0	4	{
call	17:8	18:73	4	msg_Err
arg	17:17	17:25	5	p_access
water	17:17	0:0	6	p_access
arg	18:17	18:73	5	"please specify url=user:password@host:port/mountpoint"
water	18:17	0:0	6	"please specify url=user:password@host:port/mountpoint"
water	18:74	0:0	4	;
return	19:8	19:27	4	VLC_EGENERIC
water	19:15	0:0	5	VLC_EGENERIC
water	20:4	0:0	4	}
call	21:4	21:47	2	vlc_UrlParse
arg	21:18	21:23	3	&url
op	21:18	0:0	4	&
water	21:19	0:0	4	url
arg	21:25	21:43	3	p_access->psz_path
water	21:25	0:0	4	p_access
op	21:33	0:0	4	->
water	21:35	0:0	4	psz_path
arg	21:45	21:47	3	0
water	21:45	0:0	4	0
water	21:48	0:0	2	;
if	22:4	23:25	2	(url . i_port <= 0)
cond	22:8	22:22	3	url . i_port <= 0
water	22:8	0:0	4	url
op	22:11	0:0	4	.
water	22:12	0:0	4	i_port
op	22:19	0:0	4	<=
water	22:22	0:0	4	0
stmts	23:8	23:25	3	
water	23:8	0:0	4	url
op	23:11	0:0	4	.
water	23:12	0:0	4	i_port
op	23:19	0:0	4	=
water	23:21	0:0	4	8000
water	23:25	0:0	4	;
water	24:4	0:0	2	p_sys
op	24:10	0:0	2	=
water	24:12	0:0	2	p_access
op	24:20	0:0	2	->
water	24:22	0:0	2	p_sys
op	24:28	0:0	2	=
call	24:30	24:70	2	malloc
arg	24:38	24:70	3	sizeof(sout_access_out_sys_t)
op	24:38	0:0	4	sizeof
water	24:44	0:0	4	(
water	24:46	0:0	4	sout_access_out_sys_t
water	24:68	0:0	4	)
water	24:71	0:0	2	;
if	25:4	29:4	2	(! p_sys)
cond	25:8	25:9	3	! p_sys
op	25:8	0:0	4	!
water	25:9	0:0	4	p_sys
stmts	26:4	29:4	3	
water	26:4	0:0	4	{
call	27:8	27:27	4	vlc_UrlClean
arg	27:22	27:27	5	&url
op	27:22	0:0	6	&
water	27:23	0:0	6	url
water	27:28	0:0	4	;
return	28:8	28:25	4	VLC_ENOMEM
water	28:15	0:0	5	VLC_ENOMEM
water	29:4	0:0	4	}
water	30:4	0:0	2	psz_name
op	30:13	0:0	2	=
call	30:15	30:71	2	var_GetNonEmptyString
arg	30:38	30:46	3	p_access
water	30:38	0:0	4	p_access
arg	30:48	30:71	3	SOUT_CFG_PREFIX"name"
water	30:48	0:0	4	SOUT_CFG_PREFIX
water	30:64	0:0	4	"name"
water	30:72	0:0	2	;
water	31:4	0:0	2	psz_description
op	31:20	0:0	2	=
call	31:22	31:85	2	var_GetNonEmptyString
arg	31:45	31:53	3	p_access
water	31:45	0:0	4	p_access
arg	31:55	31:85	3	SOUT_CFG_PREFIX"description"
water	31:55	0:0	4	SOUT_CFG_PREFIX
water	31:71	0:0	4	"description"
water	31:86	0:0	2	;
water	32:4	0:0	2	psz_genre
op	32:14	0:0	2	=
call	32:16	32:73	2	var_GetNonEmptyString
arg	32:39	32:47	3	p_access
water	32:39	0:0	4	p_access
arg	32:49	32:73	3	SOUT_CFG_PREFIX"genre"
water	32:49	0:0	4	SOUT_CFG_PREFIX
water	32:65	0:0	4	"genre"
water	32:74	0:0	2	;
water	33:4	0:0	2	psz_url
op	33:12	0:0	2	=
call	33:14	33:69	2	var_GetNonEmptyString
arg	33:37	33:45	3	p_access
water	33:37	0:0	4	p_access
arg	33:47	33:69	3	SOUT_CFG_PREFIX"url"
water	33:47	0:0	4	SOUT_CFG_PREFIX
water	33:63	0:0	4	"url"
water	33:70	0:0	2	;
water	34:4	0:0	2	p_shout
op	34:12	0:0	2	=
water	34:14	0:0	2	p_sys
op	34:19	0:0	2	->
water	34:21	0:0	2	p_shout
op	34:29	0:0	2	=
call	34:31	34:41	2	shout_new
water	34:42	0:0	2	;
if	35:4	57:4	2	(! p_shout ||shout_set_host (p_shout ,url . psz_host ) != SHOUTERR_SUCCESS ||shout_set_protocol (p_shout ,SHOUT_PROTOCOL_ICY ) != SHOUTERR_SUCCESS ||shout_set_port (p_shout ,url . i_port ) != SHOUTERR_SUCCESS ||shout_set_password (p_shout ,url . psz_password ) != SHOUTERR_SUCCESS ||shout_set_mount (p_shout ,url . psz_path ) != SHOUTERR_SUCCESS ||shout_set_user (p_shout ,url . psz_username ) != SHOUTERR_SUCCESS ||shout_set_agent (p_shout ,"VLC media player " VERSION ) != SHOUTERR_SUCCESS ||shout_set_name (p_shout ,psz_name ) != SHOUTERR_SUCCESS ||shout_set_description (p_shout ,psz_description ) != SHOUTERR_SUCCESS ||shout_set_genre (p_shout ,psz_genre ) != SHOUTERR_SUCCESS ||shout_set_url (p_shout ,psz_url ) != SHOUTERR_SUCCESS)
cond	35:8	46:49	3	! p_shout ||shout_set_host (p_shout ,url . psz_host ) != SHOUTERR_SUCCESS ||shout_set_protocol (p_shout ,SHOUT_PROTOCOL_ICY ) != SHOUTERR_SUCCESS ||shout_set_port (p_shout ,url . i_port ) != SHOUTERR_SUCCESS ||shout_set_password (p_shout ,url . psz_password ) != SHOUTERR_SUCCESS ||shout_set_mount (p_shout ,url . psz_path ) != SHOUTERR_SUCCESS ||shout_set_user (p_shout ,url . psz_username ) != SHOUTERR_SUCCESS ||shout_set_agent (p_shout ,"VLC media player " VERSION ) != SHOUTERR_SUCCESS ||shout_set_name (p_shout ,psz_name ) != SHOUTERR_SUCCESS ||shout_set_description (p_shout ,psz_description ) != SHOUTERR_SUCCESS ||shout_set_genre (p_shout ,psz_genre ) != SHOUTERR_SUCCESS ||shout_set_url (p_shout ,psz_url ) != SHOUTERR_SUCCESS
op	35:8	0:0	4	!
water	35:9	0:0	4	p_shout
op	36:9	0:0	4	||
call	36:12	36:50	4	shout_set_host
arg	36:28	36:35	5	p_shout
water	36:28	0:0	6	p_shout
arg	36:37	36:50	5	url.psz_host
water	36:37	0:0	6	url
op	36:40	0:0	6	.
water	36:41	0:0	6	psz_host
op	36:52	0:0	4	!=
water	36:55	0:0	4	SHOUTERR_SUCCESS
op	37:9	0:0	4	||
call	37:12	37:60	4	shout_set_protocol
arg	37:32	37:39	5	p_shout
water	37:32	0:0	6	p_shout
arg	37:41	37:60	5	SHOUT_PROTOCOL_ICY
water	37:41	0:0	6	SHOUT_PROTOCOL_ICY
op	37:62	0:0	4	!=
water	37:65	0:0	4	SHOUTERR_SUCCESS
op	38:9	0:0	4	||
call	38:12	38:48	4	shout_set_port
arg	38:28	38:35	5	p_shout
water	38:28	0:0	6	p_shout
arg	38:37	38:48	5	url.i_port
water	38:37	0:0	6	url
op	38:40	0:0	6	.
water	38:41	0:0	6	i_port
op	38:50	0:0	4	!=
water	38:53	0:0	4	SHOUTERR_SUCCESS
op	39:9	0:0	4	||
call	39:12	39:58	4	shout_set_password
arg	39:32	39:39	5	p_shout
water	39:32	0:0	6	p_shout
arg	39:41	39:58	5	url.psz_password
water	39:41	0:0	6	url
op	39:44	0:0	6	.
water	39:45	0:0	6	psz_password
op	39:60	0:0	4	!=
water	39:63	0:0	4	SHOUTERR_SUCCESS
op	40:9	0:0	4	||
call	40:12	40:51	4	shout_set_mount
arg	40:29	40:36	5	p_shout
water	40:29	0:0	6	p_shout
arg	40:38	40:51	5	url.psz_path
water	40:38	0:0	6	url
op	40:41	0:0	6	.
water	40:42	0:0	6	psz_path
op	40:53	0:0	4	!=
water	40:56	0:0	4	SHOUTERR_SUCCESS
op	41:9	0:0	4	||
call	41:12	41:54	4	shout_set_user
arg	41:28	41:35	5	p_shout
water	41:28	0:0	6	p_shout
arg	41:37	41:54	5	url.psz_username
water	41:37	0:0	6	url
op	41:40	0:0	6	.
water	41:41	0:0	6	psz_username
op	41:56	0:0	4	!=
water	41:59	0:0	4	SHOUTERR_SUCCESS
op	42:9	0:0	4	||
call	42:12	42:66	4	shout_set_agent
arg	42:29	42:36	5	p_shout
water	42:29	0:0	6	p_shout
arg	42:38	42:66	5	"VLC media player "VERSION
water	42:38	0:0	6	"VLC media player "
water	42:58	0:0	6	VERSION
op	42:68	0:0	4	!=
water	42:71	0:0	4	SHOUTERR_SUCCESS
op	43:9	0:0	4	||
call	43:12	43:46	4	shout_set_name
arg	43:28	43:35	5	p_shout
water	43:28	0:0	6	p_shout
arg	43:37	43:46	5	psz_name
water	43:37	0:0	6	psz_name
op	43:48	0:0	4	!=
water	43:51	0:0	4	SHOUTERR_SUCCESS
op	44:9	0:0	4	||
call	44:12	44:60	4	shout_set_description
arg	44:35	44:42	5	p_shout
water	44:35	0:0	6	p_shout
arg	44:44	44:60	5	psz_description
water	44:44	0:0	6	psz_description
op	44:62	0:0	4	!=
water	44:65	0:0	4	SHOUTERR_SUCCESS
op	45:9	0:0	4	||
call	45:12	45:48	4	shout_set_genre
arg	45:29	45:36	5	p_shout
water	45:29	0:0	6	p_shout
arg	45:38	45:48	5	psz_genre
water	45:38	0:0	6	psz_genre
op	45:50	0:0	4	!=
water	45:53	0:0	4	SHOUTERR_SUCCESS
op	46:9	0:0	4	||
call	46:12	46:44	4	shout_set_url
arg	46:27	46:34	5	p_shout
water	46:27	0:0	6	p_shout
arg	46:36	46:44	5	psz_url
water	46:36	0:0	6	psz_url
op	46:46	0:0	4	!=
water	46:49	0:0	4	SHOUTERR_SUCCESS
stmts	49:4	57:4	3	
water	49:4	0:0	4	{
call	50:8	51:56	4	msg_Err
arg	50:17	50:25	5	p_access
water	50:17	0:0	6	p_access
arg	50:27	50:77	5	"failed to initialize shout streaming to %s:%i/%s"
water	50:27	0:0	6	"failed to initialize shout streaming to %s:%i/%s"
arg	51:17	51:29	5	url.psz_host
water	51:17	0:0	6	url
op	51:20	0:0	6	.
water	51:21	0:0	6	psz_host
arg	51:31	51:41	5	url.i_port
water	51:31	0:0	6	url
op	51:34	0:0	6	.
water	51:35	0:0	6	i_port
arg	51:43	51:56	5	url.psz_path
water	51:43	0:0	6	url
op	51:46	0:0	6	.
water	51:47	0:0	6	psz_path
water	51:57	0:0	4	;
call	52:8	52:23	4	free
arg	52:14	52:23	5	psz_name
water	52:14	0:0	6	psz_name
water	52:24	0:0	4	;
call	53:8	53:30	4	free
arg	53:14	53:30	5	psz_description
water	53:14	0:0	6	psz_description
water	53:31	0:0	4	;
call	54:8	54:24	4	free
arg	54:14	54:24	5	psz_genre
water	54:14	0:0	6	psz_genre
water	54:25	0:0	4	;
call	55:8	55:22	4	free
arg	55:14	55:22	5	psz_url
water	55:14	0:0	6	psz_url
water	55:23	0:0	4	;
goto	56:8	56:18	4	error
water	56:13	0:0	5	error
water	57:4	0:0	4	}
call	58:4	58:19	2	free
arg	58:10	58:19	3	psz_name
water	58:10	0:0	4	psz_name
water	58:20	0:0	2	;
call	59:4	59:26	2	free
arg	59:10	59:26	3	psz_description
water	59:10	0:0	4	psz_description
water	59:27	0:0	2	;
call	60:4	60:20	2	free
arg	60:10	60:20	3	psz_genre
water	60:10	0:0	4	psz_genre
water	60:21	0:0	2	;
call	61:4	61:18	2	free
arg	61:10	61:18	3	psz_url
water	61:10	0:0	4	psz_url
water	61:19	0:0	2	;
water	62:4	0:0	2	i_ret
op	62:10	0:0	2	=
call	62:12	63:75	2	shout_set_format
arg	62:30	62:37	3	p_shout
water	62:30	0:0	4	p_shout
arg	62:39	63:75	3	var_GetBool(p_access,SOUT_CFG_PREFIX"mp3")?SHOUT_FORMAT_MP3:SHOUT_FORMAT_OGG
call	62:39	62:84	4	var_GetBool
arg	62:52	62:60	5	p_access
water	62:52	0:0	6	p_access
arg	62:62	62:84	5	SOUT_CFG_PREFIX"mp3"
water	62:62	0:0	6	SOUT_CFG_PREFIX
water	62:78	0:0	6	"mp3"
water	62:86	0:0	4	?
water	63:39	0:0	4	SHOUT_FORMAT_MP3
water	63:56	0:0	4	:
water	63:58	0:0	4	SHOUT_FORMAT_OGG
water	63:76	0:0	2	;
if	64:4	68:4	2	(i_ret != SHOUTERR_SUCCESS)
cond	64:8	64:17	3	i_ret != SHOUTERR_SUCCESS
water	64:8	0:0	4	i_ret
op	64:14	0:0	4	!=
water	64:17	0:0	4	SHOUTERR_SUCCESS
stmts	65:4	68:4	3	
water	65:4	0:0	4	{
call	66:8	66:74	4	msg_Err
arg	66:17	66:25	5	p_access
water	66:17	0:0	6	p_access
arg	66:27	66:74	5	"failed to set the shoutcast streaming format"
water	66:27	0:0	6	"failed to set the shoutcast streaming format"
water	66:75	0:0	4	;
goto	67:8	67:18	4	error
water	67:13	0:0	5	error
water	68:4	0:0	4	}
water	71:4	0:0	2	psz_val
op	71:12	0:0	2	=
call	71:14	71:73	2	var_GetNonEmptyString
arg	71:37	71:45	3	p_access
water	71:37	0:0	4	p_access
arg	71:47	71:73	3	SOUT_CFG_PREFIX"bitrate"
water	71:47	0:0	4	SOUT_CFG_PREFIX
water	71:63	0:0	4	"bitrate"
water	71:74	0:0	2	;
if	72:4	81:4	2	(psz_val)
cond	72:8	72:8	3	psz_val
water	72:8	0:0	4	psz_val
stmts	73:4	81:4	3	
water	73:4	0:0	4	{
water	74:8	0:0	4	i_ret
op	74:14	0:0	4	=
call	74:16	74:73	4	shout_set_audio_info
arg	74:38	74:45	5	p_shout
water	74:38	0:0	6	p_shout
arg	74:47	74:63	5	SHOUT_AI_BITRATE
water	74:47	0:0	6	SHOUT_AI_BITRATE
arg	74:65	74:73	5	psz_val
water	74:65	0:0	6	psz_val
water	74:74	0:0	4	;
call	75:8	75:22	4	free
arg	75:14	75:22	5	psz_val
water	75:14	0:0	6	psz_val
water	75:23	0:0	4	;
if	76:8	80:8	4	(i_ret != SHOUTERR_SUCCESS)
cond	76:12	76:21	5	i_ret != SHOUTERR_SUCCESS
water	76:12	0:0	6	i_ret
op	76:18	0:0	6	!=
water	76:21	0:0	6	SHOUTERR_SUCCESS
stmts	77:8	80:8	5	
water	77:8	0:0	6	{
call	78:12	78:81	6	msg_Err
arg	78:21	78:29	7	p_access
water	78:21	0:0	8	p_access
arg	78:31	78:81	7	"failed to set the information about the bitrate"
water	78:31	0:0	8	"failed to set the information about the bitrate"
water	78:82	0:0	6	;
goto	79:12	79:22	6	error
water	79:17	0:0	7	error
water	80:8	0:0	6	}
water	81:4	0:0	4	}
else	82:4	88:4	2
stmts	83:4	88:4	3	
water	83:4	0:0	4	{
call	86:8	87:77	4	msg_Warn
arg	86:18	86:26	5	p_access
water	86:18	0:0	6	p_access
arg	86:28	87:77	5	"no bitrate information specified (required for listing ""the server as public on the shoutcast website)"
water	86:28	0:0	6	"no bitrate information specified (required for listing "
water	87:28	0:0	6	"the server as public on the shoutcast website)"
water	87:78	0:0	4	;
water	88:4	0:0	4	}
water	92:4	0:0	2	psz_val
op	92:12	0:0	2	=
call	92:14	92:76	2	var_GetNonEmptyString
arg	92:37	92:45	3	p_access
water	92:37	0:0	4	p_access
arg	92:47	92:76	3	SOUT_CFG_PREFIX"samplerate"
water	92:47	0:0	4	SOUT_CFG_PREFIX
water	92:63	0:0	4	"samplerate"
water	92:77	0:0	2	;
if	93:4	102:4	2	(psz_val)
cond	93:8	93:8	3	psz_val
water	93:8	0:0	4	psz_val
stmts	94:4	102:4	3	
water	94:4	0:0	4	{
water	95:8	0:0	4	i_ret
op	95:14	0:0	4	=
call	95:16	95:76	4	shout_set_audio_info
arg	95:38	95:45	5	p_shout
water	95:38	0:0	6	p_shout
arg	95:47	95:66	5	SHOUT_AI_SAMPLERATE
water	95:47	0:0	6	SHOUT_AI_SAMPLERATE
arg	95:68	95:76	5	psz_val
water	95:68	0:0	6	psz_val
water	95:77	0:0	4	;
call	96:8	96:22	4	free
arg	96:14	96:22	5	psz_val
water	96:14	0:0	6	psz_val
water	96:23	0:0	4	;
if	97:8	101:8	4	(i_ret != SHOUTERR_SUCCESS)
cond	97:12	97:21	5	i_ret != SHOUTERR_SUCCESS
water	97:12	0:0	6	i_ret
op	97:18	0:0	6	!=
water	97:21	0:0	6	SHOUTERR_SUCCESS
stmts	98:8	101:8	5	
water	98:8	0:0	6	{
call	99:12	99:84	6	msg_Err
arg	99:21	99:29	7	p_access
water	99:21	0:0	8	p_access
arg	99:31	99:84	7	"failed to set the information about the samplerate"
water	99:31	0:0	8	"failed to set the information about the samplerate"
water	99:85	0:0	6	;
goto	100:12	100:22	6	error
water	100:17	0:0	7	error
water	101:8	0:0	6	}
water	102:4	0:0	4	}
water	103:4	0:0	2	psz_val
op	103:12	0:0	2	=
call	103:14	103:74	2	var_GetNonEmptyString
arg	103:37	103:45	3	p_access
water	103:37	0:0	4	p_access
arg	103:47	103:74	3	SOUT_CFG_PREFIX"channels"
water	103:47	0:0	4	SOUT_CFG_PREFIX
water	103:63	0:0	4	"channels"
water	103:75	0:0	2	;
if	104:4	113:4	2	(psz_val)
cond	104:8	104:8	3	psz_val
water	104:8	0:0	4	psz_val
stmts	105:4	113:4	3	
water	105:4	0:0	4	{
water	106:8	0:0	4	i_ret
op	106:14	0:0	4	=
call	106:16	106:74	4	shout_set_audio_info
arg	106:38	106:45	5	p_shout
water	106:38	0:0	6	p_shout
arg	106:47	106:64	5	SHOUT_AI_CHANNELS
water	106:47	0:0	6	SHOUT_AI_CHANNELS
arg	106:66	106:74	5	psz_val
water	106:66	0:0	6	psz_val
water	106:75	0:0	4	;
call	107:8	107:22	4	free
arg	107:14	107:22	5	psz_val
water	107:14	0:0	6	psz_val
water	107:23	0:0	4	;
if	108:8	112:8	4	(i_ret != SHOUTERR_SUCCESS)
cond	108:12	108:21	5	i_ret != SHOUTERR_SUCCESS
water	108:12	0:0	6	i_ret
op	108:18	0:0	6	!=
water	108:21	0:0	6	SHOUTERR_SUCCESS
stmts	109:8	112:8	5	
water	109:8	0:0	6	{
call	110:12	110:92	6	msg_Err
arg	110:21	110:29	7	p_access
water	110:21	0:0	8	p_access
arg	110:31	110:92	7	"failed to set the information about the number of channels"
water	110:31	0:0	8	"failed to set the information about the number of channels"
water	110:93	0:0	6	;
goto	111:12	111:22	6	error
water	111:17	0:0	7	error
water	112:8	0:0	6	}
water	113:4	0:0	4	}
water	114:4	0:0	2	psz_val
op	114:12	0:0	2	=
call	114:14	114:73	2	var_GetNonEmptyString
arg	114:37	114:45	3	p_access
water	114:37	0:0	4	p_access
arg	114:47	114:73	3	SOUT_CFG_PREFIX"quality"
water	114:47	0:0	4	SOUT_CFG_PREFIX
water	114:63	0:0	4	"quality"
water	114:74	0:0	2	;
if	115:4	124:4	2	(psz_val)
cond	115:8	115:8	3	psz_val
water	115:8	0:0	4	psz_val
stmts	116:4	124:4	3	
water	116:4	0:0	4	{
water	117:8	0:0	4	i_ret
op	117:14	0:0	4	=
call	117:16	117:73	4	shout_set_audio_info
arg	117:38	117:45	5	p_shout
water	117:38	0:0	6	p_shout
arg	117:47	117:63	5	SHOUT_AI_QUALITY
water	117:47	0:0	6	SHOUT_AI_QUALITY
arg	117:65	117:73	5	psz_val
water	117:65	0:0	6	psz_val
water	117:74	0:0	4	;
call	118:8	118:22	4	free
arg	118:14	118:22	5	psz_val
water	118:14	0:0	6	psz_val
water	118:23	0:0	4	;
if	119:8	123:8	4	(i_ret != SHOUTERR_SUCCESS)
cond	119:12	119:21	5	i_ret != SHOUTERR_SUCCESS
water	119:12	0:0	6	i_ret
op	119:18	0:0	6	!=
water	119:21	0:0	6	SHOUTERR_SUCCESS
stmts	120:8	123:8	5	
water	120:8	0:0	6	{
call	121:12	121:88	6	msg_Err
arg	121:21	121:29	7	p_access
water	121:21	0:0	8	p_access
arg	121:31	121:88	7	"failed to set the information about Ogg Vorbis quality"
water	121:31	0:0	8	"failed to set the information about Ogg Vorbis quality"
water	121:89	0:0	6	;
goto	122:12	122:22	6	error
water	122:17	0:0	7	error
water	123:8	0:0	6	}
water	124:4	0:0	4	}
if	125:4	133:4	2	(var_GetBool (p_access ,SOUT_CFG_PREFIX "public" ))
cond	125:8	125:56	3	var_GetBool (p_access ,SOUT_CFG_PREFIX "public" )
call	125:8	125:56	4	var_GetBool
arg	125:21	125:29	5	p_access
water	125:21	0:0	6	p_access
arg	125:31	125:56	5	SOUT_CFG_PREFIX"public"
water	125:31	0:0	6	SOUT_CFG_PREFIX
water	125:47	0:0	6	"public"
stmts	126:4	133:4	3	
water	126:4	0:0	4	{
water	127:8	0:0	4	i_ret
op	127:14	0:0	4	=
call	127:16	127:45	4	shout_set_public
arg	127:34	127:41	5	p_shout
water	127:34	0:0	6	p_shout
arg	127:43	127:45	5	1
water	127:43	0:0	6	1
water	127:46	0:0	4	;
if	128:8	132:8	4	(i_ret != SHOUTERR_SUCCESS)
cond	128:12	128:21	5	i_ret != SHOUTERR_SUCCESS
water	128:12	0:0	6	i_ret
op	128:18	0:0	6	!=
water	128:21	0:0	6	SHOUTERR_SUCCESS
stmts	129:8	132:8	5	
water	129:8	0:0	6	{
call	130:12	130:83	6	msg_Err
arg	130:21	130:29	7	p_access
water	130:21	0:0	8	p_access
arg	130:31	130:83	7	"failed to set the server status setting to public"
water	130:31	0:0	8	"failed to set the server status setting to public"
water	130:84	0:0	6	;
goto	131:12	131:22	6	error
water	131:17	0:0	7	error
water	132:8	0:0	6	}
water	133:4	0:0	4	}
water	135:4	0:0	2	i_ret
op	135:10	0:0	2	=
call	135:12	135:41	2	shout_get_connected
arg	135:33	135:41	3	p_shout
water	135:33	0:0	4	p_shout
water	135:42	0:0	2	;
while	136:4	196:4	2	(i_ret != SHOUTERR_CONNECTED)
cond	136:12	136:21	3	i_ret != SHOUTERR_CONNECTED
water	136:12	0:0	4	i_ret
op	136:18	0:0	4	!=
water	136:21	0:0	4	SHOUTERR_CONNECTED
stmts	137:4	196:4	3	
water	137:4	0:0	4	{
water	139:8	0:0	4	i_ret
op	139:14	0:0	4	=
call	139:16	139:37	4	shout_close
arg	139:29	139:37	5	p_shout
water	139:29	0:0	6	p_shout
water	139:38	0:0	4	;
if	140:8	143:8	4	(i_ret == SHOUTERR_SUCCESS)
cond	140:12	140:21	5	i_ret == SHOUTERR_SUCCESS
water	140:12	0:0	6	i_ret
op	140:18	0:0	6	==
water	140:21	0:0	6	SHOUTERR_SUCCESS
stmts	141:8	143:8	5	
water	141:8	0:0	6	{
water	142:12	0:0	6	i_ret
op	142:18	0:0	6	=
water	142:20	0:0	6	SHOUTERR_UNCONNECTED
water	142:40	0:0	6	;
water	143:8	0:0	6	}
water	146:8	0:0	4	i_ret
op	146:14	0:0	4	=
call	146:16	146:64	4	shout_set_protocol
arg	146:36	146:43	5	p_shout
water	146:36	0:0	6	p_shout
arg	146:45	146:64	5	SHOUT_PROTOCOL_ICY
water	146:45	0:0	6	SHOUT_PROTOCOL_ICY
water	146:65	0:0	4	;
if	147:8	151:8	4	(i_ret != SHOUTERR_SUCCESS)
cond	147:12	147:21	5	i_ret != SHOUTERR_SUCCESS
water	147:12	0:0	6	i_ret
op	147:18	0:0	6	!=
water	147:21	0:0	6	SHOUTERR_SUCCESS
stmts	148:8	151:8	5	
water	148:8	0:0	6	{
call	149:12	149:69	6	msg_Err
arg	149:21	149:29	7	p_access
water	149:21	0:0	8	p_access
arg	149:31	149:69	7	"failed to set the protocol to 'icy'"
water	149:31	0:0	8	"failed to set the protocol to 'icy'"
water	149:70	0:0	6	;
goto	150:12	150:22	6	error
water	150:17	0:0	7	error
water	151:8	0:0	6	}
water	152:8	0:0	4	i_ret
op	152:14	0:0	4	=
call	152:16	152:36	4	shout_open
arg	152:28	152:36	5	p_shout
water	152:28	0:0	6	p_shout
water	152:37	0:0	4	;
if	153:8	157:8	4	(i_ret == SHOUTERR_SUCCESS)
cond	153:12	153:21	5	i_ret == SHOUTERR_SUCCESS
water	153:12	0:0	6	i_ret
op	153:18	0:0	6	==
water	153:21	0:0	6	SHOUTERR_SUCCESS
stmts	154:8	157:8	5	
water	154:8	0:0	6	{
water	155:12	0:0	6	i_ret
op	155:18	0:0	6	=
water	155:20	0:0	6	SHOUTERR_CONNECTED
water	155:38	0:0	6	;
call	156:12	156:76	6	msg_Dbg
arg	156:21	156:29	7	p_access
water	156:21	0:0	8	p_access
arg	156:31	156:76	7	"connected using 'icy' (shoutcast) protocol"
water	156:31	0:0	8	"connected using 'icy' (shoutcast) protocol"
water	156:77	0:0	6	;
water	157:8	0:0	6	}
else	158:8	182:8	4
stmts	159:8	182:8	5	
water	159:8	0:0	6	{
call	160:12	160:85	6	msg_Warn
arg	160:22	160:30	7	p_access
water	160:22	0:0	8	p_access
arg	160:32	160:85	7	"failed to connect using 'icy' (shoutcast) protocol"
water	160:32	0:0	8	"failed to connect using 'icy' (shoutcast) protocol"
water	160:86	0:0	6	;
water	162:12	0:0	6	i_ret
op	162:18	0:0	6	=
call	162:20	162:41	6	shout_close
arg	162:33	162:41	7	p_shout
water	162:33	0:0	8	p_shout
water	162:42	0:0	6	;
if	163:12	166:12	6	(i_ret == SHOUTERR_SUCCESS)
cond	163:16	163:25	7	i_ret == SHOUTERR_SUCCESS
water	163:16	0:0	8	i_ret
op	163:22	0:0	8	==
water	163:25	0:0	8	SHOUTERR_SUCCESS
stmts	164:12	166:12	7	
water	164:12	0:0	8	{
water	165:16	0:0	8	i_ret
op	165:22	0:0	8	=
water	165:24	0:0	8	SHOUTERR_UNCONNECTED
water	165:44	0:0	8	;
water	166:12	0:0	8	}
water	168:12	0:0	6	i_ret
op	168:18	0:0	6	=
call	168:20	168:69	6	shout_set_protocol
arg	168:40	168:47	7	p_shout
water	168:40	0:0	8	p_shout
arg	168:49	168:69	7	SHOUT_PROTOCOL_HTTP
water	168:49	0:0	8	SHOUT_PROTOCOL_HTTP
water	168:70	0:0	6	;
if	169:12	173:12	6	(i_ret != SHOUTERR_SUCCESS)
cond	169:16	169:25	7	i_ret != SHOUTERR_SUCCESS
water	169:16	0:0	8	i_ret
op	169:22	0:0	8	!=
water	169:25	0:0	8	SHOUTERR_SUCCESS
stmts	170:12	173:12	7	
water	170:12	0:0	8	{
call	171:16	171:74	8	msg_Err
arg	171:25	171:33	9	p_access
water	171:25	0:0	10	p_access
arg	171:35	171:74	9	"failed to set the protocol to 'http'"
water	171:35	0:0	10	"failed to set the protocol to 'http'"
water	171:75	0:0	8	;
goto	172:16	172:26	8	error
water	172:21	0:0	9	error
water	173:12	0:0	8	}
water	174:12	0:0	6	i_ret
op	174:18	0:0	6	=
call	174:20	174:40	6	shout_open
arg	174:32	174:40	7	p_shout
water	174:32	0:0	8	p_shout
water	174:41	0:0	6	;
if	175:12	179:12	6	(i_ret == SHOUTERR_SUCCESS)
cond	175:16	175:25	7	i_ret == SHOUTERR_SUCCESS
water	175:16	0:0	8	i_ret
op	175:22	0:0	8	==
water	175:25	0:0	8	SHOUTERR_SUCCESS
stmts	176:12	179:12	7	
water	176:12	0:0	8	{
water	177:16	0:0	8	i_ret
op	177:22	0:0	8	=
water	177:24	0:0	8	SHOUTERR_CONNECTED
water	177:42	0:0	8	;
call	178:16	178:83	8	msg_Dbg
arg	178:25	178:33	9	p_access
water	178:25	0:0	10	p_access
arg	178:35	178:83	9	"connected using 'http' (icecast 2.x) protocol"
water	178:35	0:0	10	"connected using 'http' (icecast 2.x) protocol"
water	178:84	0:0	8	;
water	179:12	0:0	8	}
else	180:12	181:94	6
stmts	181:16	181:94	7	
call	181:16	181:93	8	msg_Warn
arg	181:26	181:34	9	p_access
water	181:26	0:0	10	p_access
arg	181:36	181:93	9	"failed to connect using 'http' (icecast 2.x) protocol "
water	181:36	0:0	10	"failed to connect using 'http' (icecast 2.x) protocol "
water	181:94	0:0	8	;
water	182:8	0:0	6	}
if	191:8	195:8	4	(i_ret != SHOUTERR_CONNECTED)
cond	191:13	191:22	5	i_ret != SHOUTERR_CONNECTED
water	191:13	0:0	6	i_ret
op	191:19	0:0	6	!=
water	191:22	0:0	6	SHOUTERR_CONNECTED
stmts	192:8	195:8	5	
water	192:8	0:0	6	{
call	193:12	193:78	6	msg_Warn
arg	193:22	193:30	7	p_access
water	193:22	0:0	8	p_access
arg	193:32	193:78	7	"unable to establish connection, retrying..."
water	193:32	0:0	8	"unable to establish connection, retrying..."
water	193:79	0:0	6	;
call	194:12	194:29	6	msleep
arg	194:20	194:29	7	30000000
water	194:20	0:0	8	30000000
water	194:30	0:0	6	;
water	195:8	0:0	6	}
water	196:4	0:0	4	}
if	197:4	202:4	2	(i_ret != SHOUTERR_CONNECTED)
cond	197:8	197:17	3	i_ret != SHOUTERR_CONNECTED
water	197:8	0:0	4	i_ret
op	197:14	0:0	4	!=
water	197:17	0:0	4	SHOUTERR_CONNECTED
stmts	198:4	202:4	3	
water	198:4	0:0	4	{
call	199:8	200:82	4	msg_Err
arg	199:17	199:25	5	p_access
water	199:17	0:0	6	p_access
arg	199:27	199:72	5	"failed to open shout stream to %s:%i/%s: %s"
water	199:27	0:0	6	"failed to open shout stream to %s:%i/%s: %s"
arg	200:17	200:29	5	url.psz_host
water	200:17	0:0	6	url
op	200:20	0:0	6	.
water	200:21	0:0	6	psz_host
arg	200:31	200:41	5	url.i_port
water	200:31	0:0	6	url
op	200:34	0:0	6	.
water	200:35	0:0	6	i_port
arg	200:43	200:55	5	url.psz_path
water	200:43	0:0	6	url
op	200:46	0:0	6	.
water	200:47	0:0	6	psz_path
arg	200:57	200:82	5	shout_get_error(p_shout)
call	200:57	200:80	6	shout_get_error
arg	200:73	200:80	7	p_shout
water	200:73	0:0	8	p_shout
water	200:83	0:0	4	;
goto	201:8	201:18	4	error
water	201:13	0:0	5	error
water	202:4	0:0	4	}
water	203:4	0:0	2	p_access
op	203:12	0:0	2	->
water	203:14	0:0	2	pf_write
op	203:23	0:0	2	=
water	203:25	0:0	2	Write
water	203:30	0:0	2	;
water	204:4	0:0	2	p_access
op	204:12	0:0	2	->
water	204:14	0:0	2	pf_seek
op	204:23	0:0	2	=
water	204:25	0:0	2	Seek
water	204:29	0:0	2	;
water	205:4	0:0	2	p_access
op	205:12	0:0	2	->
water	205:14	0:0	2	pf_control
op	205:25	0:0	2	=
water	205:27	0:0	2	Control
water	205:34	0:0	2	;
call	206:4	207:70	2	msg_Dbg
arg	206:13	206:21	3	p_access
water	206:13	0:0	4	p_access
arg	206:23	206:65	3	"shout access output opened (%s@%s:%i/%s)"
water	206:23	0:0	4	"shout access output opened (%s@%s:%i/%s)"
arg	207:13	207:29	3	url.psz_username
water	207:13	0:0	4	url
op	207:16	0:0	4	.
water	207:17	0:0	4	psz_username
arg	207:31	207:43	3	url.psz_host
water	207:31	0:0	4	url
op	207:34	0:0	4	.
water	207:35	0:0	4	psz_host
arg	207:45	207:55	3	url.i_port
water	207:45	0:0	4	url
op	207:48	0:0	4	.
water	207:49	0:0	4	i_port
arg	207:57	207:70	3	url.psz_path
water	207:57	0:0	4	url
op	207:60	0:0	4	.
water	207:61	0:0	4	psz_path
water	207:71	0:0	2	;
call	208:4	208:23	2	vlc_UrlClean
arg	208:18	208:23	3	&url
op	208:18	0:0	4	&
water	208:19	0:0	4	url
water	208:24	0:0	2	;
return	209:4	209:22	2	VLC_SUCCESS
water	209:11	0:0	3	VLC_SUCCESS
label	210:0	210:5	2	error :
if	211:4	212:36	2	(p_sys -> p_shout)
cond	211:8	211:15	3	p_sys -> p_shout
water	211:8	0:0	4	p_sys
op	211:13	0:0	4	->
water	211:15	0:0	4	p_shout
stmts	212:8	212:36	3	
call	212:8	212:35	4	shout_free
arg	212:20	212:35	5	p_sys->p_shout
water	212:20	0:0	6	p_sys
op	212:25	0:0	6	->
water	212:27	0:0	6	p_shout
water	212:36	0:0	4	;
call	213:4	213:23	2	vlc_UrlClean
arg	213:18	213:23	3	&url
op	213:18	0:0	4	&
water	213:19	0:0	4	url
water	213:24	0:0	2	;
call	214:4	214:16	2	free
arg	214:10	214:16	3	p_sys
water	214:10	0:0	4	p_sys
water	214:17	0:0	2	;
return	215:4	215:23	2	VLC_EGENERIC
water	215:11	0:0	3	VLC_EGENERIC
