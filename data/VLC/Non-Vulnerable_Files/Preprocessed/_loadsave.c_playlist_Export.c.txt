func	2:0	43:0	0	int	playlist_Export
params	2:19	0:0	1	
param	2:21	2:44	2	playlist_t *	p_playlist
param	2:46	2:70	2	const char *	psz_filename
param	3:21	3:51	2	playlist_item_t *	p_export_root
param	3:53	3:74	2	const char *	psz_type
stmnts	5:4	42:13	1	
if	5:4	5:51	2	(p_export_root == NULL)
cond	5:8	5:25	3	p_export_root == NULL
water	5:8	0:0	4	p_export_root
op	5:22	0:0	4	==
water	5:25	0:0	4	NULL
stmts	5:32	5:51	3	
return	5:32	5:51	4	VLC_EGENERIC
water	5:39	0:0	5	VLC_EGENERIC
decl	6:4	7:79	2	playlist_export_t	*p_export
op	6:32	0:0	2	=
call	7:8	7:78	3	vlc_custom_create
arg	7:27	7:37	4	p_playlist
water	7:27	0:0	5	p_playlist
arg	7:39	7:58	4	sizeof(*p_export)
op	7:39	0:0	5	sizeof
water	7:45	0:0	5	(
op	7:47	0:0	5	*
water	7:48	0:0	5	p_export
water	7:57	0:0	5	)
arg	7:60	7:78	4	"playlist export"
water	7:60	0:0	5	"playlist export"
if	8:4	9:25	2	(unlikely (p_export == NULL ))
cond	8:8	8:33	3	unlikely (p_export == NULL )
call	8:8	8:33	4	unlikely
arg	8:17	8:33	5	p_export==NULL
water	8:17	0:0	6	p_export
op	8:26	0:0	6	==
water	8:29	0:0	6	NULL
stmts	9:8	9:25	3	
return	9:8	9:25	4	VLC_ENOMEM
water	9:15	0:0	5	VLC_ENOMEM
call	10:4	11:60	2	msg_Dbg
arg	10:13	10:21	3	p_export
water	10:13	0:0	4	p_export
arg	10:23	10:45	3	"saving %s to file %s"
water	10:23	0:0	4	"saving %s to file %s"
arg	11:13	11:45	3	p_export_root->p_input->psz_name
water	11:13	0:0	4	p_export_root
op	11:26	0:0	4	->
water	11:28	0:0	4	p_input
op	11:35	0:0	4	->
water	11:37	0:0	4	psz_name
arg	11:47	11:60	3	psz_filename
water	11:47	0:0	4	psz_filename
water	11:61	0:0	2	;
decl	12:4	12:26	2	int	ret
op	12:12	0:0	2	=
water	12:14	0:0	2	VLC_EGENERIC
water	14:4	0:0	2	p_export
op	14:12	0:0	2	->
water	14:14	0:0	2	p_root
op	14:21	0:0	2	=
water	14:23	0:0	2	p_export_root
water	14:36	0:0	2	;
water	15:4	0:0	2	p_export
op	15:12	0:0	2	->
water	15:14	0:0	2	psz_filename
op	15:27	0:0	2	=
water	15:29	0:0	2	psz_filename
water	15:41	0:0	2	;
water	16:4	0:0	2	p_export
op	16:12	0:0	2	->
water	16:14	0:0	2	p_file
op	16:21	0:0	2	=
call	16:23	16:53	2	vlc_fopen
arg	16:34	16:46	3	psz_filename
water	16:34	0:0	4	psz_filename
arg	16:48	16:53	3	"wt"
water	16:48	0:0	4	"wt"
water	16:54	0:0	2	;
if	17:4	22:4	2	(p_export -> p_file == NULL)
cond	17:8	17:28	3	p_export -> p_file == NULL
water	17:8	0:0	4	p_export
op	17:16	0:0	4	->
water	17:18	0:0	4	p_file
op	17:25	0:0	4	==
water	17:28	0:0	4	NULL
stmts	18:4	22:4	3	
water	18:4	0:0	4	{
call	19:8	20:53	4	msg_Err
arg	19:17	19:25	5	p_export
water	19:17	0:0	6	p_export
arg	19:27	19:66	5	"could not create playlist file %s: %s"
water	19:27	0:0	6	"could not create playlist file %s: %s"
arg	20:17	20:29	5	psz_filename
water	20:17	0:0	6	psz_filename
arg	20:31	20:53	5	vlc_strerror_c(errno)
call	20:31	20:51	6	vlc_strerror_c
arg	20:46	20:51	7	errno
water	20:46	0:0	8	errno
water	20:54	0:0	4	;
goto	21:8	21:16	4	out
water	21:13	0:0	5	out
water	22:4	0:0	4	}
decl	23:4	23:22	2	module_t	*p_module
call	25:4	25:30	2	playlist_Lock
arg	25:19	25:30	3	p_playlist
water	25:19	0:0	4	p_playlist
water	25:31	0:0	2	;
water	26:4	0:0	2	p_module
op	26:13	0:0	2	=
call	26:15	26:72	2	module_need
arg	26:28	26:36	3	p_export
water	26:28	0:0	4	p_export
arg	26:38	26:55	3	"playlist export"
water	26:38	0:0	4	"playlist export"
arg	26:57	26:65	3	psz_type
water	26:57	0:0	4	psz_type
arg	26:67	26:72	3	true
water	26:67	0:0	4	true
water	26:73	0:0	2	;
call	27:4	27:32	2	playlist_Unlock
arg	27:21	27:32	3	p_playlist
water	27:21	0:0	4	p_playlist
water	27:33	0:0	2	;
if	28:4	36:4	2	(p_module != NULL)
cond	28:8	28:20	3	p_module != NULL
water	28:8	0:0	4	p_module
op	28:17	0:0	4	!=
water	28:20	0:0	4	NULL
stmts	29:4	36:4	3	
water	29:4	0:0	4	{
call	30:8	30:42	4	module_unneed
arg	30:23	30:31	5	p_export
water	30:23	0:0	6	p_export
arg	30:33	30:42	5	p_module
water	30:33	0:0	6	p_module
water	30:43	0:0	4	;
if	31:8	32:29	4	(!ferror (p_export -> p_file ))
cond	31:12	31:38	5	!ferror (p_export -> p_file )
op	31:12	0:0	6	!
call	31:13	31:38	6	ferror
arg	31:21	31:38	7	p_export->p_file
water	31:21	0:0	8	p_export
op	31:29	0:0	8	->
water	31:31	0:0	8	p_file
stmts	32:12	32:29	5	
water	32:12	0:0	6	ret
op	32:16	0:0	6	=
water	32:18	0:0	6	VLC_SUCCESS
water	32:29	0:0	6	;
else	33:8	35:44	4
stmts	34:12	35:44	5	
call	34:12	35:43	6	msg_Err
arg	34:21	34:31	7	p_playlist
water	34:21	0:0	8	p_playlist
arg	34:33	34:68	7	"could not write playlist file: %s"
water	34:33	0:0	8	"could not write playlist file: %s"
arg	35:21	35:43	7	vlc_strerror_c(errno)
call	35:21	35:41	8	vlc_strerror_c
arg	35:36	35:41	9	errno
water	35:36	0:0	10	errno
water	35:44	0:0	6	;
water	36:4	0:0	4	}
else	37:4	38:58	2
stmts	38:8	38:58	3	
call	38:8	38:57	4	msg_Err
arg	38:17	38:27	5	p_playlist
water	38:17	0:0	6	p_playlist
arg	38:29	38:57	5	"could not export playlist"
water	38:29	0:0	6	"could not export playlist"
water	38:58	0:0	4	;
call	39:3	39:28	2	fclose
arg	39:11	39:28	3	p_export->p_file
water	39:11	0:0	4	p_export
op	39:19	0:0	4	->
water	39:21	0:0	4	p_file
water	39:29	0:0	2	;
label	40:0	40:3	2	out :
call	41:3	41:32	2	vlc_object_release
arg	41:23	41:32	3	p_export
water	41:23	0:0	4	p_export
water	41:33	0:0	2	;
return	42:3	42:13	2	ret
water	42:10	0:0	3	ret
