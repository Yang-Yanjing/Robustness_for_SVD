func	2:0	49:0	0	static block_t *	Encode
params	2:22	0:0	1	
param	2:24	2:40	2	encoder_t *	p_enc
param	2:42	2:62	2	block_t *	p_aout_buf
stmnts	0:0	48:18	1	
decl	4:4	4:39	2	encoder_sys_t	*p_sys
op	4:25	0:0	2	=
water	4:27	0:0	2	p_enc
op	4:32	0:0	2	->
water	4:34	0:0	2	p_sys
decl	5:4	5:24	2	ogg_packet	oggpacket
decl	6:4	6:37	2	block_t	*p_block
water	6:20	0:0	2	,
decl	6:4	6:37	2	block_t	*p_chain
op	6:31	0:0	2	=
water	6:33	0:0	2	NULL
decl	7:4	7:18	2	float	**buffer
if	9:4	9:45	2	(unlikely (! p_aout_buf ))
cond	9:8	9:30	3	unlikely (! p_aout_buf )
call	9:8	9:30	4	unlikely
arg	9:18	9:30	5	!p_aout_buf
op	9:18	0:0	6	!
water	9:19	0:0	6	p_aout_buf
stmts	9:34	9:45	3	
return	9:34	9:45	4	NULL
water	9:41	0:0	5	NULL
decl	10:4	12:51	2	mtime_t	i_pts
op	10:18	0:0	2	=
water	10:20	0:0	2	p_aout_buf
op	10:30	0:0	2	->
water	10:32	0:0	2	i_pts
op	10:38	0:0	2	-
water	11:16	0:0	2	(
water	11:17	0:0	2	mtime_t
water	11:24	0:0	2	)
water	11:25	0:0	2	1000000
op	11:33	0:0	2	*
water	11:35	0:0	2	(
water	11:36	0:0	2	mtime_t
water	11:43	0:0	2	)
water	11:44	0:0	2	p_sys
op	11:49	0:0	2	->
water	11:51	0:0	2	i_samples_delay
op	11:67	0:0	2	/
water	12:16	0:0	2	(
water	12:17	0:0	2	mtime_t
water	12:24	0:0	2	)
water	12:25	0:0	2	p_enc
op	12:30	0:0	2	->
water	12:32	0:0	2	fmt_in
op	12:38	0:0	2	.
water	12:39	0:0	2	audio
op	12:44	0:0	2	.
water	12:45	0:0	2	i_rate
water	13:4	0:0	2	p_sys
op	13:9	0:0	2	->
water	13:11	0:0	2	i_samples_delay
op	13:27	0:0	2	+=
water	13:30	0:0	2	p_aout_buf
op	13:40	0:0	2	->
water	13:42	0:0	2	i_nb_samples
water	13:54	0:0	2	;
water	14:4	0:0	2	buffer
op	14:11	0:0	2	=
call	14:13	14:74	2	vorbis_analysis_buffer
arg	14:37	14:47	3	&p_sys->vd
op	14:37	0:0	4	&
water	14:38	0:0	4	p_sys
op	14:43	0:0	4	->
water	14:45	0:0	4	vd
arg	14:49	14:74	3	p_aout_buf->i_nb_samples
water	14:49	0:0	4	p_aout_buf
op	14:59	0:0	4	->
water	14:61	0:0	4	i_nb_samples
water	14:75	0:0	2	;
for	16:4	23:4	2	( unsigned int i = 0 ;i < p_sys -> i_channels;i ++)
forinit	0:0	16:27	3	 unsigned int i = 0 ;
decl	16:9	16:27	4	unsigned int	i
op	16:24	0:0	4	=
water	16:26	0:0	4	0
cond	16:29	16:40	3	i < p_sys -> i_channels
water	16:29	0:0	4	i
op	16:31	0:0	4	<
water	16:33	0:0	4	p_sys
op	16:38	0:0	4	->
water	16:40	0:0	4	i_channels
forexpr	16:52	16:53	3	i ++
water	16:52	0:0	4	i
op	16:53	0:0	4	++
stmts	17:4	23:4	3	
water	17:4	0:0	4	{
for	18:8	22:8	4	( unsigned int j = 0 ;j < p_aout_buf -> i_nb_samples;j ++)
forinit	0:0	18:32	5	 unsigned int j = 0 ;
decl	18:13	18:32	6	unsigned int	j
op	18:28	0:0	6	=
water	18:30	0:0	6	0
cond	18:34	18:50	5	j < p_aout_buf -> i_nb_samples
water	18:34	0:0	6	j
op	18:36	0:0	6	<
water	18:38	0:0	6	p_aout_buf
op	18:48	0:0	6	->
water	18:50	0:0	6	i_nb_samples
forexpr	18:65	18:66	5	j ++
water	18:65	0:0	6	j
op	18:66	0:0	6	++
stmts	19:8	22:8	5	
water	19:8	0:0	6	{
water	20:12	0:0	6	buffer
op	20:18	0:0	6	[
water	20:19	0:0	6	i
op	20:20	0:0	6	]
op	20:21	0:0	6	[
water	20:22	0:0	6	j
op	20:23	0:0	6	]
op	20:24	0:0	6	=
water	20:26	0:0	6	(
water	20:27	0:0	6	(
water	20:28	0:0	6	float
op	20:34	0:0	6	*
water	20:35	0:0	6	)
water	20:36	0:0	6	p_aout_buf
op	20:46	0:0	6	->
water	20:48	0:0	6	p_buffer
water	20:56	0:0	6	)
op	21:36	0:0	6	[
water	21:37	0:0	6	j
op	21:39	0:0	6	*
water	21:41	0:0	6	p_sys
op	21:46	0:0	6	->
water	21:48	0:0	6	i_channels
op	21:59	0:0	6	+
water	21:61	0:0	6	p_sys
op	21:66	0:0	6	->
water	21:68	0:0	6	pi_chan_table
op	21:81	0:0	6	[
water	21:82	0:0	6	i
op	21:83	0:0	6	]
op	21:84	0:0	6	]
water	21:85	0:0	6	;
water	22:8	0:0	6	}
water	23:4	0:0	4	}
call	24:4	24:64	2	vorbis_analysis_wrote
arg	24:27	24:37	3	&p_sys->vd
op	24:27	0:0	4	&
water	24:28	0:0	4	p_sys
op	24:33	0:0	4	->
water	24:35	0:0	4	vd
arg	24:39	24:64	3	p_aout_buf->i_nb_samples
water	24:39	0:0	4	p_aout_buf
op	24:49	0:0	4	->
water	24:51	0:0	4	i_nb_samples
water	24:65	0:0	2	;
while	25:4	47:4	2	(vorbis_analysis_blockout (& p_sys -> vd ,& p_sys -> vb ) == 1)
cond	25:11	25:65	3	vorbis_analysis_blockout (& p_sys -> vd ,& p_sys -> vb ) == 1
call	25:11	25:60	4	vorbis_analysis_blockout
arg	25:37	25:47	5	&p_sys->vd
op	25:37	0:0	6	&
water	25:38	0:0	6	p_sys
op	25:43	0:0	6	->
water	25:45	0:0	6	vd
arg	25:49	25:60	5	&p_sys->vb
op	25:49	0:0	6	&
water	25:50	0:0	6	p_sys
op	25:55	0:0	6	->
water	25:57	0:0	6	vb
op	25:62	0:0	4	==
water	25:65	0:0	4	1
stmts	26:4	47:4	3	
water	26:4	0:0	4	{
decl	27:8	27:21	4	int	i_samples
call	28:8	28:42	4	vorbis_analysis
arg	28:25	28:35	5	&p_sys->vb
op	28:25	0:0	6	&
water	28:26	0:0	6	p_sys
op	28:31	0:0	6	->
water	28:33	0:0	6	vb
arg	28:37	28:42	5	NULL
water	28:37	0:0	6	NULL
water	28:43	0:0	4	;
call	29:8	29:44	4	vorbis_bitrate_addblock
arg	29:33	29:44	5	&p_sys->vb
op	29:33	0:0	6	&
water	29:34	0:0	6	p_sys
op	29:39	0:0	6	->
water	29:41	0:0	6	vb
water	29:45	0:0	4	;
while	30:8	46:8	4	(vorbis_bitrate_flushpacket (& p_sys -> vd ,& oggpacket ))
cond	30:15	30:66	5	vorbis_bitrate_flushpacket (& p_sys -> vd ,& oggpacket )
call	30:15	30:66	6	vorbis_bitrate_flushpacket
arg	30:43	30:53	7	&p_sys->vd
op	30:43	0:0	8	&
water	30:44	0:0	8	p_sys
op	30:49	0:0	8	->
water	30:51	0:0	8	vd
arg	30:55	30:66	7	&oggpacket
op	30:55	0:0	8	&
water	30:56	0:0	8	oggpacket
stmts	31:8	46:8	5	
water	31:8	0:0	6	{
decl	32:12	32:28	6	int	i_block_size
water	33:12	0:0	6	p_block
op	33:20	0:0	6	=
call	33:22	33:51	6	block_Alloc
arg	33:35	33:51	7	oggpacket.bytes
water	33:35	0:0	8	oggpacket
op	33:44	0:0	8	.
water	33:45	0:0	8	bytes
water	33:52	0:0	6	;
call	34:12	34:73	6	memcpy
arg	34:20	34:37	7	p_block->p_buffer
water	34:20	0:0	8	p_block
op	34:27	0:0	8	->
water	34:29	0:0	8	p_buffer
arg	34:39	34:55	7	oggpacket.packet
water	34:39	0:0	8	oggpacket
op	34:48	0:0	8	.
water	34:49	0:0	8	packet
arg	34:57	34:73	7	oggpacket.bytes
water	34:57	0:0	8	oggpacket
op	34:66	0:0	8	.
water	34:67	0:0	8	bytes
water	34:74	0:0	6	;
water	35:12	0:0	6	i_block_size
op	35:25	0:0	6	=
call	35:27	35:75	6	vorbis_packet_blocksize
arg	35:52	35:62	7	&p_sys->vi
op	35:52	0:0	8	&
water	35:53	0:0	8	p_sys
op	35:58	0:0	8	->
water	35:60	0:0	8	vi
arg	35:64	35:75	7	&oggpacket
op	35:64	0:0	8	&
water	35:65	0:0	8	oggpacket
water	35:76	0:0	6	;
if	36:12	36:51	6	(i_block_size < 0)
cond	36:16	36:31	7	i_block_size < 0
water	36:16	0:0	8	i_block_size
op	36:29	0:0	8	<
water	36:31	0:0	8	0
stmts	36:35	36:51	7	
water	36:35	0:0	8	i_block_size
op	36:48	0:0	8	=
water	36:50	0:0	8	0
water	36:51	0:0	8	;
water	37:12	0:0	6	i_samples
op	37:22	0:0	6	=
water	37:24	0:0	6	(
water	37:26	0:0	6	p_sys
op	37:31	0:0	6	->
water	37:33	0:0	6	i_last_block_size
op	37:51	0:0	6	+
water	37:53	0:0	6	i_block_size
water	37:66	0:0	6	)
op	37:68	0:0	6	>>
water	37:71	0:0	6	2
water	37:72	0:0	6	;
water	38:12	0:0	6	p_sys
op	38:17	0:0	6	->
water	38:19	0:0	6	i_last_block_size
op	38:37	0:0	6	=
water	38:39	0:0	6	i_block_size
water	38:51	0:0	6	;
water	39:12	0:0	6	p_block
op	39:19	0:0	6	->
water	39:21	0:0	6	i_length
op	39:30	0:0	6	=
water	39:32	0:0	6	(
water	39:33	0:0	6	mtime_t
water	39:40	0:0	6	)
water	39:41	0:0	6	1000000
op	39:49	0:0	6	*
water	40:16	0:0	6	(
water	40:17	0:0	6	mtime_t
water	40:24	0:0	6	)
water	40:25	0:0	6	i_samples
op	40:35	0:0	6	/
water	40:37	0:0	6	(
water	40:38	0:0	6	mtime_t
water	40:45	0:0	6	)
water	40:46	0:0	6	p_enc
op	40:51	0:0	6	->
water	40:53	0:0	6	fmt_in
op	40:59	0:0	6	.
water	40:60	0:0	6	audio
op	40:65	0:0	6	.
water	40:66	0:0	6	i_rate
water	40:72	0:0	6	;
water	41:12	0:0	6	p_block
op	41:19	0:0	6	->
water	41:21	0:0	6	i_dts
op	41:27	0:0	6	=
water	41:29	0:0	6	p_block
op	41:36	0:0	6	->
water	41:38	0:0	6	i_pts
op	41:44	0:0	6	=
water	41:46	0:0	6	i_pts
water	41:51	0:0	6	;
water	42:12	0:0	6	p_sys
op	42:17	0:0	6	->
water	42:19	0:0	6	i_samples_delay
op	42:35	0:0	6	-=
water	42:38	0:0	6	i_samples
water	42:47	0:0	6	;
water	44:12	0:0	6	i_pts
op	44:18	0:0	6	+=
water	44:21	0:0	6	p_block
op	44:28	0:0	6	->
water	44:30	0:0	6	i_length
water	44:38	0:0	6	;
call	45:12	45:49	6	block_ChainAppend
arg	45:31	45:39	7	&p_chain
op	45:31	0:0	8	&
water	45:32	0:0	8	p_chain
arg	45:41	45:49	7	p_block
water	45:41	0:0	8	p_block
water	45:50	0:0	6	;
water	46:8	0:0	6	}
water	47:4	0:0	4	}
return	48:4	48:18	2	p_chain
water	48:11	0:0	3	p_chain
