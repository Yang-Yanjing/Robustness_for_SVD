func	2:0	19:0	0	picture_t *	vout_snapshot_Get
params	2:28	0:0	1	
param	2:29	2:50	2	vout_snapshot_t *	snap
param	2:52	2:67	2	mtime_t	timeout
stmnts	4:4	18:18	1	
call	4:4	4:30	2	vlc_mutex_lock
arg	4:19	4:30	3	&snap->lock
op	4:19	0:0	4	&
water	4:20	0:0	4	snap
op	4:24	0:0	4	->
water	4:26	0:0	4	lock
water	4:31	0:0	2	;
water	6:4	0:0	2	snap
op	6:8	0:0	2	->
water	6:10	0:0	2	request_count
op	6:23	0:0	2	++
water	6:25	0:0	2	;
decl	8:4	8:46	2	const mtime_t	deadline
op	8:27	0:0	2	=
call	8:29	8:35	3	mdate
op	8:37	0:0	2	+
water	8:39	0:0	2	timeout
while	9:4	10:62	2	(snap -> is_available && ! snap -> picture &&mdate ( ) < deadline)
cond	9:11	9:61	3	snap -> is_available && ! snap -> picture &&mdate ( ) < deadline
water	9:11	0:0	4	snap
op	9:15	0:0	4	->
water	9:17	0:0	4	is_available
op	9:30	0:0	4	&&
op	9:33	0:0	4	!
water	9:34	0:0	4	snap
op	9:38	0:0	4	->
water	9:40	0:0	4	picture
op	9:48	0:0	4	&&
call	9:51	9:57	4	mdate
op	9:59	0:0	4	<
water	9:61	0:0	4	deadline
stmts	10:8	10:62	3	
call	10:8	10:61	4	vlc_cond_timedwait
arg	10:27	10:38	5	&snap->wait
op	10:27	0:0	6	&
water	10:28	0:0	6	snap
op	10:32	0:0	6	->
water	10:34	0:0	6	wait
arg	10:40	10:51	5	&snap->lock
op	10:40	0:0	6	&
water	10:41	0:0	6	snap
op	10:45	0:0	6	->
water	10:47	0:0	6	lock
arg	10:53	10:61	5	deadline
water	10:53	0:0	6	deadline
water	10:62	0:0	4	;
decl	12:4	12:38	2	picture_t	*picture
op	12:23	0:0	2	=
water	12:25	0:0	2	snap
op	12:29	0:0	2	->
water	12:31	0:0	2	picture
if	13:4	14:39	2	(picture)
cond	13:8	13:8	3	picture
water	13:8	0:0	4	picture
stmts	14:8	14:39	3	
water	14:8	0:0	4	snap
op	14:12	0:0	4	->
water	14:14	0:0	4	picture
op	14:22	0:0	4	=
water	14:24	0:0	4	picture
op	14:31	0:0	4	->
water	14:33	0:0	4	p_next
water	14:39	0:0	4	;
else	15:4	16:29	2
stmts	15:9	16:29	3	
if	15:9	16:29	4	(snap -> request_count > 0)
cond	15:13	15:35	5	snap -> request_count > 0
water	15:13	0:0	6	snap
op	15:17	0:0	6	->
water	15:19	0:0	6	request_count
op	15:33	0:0	6	>
water	15:35	0:0	6	0
stmts	16:8	16:29	5	
water	16:8	0:0	6	snap
op	16:12	0:0	6	->
water	16:14	0:0	6	request_count
op	16:27	0:0	6	--
water	16:29	0:0	6	;
call	17:4	17:32	2	vlc_mutex_unlock
arg	17:21	17:32	3	&snap->lock
op	17:21	0:0	4	&
water	17:22	0:0	4	snap
op	17:26	0:0	4	->
water	17:28	0:0	4	lock
water	17:33	0:0	2	;
return	18:4	18:18	2	picture
water	18:11	0:0	3	picture
