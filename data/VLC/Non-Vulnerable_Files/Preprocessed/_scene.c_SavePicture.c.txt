func	2:0	66:0	0	static void	SavePicture
params	2:23	0:0	1	
param	2:25	2:43	2	filter_t *	p_filter
param	2:45	2:62	2	picture_t *	p_pic
stmnts	0:0	65:24	1	
decl	4:4	4:57	2	filter_sys_t	*p_sys
op	4:24	0:0	2	=
water	4:26	0:0	2	(
water	4:27	0:0	2	filter_sys_t
op	4:40	0:0	2	*
water	4:41	0:0	2	)
water	4:42	0:0	2	p_filter
op	4:50	0:0	2	->
water	4:52	0:0	2	p_sys
decl	5:4	5:34	2	video_format_t	fmt_in
water	5:25	0:0	2	,
decl	5:4	5:34	2	video_format_t	fmt_out
decl	6:4	6:29	2	char	*psz_filename
op	6:23	0:0	2	=
water	6:25	0:0	2	NULL
decl	7:4	7:25	2	char	*psz_temp
op	7:19	0:0	2	=
water	7:21	0:0	2	NULL
decl	8:4	8:13	2	int	i_ret
call	9:4	9:47	2	memset
arg	9:12	9:19	3	&fmt_in
op	9:12	0:0	4	&
water	9:13	0:0	4	fmt_in
arg	9:21	9:22	3	0
water	9:21	0:0	4	0
arg	9:24	9:47	3	sizeof(video_format_t)
op	9:24	0:0	4	sizeof
water	9:30	0:0	4	(
water	9:31	0:0	4	video_format_t
water	9:45	0:0	4	)
water	9:48	0:0	2	;
call	10:4	10:48	2	memset
arg	10:12	10:20	3	&fmt_out
op	10:12	0:0	4	&
water	10:13	0:0	4	fmt_out
arg	10:22	10:23	3	0
water	10:22	0:0	4	0
arg	10:25	10:48	3	sizeof(video_format_t)
op	10:25	0:0	4	sizeof
water	10:31	0:0	4	(
water	10:32	0:0	4	video_format_t
water	10:46	0:0	4	)
water	10:49	0:0	2	;
water	12:4	0:0	2	fmt_in
op	12:11	0:0	2	=
water	12:13	0:0	2	p_pic
op	12:18	0:0	2	->
water	12:20	0:0	2	format
water	12:26	0:0	2	;
water	13:4	0:0	2	fmt_out
op	13:11	0:0	2	.
water	13:12	0:0	2	i_sar_num
op	13:22	0:0	2	=
water	13:24	0:0	2	fmt_out
op	13:31	0:0	2	.
water	13:32	0:0	2	i_sar_den
op	13:42	0:0	2	=
water	13:44	0:0	2	1
water	13:45	0:0	2	;
water	14:4	0:0	2	fmt_out
op	14:11	0:0	2	.
water	14:12	0:0	2	i_width
op	14:20	0:0	2	=
water	14:22	0:0	2	p_sys
op	14:27	0:0	2	->
water	14:29	0:0	2	i_width
water	14:36	0:0	2	;
water	15:4	0:0	2	fmt_out
op	15:11	0:0	2	.
water	15:12	0:0	2	i_height
op	15:21	0:0	2	=
water	15:23	0:0	2	p_sys
op	15:28	0:0	2	->
water	15:30	0:0	2	i_height
water	15:38	0:0	2	;
water	16:4	0:0	2	fmt_out
op	16:11	0:0	2	.
water	16:12	0:0	2	i_chroma
op	16:21	0:0	2	=
water	16:23	0:0	2	p_sys
op	16:28	0:0	2	->
water	16:30	0:0	2	i_format
water	16:38	0:0	2	;
if	21:4	24:45	2	(p_sys -> b_replace)
cond	21:8	21:15	3	p_sys -> b_replace
water	21:8	0:0	4	p_sys
op	21:13	0:0	4	->
water	21:15	0:0	4	b_replace
stmts	22:8	24:45	3	
water	22:8	0:0	4	i_ret
op	22:14	0:0	4	=
call	22:16	24:44	4	asprintf
arg	22:26	22:39	5	&psz_filename
op	22:26	0:0	6	&
water	22:27	0:0	6	psz_filename
arg	22:41	22:61	5	"%s"DIR_SEP"%s.%s"
water	22:41	0:0	6	"%s"
water	22:46	0:0	6	DIR_SEP
water	22:54	0:0	6	"%s.%s"
arg	23:26	23:41	5	p_sys->psz_path
water	23:26	0:0	6	p_sys
op	23:31	0:0	6	->
water	23:33	0:0	6	psz_path
arg	23:43	23:60	5	p_sys->psz_prefix
water	23:43	0:0	6	p_sys
op	23:48	0:0	6	->
water	23:50	0:0	6	psz_prefix
arg	24:26	24:44	5	p_sys->psz_format
water	24:26	0:0	6	p_sys
op	24:31	0:0	6	->
water	24:33	0:0	6	psz_format
water	24:45	0:0	4	;
else	25:4	28:62	2
stmts	26:8	28:62	3	
water	26:8	0:0	4	i_ret
op	26:14	0:0	4	=
call	26:16	28:61	4	asprintf
arg	26:26	26:39	5	&psz_filename
op	26:26	0:0	6	&
water	26:27	0:0	6	psz_filename
arg	26:41	26:65	5	"%s"DIR_SEP"%s%05d.%s"
water	26:41	0:0	6	"%s"
water	26:46	0:0	6	DIR_SEP
water	26:54	0:0	6	"%s%05d.%s"
arg	27:26	27:41	5	p_sys->psz_path
water	27:26	0:0	6	p_sys
op	27:31	0:0	6	->
water	27:33	0:0	6	psz_path
arg	27:43	27:60	5	p_sys->psz_prefix
water	27:43	0:0	6	p_sys
op	27:48	0:0	6	->
water	27:50	0:0	6	psz_prefix
arg	28:26	28:41	5	p_sys->i_frames
water	28:26	0:0	6	p_sys
op	28:31	0:0	6	->
water	28:33	0:0	6	i_frames
arg	28:43	28:61	5	p_sys->psz_format
water	28:43	0:0	6	p_sys
op	28:48	0:0	6	->
water	28:50	0:0	6	psz_format
water	28:62	0:0	4	;
if	29:4	33:4	2	(i_ret == - 1)
cond	29:8	29:18	3	i_ret == - 1
water	29:8	0:0	4	i_ret
op	29:14	0:0	4	==
op	29:17	0:0	4	-
water	29:18	0:0	4	1
stmts	30:4	33:4	3	
water	30:4	0:0	4	{
call	31:8	31:72	4	msg_Err
arg	31:17	31:25	5	p_filter
water	31:17	0:0	6	p_filter
arg	31:27	31:57	5	"could not create snapshot %s"
water	31:27	0:0	6	"could not create snapshot %s"
arg	31:59	31:72	5	psz_filename
water	31:59	0:0	6	psz_filename
water	31:73	0:0	4	;
goto	32:8	32:18	4	error
water	32:13	0:0	5	error
water	33:4	0:0	4	}
call	34:4	34:32	2	path_sanitize
arg	34:19	34:32	3	psz_filename
water	34:19	0:0	4	psz_filename
water	34:33	0:0	2	;
water	35:4	0:0	2	i_ret
op	35:10	0:0	2	=
call	35:12	35:56	2	asprintf
arg	35:22	35:31	3	&psz_temp
op	35:22	0:0	4	&
water	35:23	0:0	4	psz_temp
arg	35:33	35:41	3	"%s.swp"
water	35:33	0:0	4	"%s.swp"
arg	35:43	35:56	3	psz_filename
water	35:43	0:0	4	psz_filename
water	35:57	0:0	2	;
if	36:4	40:4	2	(i_ret == - 1)
cond	36:8	36:18	3	i_ret == - 1
water	36:8	0:0	4	i_ret
op	36:14	0:0	4	==
op	36:17	0:0	4	-
water	36:18	0:0	4	1
stmts	37:4	40:4	3	
water	37:4	0:0	4	{
call	38:8	38:85	4	msg_Err
arg	38:17	38:25	5	p_filter
water	38:17	0:0	6	p_filter
arg	38:27	38:74	5	"could not create snapshot temporarily file %s"
water	38:27	0:0	6	"could not create snapshot temporarily file %s"
arg	38:76	38:85	5	psz_temp
water	38:76	0:0	6	psz_temp
water	38:86	0:0	4	;
goto	39:8	39:18	4	error
water	39:13	0:0	5	error
water	40:4	0:0	4	}
call	41:4	41:28	2	path_sanitize
arg	41:19	41:28	3	psz_temp
water	41:19	0:0	4	psz_temp
water	41:29	0:0	2	;
water	43:4	0:0	2	i_ret
op	43:10	0:0	2	=
call	43:12	44:37	2	image_WriteUrl
arg	43:28	43:42	3	p_sys->p_image
water	43:28	0:0	4	p_sys
op	43:33	0:0	4	->
water	43:35	0:0	4	p_image
arg	43:44	43:49	3	p_pic
water	43:44	0:0	4	p_pic
arg	43:51	43:58	3	&fmt_in
op	43:51	0:0	4	&
water	43:52	0:0	4	fmt_in
arg	43:60	43:68	3	&fmt_out
op	43:60	0:0	4	&
water	43:61	0:0	4	fmt_out
arg	44:28	44:37	3	psz_temp
water	44:28	0:0	4	psz_temp
water	44:38	0:0	2	;
if	45:4	48:4	2	(i_ret != VLC_SUCCESS)
cond	45:8	45:17	3	i_ret != VLC_SUCCESS
water	45:8	0:0	4	i_ret
op	45:14	0:0	4	!=
water	45:17	0:0	4	VLC_SUCCESS
stmts	46:4	48:4	3	
water	46:4	0:0	4	{
call	47:8	47:68	4	msg_Err
arg	47:17	47:25	5	p_filter
water	47:17	0:0	6	p_filter
arg	47:27	47:57	5	"could not create snapshot %s"
water	47:27	0:0	6	"could not create snapshot %s"
arg	47:59	47:68	5	psz_temp
water	47:59	0:0	6	psz_temp
water	47:69	0:0	4	;
water	48:4	0:0	4	}
else	49:4	62:4	2
stmts	50:4	62:4	3	
water	50:4	0:0	4	{
call	53:8	53:33	4	vlc_unlink
arg	53:20	53:33	5	psz_filename
water	53:20	0:0	6	psz_filename
water	53:34	0:0	4	;
water	55:8	0:0	4	i_ret
op	55:14	0:0	4	=
call	55:16	55:51	4	vlc_rename
arg	55:28	55:36	5	psz_temp
water	55:28	0:0	6	psz_temp
arg	55:38	55:51	5	psz_filename
water	55:38	0:0	6	psz_filename
water	55:52	0:0	4	;
if	56:8	61:8	4	(i_ret == - 1)
cond	56:12	56:22	5	i_ret == - 1
water	56:12	0:0	6	i_ret
op	56:18	0:0	6	==
op	56:21	0:0	6	-
water	56:22	0:0	6	1
stmts	57:8	61:8	5	
water	57:8	0:0	6	{
call	58:12	59:57	6	msg_Err
arg	58:21	58:29	7	p_filter
water	58:21	0:0	8	p_filter
arg	58:31	58:65	7	"could not rename snapshot %s: %s"
water	58:31	0:0	8	"could not rename snapshot %s: %s"
arg	59:21	59:33	7	psz_filename
water	59:21	0:0	8	psz_filename
arg	59:35	59:57	7	vlc_strerror_c(errno)
call	59:35	59:55	8	vlc_strerror_c
arg	59:50	59:55	9	errno
water	59:50	0:0	10	errno
water	59:58	0:0	6	;
goto	60:12	60:22	6	error
water	60:17	0:0	7	error
water	61:8	0:0	6	}
water	62:4	0:0	4	}
label	63:0	63:5	2	error :
call	64:4	64:19	2	free
arg	64:10	64:19	3	psz_temp
water	64:10	0:0	4	psz_temp
water	64:20	0:0	2	;
call	65:4	65:23	2	free
arg	65:10	65:23	3	psz_filename
water	65:10	0:0	4	psz_filename
water	65:24	0:0	2	;
