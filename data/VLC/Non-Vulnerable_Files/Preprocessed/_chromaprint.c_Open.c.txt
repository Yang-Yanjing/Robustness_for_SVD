func	2:0	32:0	0	static int	Open
params	2:15	0:0	1	
param	2:17	2:38	2	vlc_object_t *	p_this
stmnts	0:0	31:22	1	
decl	4:4	4:52	2	sout_stream_t	*p_stream
op	4:28	0:0	2	=
water	4:30	0:0	2	(
water	4:31	0:0	2	sout_stream_t
op	4:44	0:0	2	*
water	4:45	0:0	2	)
water	4:46	0:0	2	p_this
decl	5:4	5:28	2	sout_stream_sys_t	*p_sys
water	6:4	0:0	2	p_stream
op	6:12	0:0	2	->
water	6:14	0:0	2	p_sys
op	6:20	0:0	2	=
water	6:22	0:0	2	p_sys
op	6:28	0:0	2	=
call	6:30	6:62	2	malloc
arg	6:37	6:62	3	sizeof(sout_stream_sys_t)
op	6:37	0:0	4	sizeof
water	6:43	0:0	4	(
water	6:44	0:0	4	sout_stream_sys_t
water	6:61	0:0	4	)
water	6:63	0:0	2	;
if	7:4	7:48	2	(unlikely (! p_sys ))
cond	7:9	7:27	3	unlikely (! p_sys )
call	7:9	7:27	4	unlikely
arg	7:19	7:27	5	!p_sys
op	7:19	0:0	6	!
water	7:21	0:0	6	p_sys
stmts	7:31	7:48	3	
return	7:31	7:48	4	VLC_ENOMEM
water	7:38	0:0	5	VLC_ENOMEM
water	8:4	0:0	2	p_sys
op	8:9	0:0	2	->
water	8:11	0:0	2	id
op	8:14	0:0	2	=
water	8:16	0:0	2	NULL
water	8:20	0:0	2	;
water	9:4	0:0	2	p_sys
op	9:9	0:0	2	->
water	9:11	0:0	2	b_finished
op	9:22	0:0	2	=
water	9:24	0:0	2	false
water	9:29	0:0	2	;
water	10:4	0:0	2	p_sys
op	10:9	0:0	2	->
water	10:11	0:0	2	b_done
op	10:18	0:0	2	=
water	10:20	0:0	2	false
water	10:25	0:0	2	;
water	11:4	0:0	2	p_sys
op	11:9	0:0	2	->
water	11:11	0:0	2	i_total_samples
op	11:27	0:0	2	=
water	11:29	0:0	2	0
water	11:30	0:0	2	;
water	12:4	0:0	2	p_sys
op	12:9	0:0	2	->
water	12:11	0:0	2	i_duration
op	12:22	0:0	2	=
call	12:24	12:65	2	var_InheritInteger
arg	12:44	12:52	3	p_stream
water	12:44	0:0	4	p_stream
arg	12:54	12:65	3	"duration"
water	12:54	0:0	4	"duration"
water	12:66	0:0	2	;
water	13:4	0:0	2	p_sys
op	13:9	0:0	2	->
water	13:11	0:0	2	p_data
op	13:18	0:0	2	=
call	13:20	13:69	2	var_InheritAddress
arg	13:40	13:48	3	p_stream
water	13:40	0:0	4	p_stream
arg	13:50	13:69	3	"fingerprint-data"
water	13:50	0:0	4	"fingerprint-data"
water	13:70	0:0	2	;
if	14:4	19:4	2	(! p_sys -> p_data)
cond	14:9	14:17	3	! p_sys -> p_data
op	14:9	0:0	4	!
water	14:10	0:0	4	p_sys
op	14:15	0:0	4	->
water	14:17	0:0	4	p_data
stmts	15:4	19:4	3	
water	15:4	0:0	4	{
call	16:8	16:61	4	msg_Err
arg	16:17	16:25	5	p_stream
water	16:17	0:0	6	p_stream
arg	16:27	16:61	5	"Fingerprint data holder not set"
water	16:27	0:0	6	"Fingerprint data holder not set"
water	16:62	0:0	4	;
call	17:8	17:20	4	free
arg	17:14	17:20	5	p_sys
water	17:14	0:0	6	p_sys
water	17:21	0:0	4	;
return	18:8	18:25	4	VLC_ENOVAR
water	18:15	0:0	5	VLC_ENOVAR
water	19:4	0:0	4	}
call	20:4	20:75	2	msg_Dbg
arg	20:13	20:21	3	p_stream
water	20:13	0:0	4	p_stream
arg	20:23	20:47	3	"chromaprint version %s"
water	20:23	0:0	4	"chromaprint version %s"
arg	20:49	20:75	3	chromaprint_get_version()
call	20:49	20:73	4	chromaprint_get_version
water	20:76	0:0	2	;
water	21:4	0:0	2	p_sys
op	21:9	0:0	2	->
water	21:11	0:0	2	p_chromaprint_ctx
op	21:29	0:0	2	=
call	21:31	21:78	2	chromaprint_new
arg	21:48	21:78	3	CHROMAPRINT_ALGORITHM_DEFAULT
water	21:48	0:0	4	CHROMAPRINT_ALGORITHM_DEFAULT
water	21:79	0:0	2	;
if	22:4	27:4	2	(! p_sys -> p_chromaprint_ctx)
cond	22:9	22:18	3	! p_sys -> p_chromaprint_ctx
op	22:9	0:0	4	!
water	22:11	0:0	4	p_sys
op	22:16	0:0	4	->
water	22:18	0:0	4	p_chromaprint_ctx
stmts	23:4	27:4	3	
water	23:4	0:0	4	{
call	24:8	24:62	4	msg_Err
arg	24:17	24:25	5	p_stream
water	24:17	0:0	6	p_stream
arg	24:27	24:62	5	"Can't create chromaprint context"
water	24:27	0:0	6	"Can't create chromaprint context"
water	24:63	0:0	4	;
call	25:8	25:20	4	free
arg	25:14	25:20	5	p_sys
water	25:14	0:0	6	p_sys
water	25:21	0:0	4	;
return	26:8	26:27	4	VLC_EGENERIC
water	26:15	0:0	5	VLC_EGENERIC
water	27:4	0:0	4	}
water	28:4	0:0	2	p_stream
op	28:12	0:0	2	->
water	28:14	0:0	2	pf_add
op	28:22	0:0	2	=
water	28:24	0:0	2	Add
water	28:27	0:0	2	;
water	29:4	0:0	2	p_stream
op	29:12	0:0	2	->
water	29:14	0:0	2	pf_del
op	29:22	0:0	2	=
water	29:24	0:0	2	Del
water	29:27	0:0	2	;
water	30:4	0:0	2	p_stream
op	30:12	0:0	2	->
water	30:14	0:0	2	pf_send
op	30:22	0:0	2	=
water	30:24	0:0	2	Send
water	30:28	0:0	2	;
return	31:4	31:22	2	VLC_SUCCESS
water	31:11	0:0	3	VLC_SUCCESS
