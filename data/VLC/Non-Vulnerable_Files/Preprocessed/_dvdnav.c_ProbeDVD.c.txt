func	2:0	39:0	0	static int	ProbeDVD
params	2:19	0:0	1	
param	2:21	2:42	2	const char *	psz_name
stmnts	4:4	38:14	1	
if	4:4	6:26	2	(! * psz_name)
cond	4:8	4:10	3	! * psz_name
op	4:8	0:0	4	!
op	4:9	0:0	4	*
water	4:10	0:0	4	psz_name
stmts	6:8	6:26	3	
return	6:8	6:26	4	VLC_SUCCESS
water	6:15	0:0	5	VLC_SUCCESS
decl	7:4	7:56	2	int	fd
op	7:11	0:0	2	=
call	7:13	7:55	3	vlc_open
arg	7:23	7:31	4	psz_name
water	7:23	0:0	5	psz_name
arg	7:33	7:55	4	O_RDONLY|O_NONBLOCK
water	7:33	0:0	5	O_RDONLY
op	7:42	0:0	5	|
water	7:44	0:0	5	O_NONBLOCK
if	8:4	10:27	2	(fd == - 1)
cond	8:8	8:15	3	fd == - 1
water	8:8	0:0	4	fd
op	8:11	0:0	4	==
op	8:14	0:0	4	-
water	8:15	0:0	4	1
stmts	10:8	10:27	3	
return	10:8	10:27	4	VLC_EGENERIC
water	10:15	0:0	5	VLC_EGENERIC
return	12:8	12:61	2	(errno==ENOENT)?VLC_EGENERIC:VLC_SUCCESS
water	12:15	0:0	3	(
water	12:16	0:0	3	errno
op	12:22	0:0	3	==
water	12:25	0:0	3	ENOENT
water	12:31	0:0	3	)
water	12:33	0:0	3	?
water	12:35	0:0	3	VLC_EGENERIC
water	12:48	0:0	3	:
water	12:50	0:0	3	VLC_SUCCESS
decl	14:4	14:26	2	int	ret
op	14:12	0:0	2	=
water	14:14	0:0	2	VLC_EGENERIC
decl	15:4	15:25	2	struct stat	stat_info
if	16:4	17:21	2	(fstat (fd ,& stat_info ) == - 1)
cond	16:8	16:36	3	fstat (fd ,& stat_info ) == - 1
call	16:8	16:30	4	fstat
arg	16:15	16:17	5	fd
water	16:15	0:0	6	fd
arg	16:19	16:30	5	&stat_info
op	16:19	0:0	6	&
water	16:20	0:0	6	stat_info
op	16:32	0:0	4	==
op	16:35	0:0	4	-
water	16:36	0:0	4	1
stmts	17:9	17:21	3	
goto	17:9	17:21	4	bailout
water	17:14	0:0	5	bailout
if	18:4	23:4	2	(!S_ISREG (stat_info . st_mode ))
cond	18:8	18:36	3	!S_ISREG (stat_info . st_mode )
op	18:8	0:0	4	!
call	18:9	18:36	4	S_ISREG
arg	18:18	18:36	5	stat_info.st_mode
water	18:18	0:0	6	stat_info
op	18:27	0:0	6	.
water	18:28	0:0	6	st_mode
stmts	19:4	23:4	3	
water	19:4	0:0	4	{
if	20:8	21:29	4	(S_ISDIR (stat_info . st_mode ) ||S_ISBLK (stat_info . st_mode ))
cond	20:12	20:71	5	S_ISDIR (stat_info . st_mode ) ||S_ISBLK (stat_info . st_mode )
call	20:12	20:39	6	S_ISDIR
arg	20:21	20:39	7	stat_info.st_mode
water	20:21	0:0	8	stat_info
op	20:30	0:0	8	.
water	20:31	0:0	8	st_mode
op	20:41	0:0	6	||
call	20:44	20:71	6	S_ISBLK
arg	20:53	20:71	7	stat_info.st_mode
water	20:53	0:0	8	stat_info
op	20:62	0:0	8	.
water	20:63	0:0	8	st_mode
stmts	21:12	21:29	5	
water	21:12	0:0	6	ret
op	21:16	0:0	6	=
water	21:18	0:0	6	VLC_SUCCESS
water	21:29	0:0	6	;
goto	22:8	22:20	4	bailout
water	22:13	0:0	5	bailout
water	23:4	0:0	4	}
decl	25:4	25:19	2	char	iso_dsc[6]
if	26:4	29:20	2	(lseek (fd ,0 x8000 + 1 ,SEEK_SET ) == - 1 ||read (fd ,iso_dsc ,sizeof ( iso_dsc ) ) < sizeof ( iso_dsc ) ||memcmp (iso_dsc ,"CD001\x01" ,6 ))
cond	26:8	28:40	3	lseek (fd ,0 x8000 + 1 ,SEEK_SET ) == - 1 ||read (fd ,iso_dsc ,sizeof ( iso_dsc ) ) < sizeof ( iso_dsc ) ||memcmp (iso_dsc ,"CD001\x01" ,6 )
call	26:8	26:40	4	lseek
arg	26:15	26:17	5	fd
water	26:15	0:0	6	fd
arg	26:19	26:29	5	0x8000+1
water	26:19	0:0	6	0
water	26:20	0:0	6	x8000
op	26:26	0:0	6	+
water	26:28	0:0	6	1
arg	26:31	26:40	5	SEEK_SET
water	26:31	0:0	6	SEEK_SET
op	26:42	0:0	4	==
op	26:45	0:0	4	-
water	26:46	0:0	4	1
op	27:5	0:0	4	||
call	27:8	27:44	4	read
arg	27:14	27:16	5	fd
water	27:14	0:0	6	fd
arg	27:18	27:25	5	iso_dsc
water	27:18	0:0	6	iso_dsc
arg	27:27	27:44	5	sizeof(iso_dsc)
op	27:27	0:0	6	sizeof
water	27:34	0:0	6	(
water	27:35	0:0	6	iso_dsc
water	27:42	0:0	6	)
op	27:46	0:0	4	<
op	27:48	0:0	4	sizeof
water	27:55	0:0	4	(
water	27:56	0:0	4	iso_dsc
water	27:63	0:0	4	)
op	28:5	0:0	4	||
call	28:8	28:40	4	memcmp
arg	28:16	28:23	5	iso_dsc
water	28:16	0:0	6	iso_dsc
arg	28:25	28:36	5	"CD001\x01"
water	28:25	0:0	6	"CD001\x01"
arg	28:38	28:40	5	6
water	28:38	0:0	6	6
stmts	29:8	29:20	3	
goto	29:8	29:20	4	bailout
water	29:13	0:0	5	bailout
decl	31:4	31:19	2	uint16_t	anchor
if	32:4	35:25	2	(lseek (fd ,256 * DVD_VIDEO_LB_LEN ,SEEK_SET ) != - 1 &&read (fd ,& anchor ,2 ) == 2 &&GetWLE (& anchor ) == 2)
cond	32:8	34:29	3	lseek (fd ,256 * DVD_VIDEO_LB_LEN ,SEEK_SET ) != - 1 &&read (fd ,& anchor ,2 ) == 2 &&GetWLE (& anchor ) == 2
call	32:8	32:52	4	lseek
arg	32:15	32:17	5	fd
water	32:15	0:0	6	fd
arg	32:19	32:41	5	256*DVD_VIDEO_LB_LEN
water	32:19	0:0	6	256
op	32:23	0:0	6	*
water	32:25	0:0	6	DVD_VIDEO_LB_LEN
arg	32:43	32:52	5	SEEK_SET
water	32:43	0:0	6	SEEK_SET
op	32:54	0:0	4	!=
op	32:57	0:0	4	-
water	32:58	0:0	4	1
op	33:5	0:0	4	&&
call	33:8	33:29	4	read
arg	33:14	33:16	5	fd
water	33:14	0:0	6	fd
arg	33:18	33:25	5	&anchor
op	33:18	0:0	6	&
water	33:19	0:0	6	anchor
arg	33:27	33:29	5	2
water	33:27	0:0	6	2
op	33:31	0:0	4	==
water	33:34	0:0	4	2
op	34:5	0:0	4	&&
call	34:8	34:24	4	GetWLE
arg	34:16	34:24	5	&anchor
op	34:16	0:0	6	&
water	34:17	0:0	6	anchor
op	34:26	0:0	4	==
water	34:29	0:0	4	2
stmts	35:8	35:25	3	
water	35:8	0:0	4	ret
op	35:12	0:0	4	=
water	35:14	0:0	4	VLC_SUCCESS
water	35:25	0:0	4	;
label	36:0	36:7	2	bailout :
call	37:4	37:14	2	close
arg	37:11	37:14	3	fd
water	37:11	0:0	4	fd
water	37:15	0:0	2	;
return	38:4	38:14	2	ret
water	38:11	0:0	3	ret
