func	2:0	74:0	0	static int	OpenCommon
params	2:21	0:0	1	
param	2:23	2:43	2	vlc_object_t *	p_this
param	2:45	2:56	2	bool	b_sub
stmnts	0:0	73:22	1	
decl	4:4	4:43	2	filter_t	*p_filter
op	4:23	0:0	2	=
water	4:25	0:0	2	(
water	4:26	0:0	2	filter_t
op	4:35	0:0	2	*
water	4:36	0:0	2	)
water	4:37	0:0	2	p_this
decl	5:4	5:23	2	filter_sys_t	*p_sys
decl	6:4	6:22	2	char	*psz_filename
if	8:4	12:4	2	(! b_sub && !es_format_IsSimilar (& p_filter -> fmt_in ,& p_filter -> fmt_out ))
cond	8:8	8:78	3	! b_sub && !es_format_IsSimilar (& p_filter -> fmt_in ,& p_filter -> fmt_out )
op	8:8	0:0	4	!
water	8:9	0:0	4	b_sub
op	8:15	0:0	4	&&
op	8:18	0:0	4	!
call	8:19	8:78	4	es_format_IsSimilar
arg	8:40	8:57	5	&p_filter->fmt_in
op	8:40	0:0	6	&
water	8:41	0:0	6	p_filter
op	8:49	0:0	6	->
water	8:51	0:0	6	fmt_in
arg	8:59	8:78	5	&p_filter->fmt_out
op	8:59	0:0	6	&
water	8:60	0:0	6	p_filter
op	8:68	0:0	6	->
water	8:70	0:0	6	fmt_out
stmts	9:4	12:4	3	
water	9:4	0:0	4	{
call	10:8	10:68	4	msg_Err
arg	10:17	10:25	5	p_filter
water	10:17	0:0	6	p_filter
arg	10:27	10:68	5	"Input and output format does not match"
water	10:27	0:0	6	"Input and output format does not match"
water	10:69	0:0	4	;
return	11:8	11:27	4	VLC_EGENERIC
water	11:15	0:0	5	VLC_EGENERIC
water	12:4	0:0	4	}
water	14:4	0:0	2	p_filter
op	14:12	0:0	2	->
water	14:14	0:0	2	p_sys
op	14:20	0:0	2	=
water	14:22	0:0	2	p_sys
op	14:28	0:0	2	=
call	14:30	14:55	2	malloc
arg	14:38	14:55	3	sizeof(*p_sys)
op	14:38	0:0	4	sizeof
water	14:44	0:0	4	(
op	14:46	0:0	4	*
water	14:47	0:0	4	p_sys
water	14:53	0:0	4	)
water	14:56	0:0	2	;
if	15:4	16:25	2	(! p_sys)
cond	15:8	15:9	3	! p_sys
op	15:8	0:0	4	!
water	15:9	0:0	4	p_sys
stmts	16:8	16:25	3	
return	16:8	16:25	4	VLC_ENOMEM
water	16:15	0:0	5	VLC_ENOMEM
water	18:4	0:0	2	p_sys
op	18:9	0:0	2	->
water	18:11	0:0	2	p_blend
op	18:19	0:0	2	=
water	18:21	0:0	2	NULL
water	18:25	0:0	2	;
if	19:4	28:4	2	(! b_sub)
cond	19:8	19:9	3	! b_sub
op	19:8	0:0	4	!
water	19:9	0:0	4	b_sub
stmts	20:4	28:4	3	
water	20:4	0:0	4	{
water	21:8	0:0	4	p_sys
op	21:13	0:0	4	->
water	21:15	0:0	4	p_blend
op	21:23	0:0	4	=
call	21:25	22:66	4	filter_NewBlend
arg	21:42	21:62	5	VLC_OBJECT(p_filter)
call	21:42	21:61	6	VLC_OBJECT
arg	21:53	21:61	7	p_filter
water	21:53	0:0	8	p_filter
arg	22:42	22:66	5	&p_filter->fmt_in.video
op	22:42	0:0	6	&
water	22:43	0:0	6	p_filter
op	22:51	0:0	6	->
water	22:53	0:0	6	fmt_in
op	22:59	0:0	6	.
water	22:60	0:0	6	video
water	22:67	0:0	4	;
if	23:8	27:8	4	(! p_sys -> p_blend)
cond	23:12	23:20	5	! p_sys -> p_blend
op	23:12	0:0	6	!
water	23:13	0:0	6	p_sys
op	23:18	0:0	6	->
water	23:20	0:0	6	p_blend
stmts	24:8	27:8	5	
water	24:8	0:0	6	{
call	25:12	25:24	6	free
arg	25:18	25:24	7	p_sys
water	25:18	0:0	8	p_sys
water	25:25	0:0	6	;
return	26:12	26:31	6	VLC_EGENERIC
water	26:19	0:0	7	VLC_EGENERIC
water	27:8	0:0	6	}
water	28:4	0:0	4	}
call	30:4	31:39	2	config_ChainParse
arg	30:23	30:31	3	p_filter
water	30:23	0:0	4	p_filter
arg	30:33	30:43	3	CFG_PREFIX
water	30:33	0:0	4	CFG_PREFIX
arg	30:45	30:64	3	ppsz_filter_options
water	30:45	0:0	4	ppsz_filter_options
arg	31:23	31:39	3	p_filter->p_cfg
water	31:23	0:0	4	p_filter
op	31:31	0:0	4	->
water	31:33	0:0	4	p_cfg
water	31:40	0:0	2	;
decl	33:4	33:38	2	logo_list_t	*p_list
op	33:24	0:0	2	=
op	33:26	0:0	2	&
water	33:27	0:0	2	p_sys
op	33:32	0:0	2	->
water	33:34	0:0	2	list
water	34:4	0:0	2	psz_filename
op	34:17	0:0	2	=
call	34:19	34:69	2	var_CreateGetStringCommand
arg	34:47	34:55	3	p_filter
water	34:47	0:0	4	p_filter
arg	34:57	34:69	3	"logo-file"
water	34:57	0:0	4	"logo-file"
water	34:70	0:0	2	;
if	35:4	41:4	2	(! psz_filename)
cond	35:8	35:9	3	! psz_filename
op	35:8	0:0	4	!
water	35:9	0:0	4	psz_filename
stmts	36:4	41:4	3	
water	36:4	0:0	4	{
if	37:8	38:48	4	(p_sys -> p_blend)
cond	37:12	37:19	5	p_sys -> p_blend
water	37:12	0:0	6	p_sys
op	37:17	0:0	6	->
water	37:19	0:0	6	p_blend
stmts	38:12	38:48	5	
call	38:12	38:47	6	filter_DeleteBlend
arg	38:32	38:47	7	p_sys->p_blend
water	38:32	0:0	8	p_sys
op	38:37	0:0	8	->
water	38:39	0:0	8	p_blend
water	38:48	0:0	6	;
call	39:8	39:20	4	free
arg	39:14	39:20	5	p_sys
water	39:14	0:0	6	p_sys
water	39:21	0:0	4	;
return	40:8	40:25	4	VLC_ENOMEM
water	40:15	0:0	5	VLC_ENOMEM
water	41:4	0:0	4	}
if	42:4	43:52	2	(* psz_filename == '\0')
cond	42:8	42:25	3	* psz_filename == '\0'
op	42:8	0:0	4	*
water	42:9	0:0	4	psz_filename
op	42:22	0:0	4	==
water	42:25	0:0	4	'\0'
stmts	43:8	43:52	3	
call	43:8	43:51	4	msg_Warn
arg	43:18	43:24	5	p_this
water	43:18	0:0	6	p_this
arg	43:26	43:51	5	"no logo file specified"
water	43:26	0:0	6	"no logo file specified"
water	43:52	0:0	4	;
water	44:4	0:0	2	p_list
op	44:10	0:0	2	->
water	44:12	0:0	2	i_alpha
op	44:20	0:0	2	=
call	44:22	44:75	2	var_CreateGetIntegerCommand
arg	44:51	44:59	3	p_filter
water	44:51	0:0	4	p_filter
arg	44:61	44:75	3	"logo-opacity"
water	44:61	0:0	4	"logo-opacity"
water	44:76	0:0	2	;
water	45:4	0:0	2	p_list
op	45:10	0:0	2	->
water	45:12	0:0	2	i_alpha
op	45:20	0:0	2	=
call	45:22	45:56	2	VLC_CLIP
arg	45:32	45:47	3	p_list->i_alpha
water	45:32	0:0	4	p_list
op	45:38	0:0	4	->
water	45:40	0:0	4	i_alpha
arg	45:49	45:50	3	0
water	45:49	0:0	4	0
arg	45:52	45:56	3	255
water	45:52	0:0	4	255
water	45:57	0:0	2	;
water	46:4	0:0	2	p_list
op	46:10	0:0	2	->
water	46:12	0:0	2	i_delay
op	46:20	0:0	2	=
call	46:22	46:74	2	var_CreateGetIntegerCommand
arg	46:51	46:59	3	p_filter
water	46:51	0:0	4	p_filter
arg	46:61	46:74	3	"logo-delay"
water	46:61	0:0	4	"logo-delay"
water	46:75	0:0	2	;
water	47:4	0:0	2	p_list
op	47:10	0:0	2	->
water	47:12	0:0	2	i_repeat
op	47:21	0:0	2	=
call	47:23	47:76	2	var_CreateGetIntegerCommand
arg	47:52	47:60	3	p_filter
water	47:52	0:0	4	p_filter
arg	47:62	47:76	3	"logo-repeat"
water	47:62	0:0	4	"logo-repeat"
water	47:77	0:0	2	;
water	48:4	0:0	2	p_sys
op	48:9	0:0	2	->
water	48:11	0:0	2	i_pos
op	48:17	0:0	2	=
call	48:19	48:74	2	var_CreateGetIntegerCommand
arg	48:48	48:56	3	p_filter
water	48:48	0:0	4	p_filter
arg	48:58	48:74	3	"logo-position"
water	48:58	0:0	4	"logo-position"
water	48:75	0:0	2	;
water	49:4	0:0	2	p_sys
op	49:9	0:0	2	->
water	49:11	0:0	2	i_pos_x
op	49:19	0:0	2	=
call	49:21	49:69	2	var_CreateGetIntegerCommand
arg	49:50	49:58	3	p_filter
water	49:50	0:0	4	p_filter
arg	49:60	49:69	3	"logo-x"
water	49:60	0:0	4	"logo-x"
water	49:70	0:0	2	;
water	50:4	0:0	2	p_sys
op	50:9	0:0	2	->
water	50:11	0:0	2	i_pos_y
op	50:19	0:0	2	=
call	50:21	50:69	2	var_CreateGetIntegerCommand
arg	50:50	50:58	3	p_filter
water	50:50	0:0	4	p_filter
arg	50:60	50:69	3	"logo-y"
water	50:60	0:0	4	"logo-y"
water	50:70	0:0	2	;
water	51:4	0:0	2	p_sys
op	51:9	0:0	2	->
water	51:11	0:0	2	b_absolute
op	51:22	0:0	2	=
water	51:24	0:0	2	(
water	51:25	0:0	2	p_sys
op	51:30	0:0	2	->
water	51:32	0:0	2	i_pos
op	51:38	0:0	2	<
water	51:40	0:0	2	0
water	51:41	0:0	2	)
water	51:42	0:0	2	;
if	53:4	54:24	2	(! b_sub && p_sys -> i_pos_x >= 0 && p_sys -> i_pos_y >= 0)
cond	53:8	53:59	3	! b_sub && p_sys -> i_pos_x >= 0 && p_sys -> i_pos_y >= 0
op	53:8	0:0	4	!
water	53:9	0:0	4	b_sub
op	53:15	0:0	4	&&
water	53:18	0:0	4	p_sys
op	53:23	0:0	4	->
water	53:25	0:0	4	i_pos_x
op	53:33	0:0	4	>=
water	53:36	0:0	4	0
op	53:38	0:0	4	&&
water	53:41	0:0	4	p_sys
op	53:46	0:0	4	->
water	53:48	0:0	4	i_pos_y
op	53:56	0:0	4	>=
water	53:59	0:0	4	0
stmts	54:8	54:24	3	
water	54:8	0:0	4	p_sys
op	54:13	0:0	4	->
water	54:15	0:0	4	i_pos
op	54:21	0:0	4	=
water	54:23	0:0	4	0
water	54:24	0:0	4	;
call	55:4	55:33	2	vlc_mutex_init
arg	55:20	55:33	3	&p_sys->lock
op	55:20	0:0	4	&
water	55:21	0:0	4	p_sys
op	55:26	0:0	4	->
water	55:28	0:0	4	lock
water	55:34	0:0	2	;
call	56:4	56:47	2	LogoListLoad
arg	56:18	56:24	3	p_this
water	56:18	0:0	4	p_this
arg	56:26	56:32	3	p_list
water	56:26	0:0	4	p_list
arg	56:34	56:47	3	psz_filename
water	56:34	0:0	4	psz_filename
water	56:48	0:0	2	;
water	57:4	0:0	2	p_sys
op	57:9	0:0	2	->
water	57:11	0:0	2	b_spu_update
op	57:24	0:0	2	=
water	57:26	0:0	2	true
water	57:30	0:0	2	;
water	58:4	0:0	2	p_sys
op	58:9	0:0	2	->
water	58:11	0:0	2	b_mouse_grab
op	58:24	0:0	2	=
water	58:26	0:0	2	false
water	58:31	0:0	2	;
for	59:4	61:46	2	( int i = 0 ;ppsz_filter_callbacks [ i ];i ++)
forinit	0:0	59:18	3	 int i = 0 ;
decl	59:9	59:18	4	int	i
op	59:15	0:0	4	=
water	59:17	0:0	4	0
cond	59:20	59:43	3	ppsz_filter_callbacks [ i ]
water	59:20	0:0	4	ppsz_filter_callbacks
op	59:41	0:0	4	[
water	59:42	0:0	4	i
op	59:43	0:0	4	]
forexpr	59:46	59:47	3	i ++
water	59:46	0:0	4	i
op	59:47	0:0	4	++
stmts	60:8	61:46	3	
call	60:8	61:45	4	var_AddCallback
arg	60:25	60:33	5	p_filter
water	60:25	0:0	6	p_filter
arg	60:35	60:59	5	ppsz_filter_callbacks[i]
water	60:35	0:0	6	ppsz_filter_callbacks
op	60:56	0:0	6	[
water	60:57	0:0	6	i
op	60:58	0:0	6	]
arg	61:25	61:37	5	LogoCallback
water	61:25	0:0	6	LogoCallback
arg	61:39	61:45	5	p_sys
water	61:39	0:0	6	p_sys
water	61:46	0:0	4	;
if	63:4	66:4	2	(b_sub)
cond	63:8	63:8	3	b_sub
water	63:8	0:0	4	b_sub
stmts	64:4	66:4	3	
water	64:4	0:0	4	{
water	65:8	0:0	4	p_filter
op	65:16	0:0	4	->
water	65:18	0:0	4	pf_sub_source
op	65:32	0:0	4	=
water	65:34	0:0	4	FilterSub
water	65:43	0:0	4	;
water	66:4	0:0	4	}
else	67:4	71:4	2
stmts	68:4	71:4	3	
water	68:4	0:0	4	{
water	69:8	0:0	4	p_filter
op	69:16	0:0	4	->
water	69:18	0:0	4	pf_video_filter
op	69:34	0:0	4	=
water	69:36	0:0	4	FilterVideo
water	69:47	0:0	4	;
water	70:8	0:0	4	p_filter
op	70:16	0:0	4	->
water	70:18	0:0	4	pf_video_mouse
op	70:33	0:0	4	=
water	70:35	0:0	4	Mouse
water	70:40	0:0	4	;
water	71:4	0:0	4	}
call	72:4	72:23	2	free
arg	72:10	72:23	3	psz_filename
water	72:10	0:0	4	psz_filename
water	72:24	0:0	2	;
return	73:4	73:22	2	VLC_SUCCESS
water	73:11	0:0	3	VLC_SUCCESS
