func	2:0	29:0	0	static int	LoadFontsFromAttachments
params	2:35	0:0	1	
param	2:37	2:56	2	filter_t *	p_filter
stmnts	0:0	28:22	1	
decl	4:4	4:49	2	filter_sys_t	*p_sys
op	4:32	0:0	2	=
water	4:34	0:0	2	p_filter
op	4:42	0:0	2	->
water	4:44	0:0	2	p_sys
decl	5:4	5:40	2	input_attachment_t	**pp_attachments
decl	6:4	6:43	2	int	i_attachments_cnt
if	7:4	8:27	2	(filter_GetInputAttachments (p_filter ,& pp_attachments ,& i_attachments_cnt ))
cond	7:8	7:82	3	filter_GetInputAttachments (p_filter ,& pp_attachments ,& i_attachments_cnt )
call	7:8	7:82	4	filter_GetInputAttachments
arg	7:36	7:44	5	p_filter
water	7:36	0:0	6	p_filter
arg	7:46	7:61	5	&pp_attachments
op	7:46	0:0	6	&
water	7:47	0:0	6	pp_attachments
arg	7:63	7:82	5	&i_attachments_cnt
op	7:63	0:0	6	&
water	7:64	0:0	6	i_attachments_cnt
stmts	8:8	8:27	3	
return	8:8	8:27	4	VLC_EGENERIC
water	8:15	0:0	5	VLC_EGENERIC
water	9:4	0:0	2	p_sys
op	9:9	0:0	2	->
water	9:11	0:0	2	i_font_attachments
op	9:30	0:0	2	=
water	9:32	0:0	2	0
water	9:33	0:0	2	;
water	10:4	0:0	2	p_sys
op	10:9	0:0	2	->
water	10:11	0:0	2	pp_font_attachments
op	10:31	0:0	2	=
call	10:33	10:96	2	malloc
arg	10:41	10:96	3	i_attachments_cnt*sizeof(*p_sys->pp_font_attachments)
water	10:41	0:0	4	i_attachments_cnt
op	10:59	0:0	4	*
op	10:61	0:0	4	sizeof
water	10:67	0:0	4	(
op	10:68	0:0	4	*
water	10:69	0:0	4	p_sys
op	10:74	0:0	4	->
water	10:76	0:0	4	pp_font_attachments
water	10:95	0:0	4	)
water	10:97	0:0	2	;
if	11:4	12:25	2	(! p_sys -> pp_font_attachments)
cond	11:8	11:16	3	! p_sys -> pp_font_attachments
op	11:8	0:0	4	!
water	11:9	0:0	4	p_sys
op	11:14	0:0	4	->
water	11:16	0:0	4	pp_font_attachments
stmts	12:8	12:25	3	
return	12:8	12:25	4	VLC_ENOMEM
water	12:15	0:0	5	VLC_ENOMEM
for	13:4	26:4	2	( int k = 0 ;k < i_attachments_cnt;k ++)
forinit	0:0	13:18	3	 int k = 0 ;
decl	13:9	13:18	4	int	k
op	13:15	0:0	4	=
water	13:17	0:0	4	0
cond	13:20	13:24	3	k < i_attachments_cnt
water	13:20	0:0	4	k
op	13:22	0:0	4	<
water	13:24	0:0	4	i_attachments_cnt
forexpr	13:43	13:44	3	k ++
water	13:43	0:0	4	k
op	13:44	0:0	4	++
stmts	14:4	26:4	3	
water	14:4	0:0	4	{
decl	15:8	15:56	4	input_attachment_t	*p_attach
op	15:37	0:0	4	=
water	15:39	0:0	4	pp_attachments
op	15:53	0:0	4	[
water	15:54	0:0	4	k
op	15:55	0:0	4	]
if	16:8	21:8	4	(( !strcmp (p_attach -> psz_mime ,"application/x-truetype-font" ) || !strcmp (p_attach -> psz_mime ,"application/x-font-otf" ) ) && p_attach -> i_data > 0 && p_attach -> p_data)
cond	16:12	18:46	5	( !strcmp (p_attach -> psz_mime ,"application/x-truetype-font" ) || !strcmp (p_attach -> psz_mime ,"application/x-font-otf" ) ) && p_attach -> i_data > 0 && p_attach -> p_data
water	16:12	0:0	6	(
op	16:14	0:0	6	!
call	16:15	16:73	6	strcmp
arg	16:23	16:41	7	p_attach->psz_mime
water	16:23	0:0	8	p_attach
op	16:31	0:0	8	->
water	16:33	0:0	8	psz_mime
arg	16:43	16:73	7	"application/x-truetype-font"
water	16:43	0:0	8	"application/x-truetype-font"
op	16:75	0:0	6	||
op	17:14	0:0	6	!
call	17:15	17:68	6	strcmp
arg	17:23	17:41	7	p_attach->psz_mime
water	17:23	0:0	8	p_attach
op	17:31	0:0	8	->
water	17:33	0:0	8	psz_mime
arg	17:43	17:68	7	"application/x-font-otf"
water	17:43	0:0	8	"application/x-font-otf"
water	17:70	0:0	6	)
op	17:72	0:0	6	&&
water	18:12	0:0	6	p_attach
op	18:20	0:0	6	->
water	18:22	0:0	6	i_data
op	18:29	0:0	6	>
water	18:31	0:0	6	0
op	18:33	0:0	6	&&
water	18:36	0:0	6	p_attach
op	18:44	0:0	6	->
water	18:46	0:0	6	p_data
stmts	19:8	21:8	5	
water	19:8	0:0	6	{
water	20:12	0:0	6	p_sys
op	20:17	0:0	6	->
water	20:19	0:0	6	pp_font_attachments
op	20:38	0:0	6	[
water	20:40	0:0	6	p_sys
op	20:45	0:0	6	->
water	20:47	0:0	6	i_font_attachments
op	20:65	0:0	6	++
op	20:68	0:0	6	]
op	20:70	0:0	6	=
water	20:72	0:0	6	p_attach
water	20:80	0:0	6	;
water	21:8	0:0	6	}
else	22:8	25:8	4
stmts	23:8	25:8	5	
water	23:8	0:0	6	{
call	24:12	24:50	6	vlc_input_attachment_Delete
arg	24:41	24:50	7	p_attach
water	24:41	0:0	8	p_attach
water	24:51	0:0	6	;
water	25:8	0:0	6	}
water	26:4	0:0	4	}
call	27:4	27:25	2	free
arg	27:10	27:25	3	pp_attachments
water	27:10	0:0	4	pp_attachments
water	27:26	0:0	2	;
return	28:4	28:22	2	VLC_SUCCESS
water	28:11	0:0	3	VLC_SUCCESS
