func	2:0	42:0	0	static ssize_t	read_M3U8_from_stream
params	2:36	0:0	1	
param	2:37	2:48	2	stream_t *	s
param	2:50	2:66	2	uint8_t * *	buffer
stmnts	0:0	41:23	1	
decl	4:4	4:21	2	uint8_t	*p
op	4:15	0:0	2	=
water	4:17	0:0	2	NULL
decl	5:4	5:33	2	int64_t	size
op	5:17	0:0	2	=
call	5:19	5:32	3	stream_Size
arg	5:31	5:32	4	s
water	5:31	0:0	5	s
water	6:4	0:0	2	size
op	6:9	0:0	2	=
call	6:11	6:42	2	VLC_CLIP
arg	6:20	6:24	3	size
water	6:20	0:0	4	size
arg	6:26	6:27	3	0
water	6:26	0:0	4	0
arg	6:29	6:42	3	INT64_MAX-1
water	6:29	0:0	4	INT64_MAX
op	6:39	0:0	4	-
water	6:41	0:0	4	1
water	6:43	0:0	2	;
decl	7:4	7:28	2	int64_t	i_alloc_size
op	7:25	0:0	2	=
water	7:27	0:0	2	0
decl	8:4	8:28	2	ssize_t	i_total_read
op	8:25	0:0	2	=
water	8:27	0:0	2	0
water	9:4	0:0	2	unsigned
water	9:13	0:0	2	i_chunk_size
op	9:26	0:0	2	=
water	9:28	0:0	2	HLS_READ_SIZE
water	9:41	0:0	2	;
for	10:4	38:4	2	(;;)
forinit	10:9	10:9	3	;
water	10:9	0:0	4	;
cond	0:0	0:0	3	
forexpr	0:0	0:0	3	
stmts	11:4	38:4	3	
water	11:4	0:0	4	{
decl	12:8	12:66	4	int	i_toread
op	12:21	0:0	4	=
water	12:23	0:0	4	(
water	12:24	0:0	4	size
water	12:28	0:0	4	)
water	12:30	0:0	4	?
water	12:32	0:0	4	size
op	12:37	0:0	4	-
water	12:39	0:0	4	i_total_read
water	12:52	0:0	4	:
water	12:54	0:0	4	i_chunk_size
if	13:8	14:17	4	(i_toread + i_total_read > INT64_MAX - 1)
cond	13:11	13:49	5	i_toread + i_total_read > INT64_MAX - 1
water	13:11	0:0	6	i_toread
op	13:20	0:0	6	+
water	13:22	0:0	6	i_total_read
op	13:35	0:0	6	>
water	13:37	0:0	6	INT64_MAX
op	13:47	0:0	6	-
water	13:49	0:0	6	1
stmts	14:12	14:17	5	
break	14:12	14:17	6	
if	15:8	23:8	4	(i_alloc_size < i_toread)
cond	15:11	15:26	5	i_alloc_size < i_toread
water	15:11	0:0	6	i_alloc_size
op	15:24	0:0	6	<
water	15:26	0:0	6	i_toread
stmts	16:8	23:8	5	
water	16:8	0:0	6	{
water	17:12	0:0	6	i_alloc_size
op	17:25	0:0	6	+=
water	17:28	0:0	6	i_toread
water	17:36	0:0	6	;
water	18:12	0:0	6	p
op	18:14	0:0	6	=
call	18:16	18:51	6	realloc_or_free
arg	18:32	18:33	7	p
water	18:32	0:0	8	p
arg	18:35	18:51	7	1+i_alloc_size
water	18:35	0:0	8	1
op	18:37	0:0	8	+
water	18:39	0:0	8	i_alloc_size
water	18:52	0:0	6	;
if	19:12	20:33	6	(p == NULL)
cond	19:16	19:21	7	p == NULL
water	19:16	0:0	8	p
op	19:18	0:0	8	==
water	19:21	0:0	8	NULL
stmts	20:16	20:33	7	
return	20:16	20:33	8	VLC_ENOMEM
water	20:23	0:0	9	VLC_ENOMEM
if	21:12	22:34	6	(i_chunk_size < ( 1 << 26 ))
cond	21:16	21:39	7	i_chunk_size < ( 1 << 26 )
water	21:16	0:0	8	i_chunk_size
op	21:29	0:0	8	<
water	21:31	0:0	8	(
water	21:32	0:0	8	1
op	21:34	0:0	8	<<
water	21:37	0:0	8	26
water	21:39	0:0	8	)
stmts	22:16	22:34	7	
water	22:16	0:0	8	i_chunk_size
op	22:29	0:0	8	<<=
water	22:33	0:0	8	1
water	22:34	0:0	8	;
water	23:8	0:0	6	}
decl	24:8	24:64	4	int	i_read
op	24:19	0:0	4	=
call	24:21	24:63	5	stream_Read
arg	24:33	24:34	6	s
water	24:33	0:0	7	s
arg	24:36	24:53	6	&p[i_total_read]
op	24:36	0:0	7	&
water	24:38	0:0	7	p
op	24:39	0:0	7	[
water	24:40	0:0	7	i_total_read
op	24:52	0:0	7	]
arg	24:55	24:63	6	i_toread
water	24:55	0:0	7	i_toread
if	25:8	28:8	4	(i_read == 0)
cond	25:12	25:22	5	i_read == 0
water	25:12	0:0	6	i_read
op	25:19	0:0	6	==
water	25:22	0:0	6	0
stmts	26:8	28:8	5	
water	26:8	0:0	6	{
break	27:12	27:17	6	
water	28:8	0:0	6	}
else	29:8	33:8	4
stmts	29:13	33:8	5	
if	29:13	33:8	6	(i_read < 0)
cond	29:17	29:26	7	i_read < 0
water	29:17	0:0	8	i_read
op	29:24	0:0	8	<
water	29:26	0:0	8	0
stmts	30:8	33:8	7	
water	30:8	0:0	8	{
call	31:12	31:19	8	free
arg	31:18	31:19	9	p
water	31:18	0:0	10	p
water	31:20	0:0	8	;
return	32:12	32:25	8	i_read
water	32:19	0:0	9	i_read
water	33:8	0:0	8	}
else	34:8	37:8	4
stmts	35:8	37:8	5	
water	35:8	0:0	6	{
water	36:12	0:0	6	i_total_read
op	36:25	0:0	6	+=
water	36:28	0:0	6	i_read
water	36:34	0:0	6	;
water	37:8	0:0	6	}
water	38:4	0:0	4	}
water	39:4	0:0	2	p
op	39:5	0:0	2	[
water	39:6	0:0	2	i_total_read
op	39:18	0:0	2	]
op	39:20	0:0	2	=
water	39:22	0:0	2	'\0'
water	39:26	0:0	2	;
op	40:4	0:0	2	*
water	40:5	0:0	2	buffer
op	40:12	0:0	2	=
water	40:14	0:0	2	p
water	40:15	0:0	2	;
return	41:4	41:23	2	i_total_read
water	41:11	0:0	3	i_total_read
