func	2:0	55:0	0	static int	DirectXCreatePictureResourceRgb
params	2:42	0:0	1	
param	2:43	2:61	2	vout_display_t *	vd
param	3:43	3:62	2	video_format_t *	fmt
stmnts	0:0	54:22	1	
decl	5:4	5:37	2	vout_display_sys_t	*sys
op	5:28	0:0	2	=
water	5:30	0:0	2	vd
op	5:32	0:0	2	->
water	5:34	0:0	2	sys
decl	6:4	6:66	2	bool	allow_sysmem
op	6:23	0:0	2	=
call	6:25	6:65	3	var_InheritBool
arg	6:41	6:43	4	vd
water	6:41	0:0	5	vd
arg	6:45	6:65	4	"directx-use-sysmem"
water	6:45	0:0	5	"directx-use-sysmem"
decl	8:4	8:33	2	DDPIXELFORMAT	ddpfPixelFormat
call	9:4	9:56	2	ZeroMemory
arg	9:15	9:31	3	&ddpfPixelFormat
op	9:15	0:0	4	&
water	9:16	0:0	4	ddpfPixelFormat
arg	9:33	9:56	3	sizeof(ddpfPixelFormat)
op	9:33	0:0	4	sizeof
water	9:39	0:0	4	(
water	9:40	0:0	4	ddpfPixelFormat
water	9:55	0:0	4	)
water	9:57	0:0	2	;
water	10:4	0:0	2	ddpfPixelFormat
op	10:19	0:0	2	.
water	10:20	0:0	2	dwSize
op	10:27	0:0	2	=
op	10:29	0:0	2	sizeof
water	10:35	0:0	2	(
water	10:36	0:0	2	ddpfPixelFormat
water	10:51	0:0	2	)
water	10:52	0:0	2	;
call	11:4	11:69	2	IDirectDrawSurface2_GetPixelFormat
arg	11:39	11:51	3	sys->display
water	11:39	0:0	4	sys
op	11:42	0:0	4	->
water	11:44	0:0	4	display
arg	11:53	11:69	3	&ddpfPixelFormat
op	11:53	0:0	4	&
water	11:54	0:0	4	ddpfPixelFormat
water	11:70	0:0	2	;
if	12:4	13:27	2	(( ddpfPixelFormat . dwFlags & DDPF_RGB ) == 0)
cond	12:8	12:48	3	( ddpfPixelFormat . dwFlags & DDPF_RGB ) == 0
water	12:8	0:0	4	(
water	12:9	0:0	4	ddpfPixelFormat
op	12:24	0:0	4	.
water	12:25	0:0	4	dwFlags
op	12:33	0:0	4	&
water	12:35	0:0	4	DDPF_RGB
water	12:43	0:0	4	)
op	12:45	0:0	4	==
water	12:48	0:0	4	0
stmts	13:8	13:27	3	
return	13:8	13:27	4	VLC_EGENERIC
water	13:15	0:0	5	VLC_EGENERIC
switch	14:4	33:4	2	(ddpfPixelFormat . dwRGBBitCount)
cond	14:12	14:28	3	ddpfPixelFormat . dwRGBBitCount
water	14:12	0:0	4	ddpfPixelFormat
op	14:27	0:0	4	.
water	14:28	0:0	4	dwRGBBitCount
stmts	14:43	33:4	3	
water	14:43	0:0	4	{
label	15:4	15:10	4	case 8 :
water	16:8	0:0	4	fmt
op	16:11	0:0	4	->
water	16:13	0:0	4	i_chroma
op	16:22	0:0	4	=
water	16:24	0:0	4	VLC_CODEC_RGB8
water	16:38	0:0	4	;
break	17:8	17:13	4	
label	18:4	18:11	4	case 15 :
water	19:8	0:0	4	fmt
op	19:11	0:0	4	->
water	19:13	0:0	4	i_chroma
op	19:22	0:0	4	=
water	19:24	0:0	4	VLC_CODEC_RGB15
water	19:39	0:0	4	;
break	20:8	20:13	4	
label	21:4	21:11	4	case 16 :
water	22:8	0:0	4	fmt
op	22:11	0:0	4	->
water	22:13	0:0	4	i_chroma
op	22:22	0:0	4	=
water	22:24	0:0	4	VLC_CODEC_RGB16
water	22:39	0:0	4	;
break	23:8	23:13	4	
label	24:4	24:11	4	case 24 :
water	25:8	0:0	4	fmt
op	25:11	0:0	4	->
water	25:13	0:0	4	i_chroma
op	25:22	0:0	4	=
water	25:24	0:0	4	VLC_CODEC_RGB24
water	25:39	0:0	4	;
break	26:8	26:13	4	
label	27:4	27:11	4	case 32 :
water	28:8	0:0	4	fmt
op	28:11	0:0	4	->
water	28:13	0:0	4	i_chroma
op	28:22	0:0	4	=
water	28:24	0:0	4	VLC_CODEC_RGB32
water	28:39	0:0	4	;
break	29:8	29:13	4	
label	30:4	30:11	4	default :
call	31:8	31:42	4	msg_Err
arg	31:16	31:18	5	vd
water	31:16	0:0	6	vd
arg	31:20	31:42	5	"unknown screen depth"
water	31:20	0:0	6	"unknown screen depth"
water	31:43	0:0	4	;
return	32:8	32:27	4	VLC_EGENERIC
water	32:15	0:0	5	VLC_EGENERIC
water	33:4	0:0	4	}
water	34:4	0:0	2	fmt
op	34:7	0:0	2	->
water	34:9	0:0	2	i_rmask
op	34:17	0:0	2	=
water	34:19	0:0	2	ddpfPixelFormat
op	34:34	0:0	2	.
water	34:35	0:0	2	dwRBitMask
water	34:45	0:0	2	;
water	35:4	0:0	2	fmt
op	35:7	0:0	2	->
water	35:9	0:0	2	i_gmask
op	35:17	0:0	2	=
water	35:19	0:0	2	ddpfPixelFormat
op	35:34	0:0	2	.
water	35:35	0:0	2	dwGBitMask
water	35:45	0:0	2	;
water	36:4	0:0	2	fmt
op	36:7	0:0	2	->
water	36:9	0:0	2	i_bmask
op	36:17	0:0	2	=
water	36:19	0:0	2	ddpfPixelFormat
op	36:34	0:0	2	.
water	36:35	0:0	2	dwBBitMask
water	36:45	0:0	2	;
decl	38:4	38:32	2	LPDIRECTDRAWSURFACE2	surface
decl	39:4	39:80	2	int	ret
op	39:12	0:0	2	=
call	39:14	39:79	3	DirectXCreateSurface
arg	39:35	39:37	4	vd
water	39:35	0:0	5	vd
arg	39:39	39:47	4	&surface
op	39:39	0:0	5	&
water	39:40	0:0	5	surface
arg	39:49	39:52	4	fmt
water	39:49	0:0	5	fmt
arg	39:54	39:55	4	0
water	39:54	0:0	5	0
arg	39:57	39:62	4	false
water	39:57	0:0	5	false
arg	39:64	39:76	4	allow_sysmem
water	39:64	0:0	5	allow_sysmem
arg	39:78	39:79	4	0
water	39:78	0:0	5	0
if	40:4	41:72	2	(ret && ! allow_sysmem)
cond	40:8	40:16	3	ret && ! allow_sysmem
water	40:8	0:0	4	ret
op	40:12	0:0	4	&&
op	40:15	0:0	4	!
water	40:16	0:0	4	allow_sysmem
stmts	41:8	41:72	3	
water	41:8	0:0	4	ret
op	41:12	0:0	4	=
call	41:14	41:71	4	DirectXCreateSurface
arg	41:35	41:37	5	vd
water	41:35	0:0	6	vd
arg	41:39	41:47	5	&surface
op	41:39	0:0	6	&
water	41:40	0:0	6	surface
arg	41:49	41:52	5	fmt
water	41:49	0:0	6	fmt
arg	41:54	41:55	5	0
water	41:54	0:0	6	0
arg	41:57	41:62	5	false
water	41:57	0:0	6	false
arg	41:64	41:68	5	true
water	41:64	0:0	6	true
arg	41:70	41:71	5	0
water	41:70	0:0	6	0
water	41:72	0:0	4	;
if	42:4	43:27	2	(ret)
cond	42:8	42:8	3	ret
water	42:8	0:0	4	ret
stmts	43:8	43:27	3	
return	43:8	43:27	4	VLC_EGENERIC
water	43:15	0:0	5	VLC_EGENERIC
call	44:4	44:56	2	msg_Dbg
arg	44:12	44:14	3	vd
water	44:12	0:0	4	vd
arg	44:16	44:56	3	"RGB plain surface created successfully"
water	44:16	0:0	4	"RGB plain surface created successfully"
water	44:57	0:0	2	;
if	45:4	48:4	2	(DirectXCheckLockingSurface (surface ,surface ))
cond	45:8	45:51	3	DirectXCheckLockingSurface (surface ,surface )
call	45:8	45:51	4	DirectXCheckLockingSurface
arg	45:35	45:42	5	surface
water	45:35	0:0	6	surface
arg	45:44	45:51	5	surface
water	45:44	0:0	6	surface
stmts	45:54	48:4	3	
water	45:54	0:0	4	{
call	46:8	46:37	4	DirectXDestroySurface
arg	46:30	46:37	5	surface
water	46:30	0:0	6	surface
water	46:38	0:0	4	;
return	47:8	47:27	4	VLC_EGENERIC
water	47:15	0:0	5	VLC_EGENERIC
water	48:4	0:0	4	}
decl	50:4	50:39	2	picture_sys_t	*picsys
op	50:26	0:0	2	=
water	50:28	0:0	2	sys
op	50:31	0:0	2	->
water	50:33	0:0	2	picsys
water	51:4	0:0	2	picsys
op	51:10	0:0	2	->
water	51:12	0:0	2	front_surface
op	51:26	0:0	2	=
water	51:28	0:0	2	surface
water	51:35	0:0	2	;
water	52:4	0:0	2	picsys
op	52:10	0:0	2	->
water	52:12	0:0	2	surface
op	52:26	0:0	2	=
water	52:28	0:0	2	surface
water	52:35	0:0	2	;
water	53:4	0:0	2	picsys
op	53:10	0:0	2	->
water	53:12	0:0	2	fallback
op	53:26	0:0	2	=
water	53:28	0:0	2	NULL
water	53:32	0:0	2	;
return	54:4	54:22	2	VLC_SUCCESS
water	54:11	0:0	3	VLC_SUCCESS
