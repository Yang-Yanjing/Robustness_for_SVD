func	2:0	43:0	0	static int	Open
params	2:15	0:0	1	
param	2:17	2:37	2	vlc_object_t *	p_this
param	2:39	2:58	2	enum type_e	i_type
stmnts	0:0	42:22	1	
decl	4:4	4:64	2	services_discovery_t	*p_sd
op	4:31	0:0	2	=
water	4:33	0:0	2	(
water	4:35	0:0	2	services_discovery_t
op	4:55	0:0	2	*
water	4:57	0:0	2	)
water	4:58	0:0	2	p_this
decl	5:4	5:35	2	services_discovery_sys_t	*p_sys
water	6:4	0:0	2	p_sd
op	6:8	0:0	2	->
water	6:10	0:0	2	p_sys
op	6:16	0:0	2	=
water	6:18	0:0	2	p_sys
op	6:24	0:0	2	=
call	6:26	6:53	2	calloc
arg	6:34	6:35	3	1
water	6:34	0:0	4	1
arg	6:37	6:53	3	sizeof(*p_sys)
op	6:37	0:0	4	sizeof
water	6:43	0:0	4	(
op	6:45	0:0	4	*
water	6:46	0:0	4	p_sys
water	6:51	0:0	4	)
water	6:54	0:0	2	;
if	7:4	8:25	2	(! p_sys)
cond	7:8	7:9	3	! p_sys
op	7:8	0:0	4	!
water	7:9	0:0	4	p_sys
stmts	8:8	8:25	3	
return	8:8	8:25	4	VLC_ENOMEM
water	8:15	0:0	5	VLC_ENOMEM
water	9:4	0:0	2	p_sys
op	9:9	0:0	2	->
water	9:11	0:0	2	i_type
op	9:18	0:0	2	=
water	9:20	0:0	2	i_type
water	9:26	0:0	2	;
if	10:4	15:4	2	(p_sys -> i_type == Video)
cond	10:8	10:25	3	p_sys -> i_type == Video
water	10:8	0:0	4	p_sys
op	10:13	0:0	4	->
water	10:15	0:0	4	i_type
op	10:22	0:0	4	==
water	10:25	0:0	4	Video
stmts	11:4	15:4	3	
water	11:4	0:0	4	{
water	12:8	0:0	4	p_sys
op	12:13	0:0	4	->
water	12:15	0:0	4	psz_dir
op	12:22	0:0	4	[
water	12:23	0:0	4	0
op	12:24	0:0	4	]
op	12:26	0:0	4	=
call	12:28	12:62	4	config_GetUserDir
arg	12:47	12:62	5	VLC_VIDEOS_DIR
water	12:47	0:0	6	VLC_VIDEOS_DIR
water	12:63	0:0	4	;
water	13:8	0:0	4	p_sys
op	13:13	0:0	4	->
water	13:15	0:0	4	psz_dir
op	13:22	0:0	4	[
water	13:23	0:0	4	1
op	13:24	0:0	4	]
op	13:26	0:0	4	=
call	13:28	13:75	4	var_CreateGetString
arg	13:49	13:53	5	p_sd
water	13:49	0:0	6	p_sd
arg	13:55	13:75	5	"input-record-path"
water	13:55	0:0	6	"input-record-path"
water	13:76	0:0	4	;
water	14:8	0:0	4	p_sys
op	14:13	0:0	4	->
water	14:15	0:0	4	psz_var
op	14:23	0:0	4	=
water	14:25	0:0	4	"record-file"
water	14:38	0:0	4	;
water	15:4	0:0	4	}
else	16:4	21:4	2
stmts	16:9	21:4	3	
if	16:9	21:4	4	(p_sys -> i_type == Audio)
cond	16:13	16:30	5	p_sys -> i_type == Audio
water	16:13	0:0	6	p_sys
op	16:18	0:0	6	->
water	16:20	0:0	6	i_type
op	16:27	0:0	6	==
water	16:30	0:0	6	Audio
stmts	17:4	21:4	5	
water	17:4	0:0	6	{
water	18:8	0:0	6	p_sys
op	18:13	0:0	6	->
water	18:15	0:0	6	psz_dir
op	18:22	0:0	6	[
water	18:23	0:0	6	0
op	18:24	0:0	6	]
op	18:26	0:0	6	=
call	18:28	18:61	6	config_GetUserDir
arg	18:47	18:61	7	VLC_MUSIC_DIR
water	18:47	0:0	8	VLC_MUSIC_DIR
water	18:62	0:0	6	;
water	19:8	0:0	6	p_sys
op	19:13	0:0	6	->
water	19:15	0:0	6	psz_dir
op	19:22	0:0	6	[
water	19:23	0:0	6	1
op	19:24	0:0	6	]
op	19:26	0:0	6	=
call	19:28	19:75	6	var_CreateGetString
arg	19:49	19:53	7	p_sd
water	19:49	0:0	8	p_sd
arg	19:55	19:75	7	"input-record-path"
water	19:55	0:0	8	"input-record-path"
water	19:76	0:0	6	;
water	20:8	0:0	6	p_sys
op	20:13	0:0	6	->
water	20:15	0:0	6	psz_var
op	20:23	0:0	6	=
water	20:25	0:0	6	"record-file"
water	20:38	0:0	6	;
water	21:4	0:0	6	}
else	22:4	27:4	2
stmts	22:9	27:4	3	
if	22:9	27:4	4	(p_sys -> i_type == Picture)
cond	22:13	22:30	5	p_sys -> i_type == Picture
water	22:13	0:0	6	p_sys
op	22:18	0:0	6	->
water	22:20	0:0	6	i_type
op	22:27	0:0	6	==
water	22:30	0:0	6	Picture
stmts	23:4	27:4	5	
water	23:4	0:0	6	{
water	24:8	0:0	6	p_sys
op	24:13	0:0	6	->
water	24:15	0:0	6	psz_dir
op	24:22	0:0	6	[
water	24:23	0:0	6	0
op	24:24	0:0	6	]
op	24:26	0:0	6	=
call	24:28	24:64	6	config_GetUserDir
arg	24:47	24:64	7	VLC_PICTURES_DIR
water	24:47	0:0	8	VLC_PICTURES_DIR
water	24:65	0:0	6	;
water	25:8	0:0	6	p_sys
op	25:13	0:0	6	->
water	25:15	0:0	6	psz_dir
op	25:22	0:0	6	[
water	25:23	0:0	6	1
op	25:24	0:0	6	]
op	25:26	0:0	6	=
call	25:28	25:71	6	var_CreateGetString
arg	25:49	25:53	7	p_sd
water	25:49	0:0	8	p_sd
arg	25:55	25:71	7	"snapshot-path"
water	25:55	0:0	8	"snapshot-path"
water	25:72	0:0	6	;
water	26:8	0:0	6	p_sys
op	26:13	0:0	6	->
water	26:15	0:0	6	psz_var
op	26:23	0:0	6	=
water	26:25	0:0	6	"snapshot-file"
water	26:40	0:0	6	;
water	27:4	0:0	6	}
else	28:4	32:4	2
stmts	29:4	32:4	3	
water	29:4	0:0	4	{
call	30:8	30:20	4	free
arg	30:14	30:20	5	p_sys
water	30:14	0:0	6	p_sys
water	30:21	0:0	4	;
return	31:8	31:27	4	VLC_EGENERIC
water	31:15	0:0	5	VLC_EGENERIC
water	32:4	0:0	4	}
call	33:4	33:74	2	var_AddCallback
arg	33:21	33:35	3	p_sd->p_libvlc
water	33:21	0:0	4	p_sd
op	33:25	0:0	4	->
water	33:27	0:0	4	p_libvlc
arg	33:37	33:51	3	p_sys->psz_var
water	33:37	0:0	4	p_sys
op	33:42	0:0	4	->
water	33:44	0:0	4	psz_var
arg	33:53	33:67	3	onNewFileAdded
water	33:53	0:0	4	onNewFileAdded
arg	33:69	33:74	3	p_sd
water	33:69	0:0	4	p_sd
water	33:75	0:0	2	;
if	34:4	41:4	2	(vlc_clone (& p_sys -> thread ,Run ,p_sd ,VLC_THREAD_PRIORITY_LOW ))
cond	34:8	34:70	3	vlc_clone (& p_sys -> thread ,Run ,p_sd ,VLC_THREAD_PRIORITY_LOW )
call	34:8	34:70	4	vlc_clone
arg	34:19	34:33	5	&p_sys->thread
op	34:19	0:0	6	&
water	34:20	0:0	6	p_sys
op	34:25	0:0	6	->
water	34:27	0:0	6	thread
arg	34:35	34:38	5	Run
water	34:35	0:0	6	Run
arg	34:40	34:44	5	p_sd
water	34:40	0:0	6	p_sd
arg	34:46	34:70	5	VLC_THREAD_PRIORITY_LOW
water	34:46	0:0	6	VLC_THREAD_PRIORITY_LOW
stmts	35:4	41:4	3	
water	35:4	0:0	4	{
call	36:8	36:78	4	var_DelCallback
arg	36:25	36:39	5	p_sd->p_libvlc
water	36:25	0:0	6	p_sd
op	36:29	0:0	6	->
water	36:31	0:0	6	p_libvlc
arg	36:41	36:55	5	p_sys->psz_var
water	36:41	0:0	6	p_sys
op	36:46	0:0	6	->
water	36:48	0:0	6	psz_var
arg	36:57	36:71	5	onNewFileAdded
water	36:57	0:0	6	onNewFileAdded
arg	36:73	36:78	5	p_sd
water	36:73	0:0	6	p_sd
water	36:79	0:0	4	;
call	37:8	37:32	4	free
arg	37:14	37:32	5	p_sys->psz_dir[1]
water	37:14	0:0	6	p_sys
op	37:19	0:0	6	->
water	37:21	0:0	6	psz_dir
op	37:28	0:0	6	[
water	37:29	0:0	6	1
op	37:30	0:0	6	]
water	37:33	0:0	4	;
call	38:8	38:32	4	free
arg	38:14	38:32	5	p_sys->psz_dir[0]
water	38:14	0:0	6	p_sys
op	38:19	0:0	6	->
water	38:21	0:0	6	psz_dir
op	38:28	0:0	6	[
water	38:29	0:0	6	0
op	38:30	0:0	6	]
water	38:33	0:0	4	;
call	39:8	39:20	4	free
arg	39:14	39:20	5	p_sys
water	39:14	0:0	6	p_sys
water	39:21	0:0	4	;
return	40:8	40:27	4	VLC_EGENERIC
water	40:15	0:0	5	VLC_EGENERIC
water	41:4	0:0	4	}
return	42:4	42:22	2	VLC_SUCCESS
water	42:11	0:0	3	VLC_SUCCESS
