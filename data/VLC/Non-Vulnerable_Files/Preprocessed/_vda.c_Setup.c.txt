func	2:0	55:0	0	static int	Setup
params	2:16	0:0	1	
param	2:18	2:36	2	vlc_va_t *	external
param	2:38	2:54	2	void * *	pp_hw_ctx
param	2:56	2:79	2	vlc_fourcc_t *	pi_chroma
param	3:17	3:28	2	int	i_width
param	3:30	3:43	2	int	i_height
stmnts	0:0	54:22	1	
decl	5:4	5:51	2	vlc_va_vda_t	*p_va
op	5:23	0:0	2	=
call	5:25	5:50	3	vlc_va_vda_Get
arg	5:41	5:50	4	external
water	5:41	0:0	5	external
if	6:4	13:4	2	(p_va -> hw_ctx . width == i_width && p_va -> hw_ctx . height == i_height && p_va -> hw_ctx . decoder)
cond	6:8	8:23	3	p_va -> hw_ctx . width == i_width && p_va -> hw_ctx . height == i_height && p_va -> hw_ctx . decoder
water	6:8	0:0	4	p_va
op	6:12	0:0	4	->
water	6:14	0:0	4	hw_ctx
op	6:20	0:0	4	.
water	6:21	0:0	4	width
op	6:27	0:0	4	==
water	6:30	0:0	4	i_width
op	7:7	0:0	4	&&
water	7:10	0:0	4	p_va
op	7:14	0:0	4	->
water	7:16	0:0	4	hw_ctx
op	7:22	0:0	4	.
water	7:23	0:0	4	height
op	7:30	0:0	4	==
water	7:33	0:0	4	i_height
op	8:7	0:0	4	&&
water	8:10	0:0	4	p_va
op	8:14	0:0	4	->
water	8:16	0:0	4	hw_ctx
op	8:22	0:0	4	.
water	8:23	0:0	4	decoder
stmts	9:4	13:4	3	
water	9:4	0:0	4	{
op	10:8	0:0	4	*
water	10:9	0:0	4	pp_hw_ctx
op	10:19	0:0	4	=
op	10:21	0:0	4	&
water	10:22	0:0	4	p_va
op	10:26	0:0	4	->
water	10:28	0:0	4	hw_ctx
water	10:34	0:0	4	;
op	11:8	0:0	4	*
water	11:9	0:0	4	pi_chroma
op	11:19	0:0	4	=
water	11:21	0:0	4	p_va
op	11:25	0:0	4	->
water	11:27	0:0	4	i_chroma
water	11:35	0:0	4	;
return	12:8	12:26	4	VLC_SUCCESS
water	12:15	0:0	5	VLC_SUCCESS
water	13:4	0:0	4	}
if	14:4	18:4	2	(p_va -> hw_ctx . decoder)
cond	14:8	14:21	3	p_va -> hw_ctx . decoder
water	14:8	0:0	4	p_va
op	14:12	0:0	4	->
water	14:14	0:0	4	hw_ctx
op	14:20	0:0	4	.
water	14:21	0:0	4	decoder
stmts	15:4	18:4	3	
water	15:4	0:0	4	{
call	16:8	16:46	4	ff_vda_destroy_decoder
arg	16:32	16:46	5	&p_va->hw_ctx
op	16:32	0:0	6	&
water	16:33	0:0	6	p_va
op	16:37	0:0	6	->
water	16:39	0:0	6	hw_ctx
water	16:47	0:0	4	;
goto	17:8	17:15	4	ok
water	17:13	0:0	5	ok
water	18:4	0:0	4	}
call	19:4	19:51	2	memset
arg	19:12	19:25	3	&p_va->hw_ctx
op	19:12	0:0	4	&
water	19:13	0:0	4	p_va
op	19:17	0:0	4	->
water	19:19	0:0	4	hw_ctx
arg	19:27	19:28	3	0
water	19:27	0:0	4	0
arg	19:30	19:51	3	sizeof(p_va->hw_ctx)
op	19:30	0:0	4	sizeof
water	19:36	0:0	4	(
water	19:37	0:0	4	p_va
op	19:41	0:0	4	->
water	19:43	0:0	4	hw_ctx
water	19:49	0:0	4	)
water	19:52	0:0	2	;
water	20:4	0:0	2	p_va
op	20:8	0:0	2	->
water	20:10	0:0	2	hw_ctx
op	20:16	0:0	2	.
water	20:17	0:0	2	format
op	20:24	0:0	2	=
water	20:26	0:0	2	'avc1'
water	20:32	0:0	2	;
water	21:4	0:0	2	p_va
op	21:8	0:0	2	->
water	21:10	0:0	2	hw_ctx
op	21:16	0:0	2	.
water	21:17	0:0	2	use_ref_buffer
op	21:32	0:0	2	=
water	21:34	0:0	2	1
water	21:35	0:0	2	;
decl	22:4	22:78	2	int	i_pix_fmt
op	22:18	0:0	2	=
call	22:20	22:77	3	var_CreateGetInteger
arg	22:42	22:53	4	p_va->p_log
water	22:42	0:0	5	p_va
op	22:46	0:0	5	->
water	22:48	0:0	5	p_log
arg	22:55	22:77	4	"avcodec-vda-pix-fmt"
water	22:55	0:0	5	"avcodec-vda-pix-fmt"
switch	23:4	36:4	2	(i_pix_fmt)
cond	23:12	23:12	3	i_pix_fmt
water	23:12	0:0	4	i_pix_fmt
stmts	24:4	36:4	3	
water	24:4	0:0	4	{
label	25:8	25:15	4	case 1 :
water	26:12	0:0	4	p_va
op	26:16	0:0	4	->
water	26:18	0:0	4	hw_ctx
op	26:24	0:0	4	.
water	26:25	0:0	4	cv_pix_fmt_type
op	26:41	0:0	4	=
water	26:43	0:0	4	kCVPixelFormatType_422YpCbCr8
water	26:72	0:0	4	;
water	27:12	0:0	4	p_va
op	27:16	0:0	4	->
water	27:18	0:0	4	i_chroma
op	27:27	0:0	4	=
water	27:29	0:0	4	VLC_CODEC_UYVY
water	27:43	0:0	4	;
call	28:12	28:64	4	msg_Dbg
arg	28:20	28:31	5	p_va->p_log
water	28:20	0:0	6	p_va
op	28:24	0:0	6	->
water	28:26	0:0	6	p_log
arg	28:33	28:64	5	"using pixel format 422YpCbCr8"
water	28:33	0:0	6	"using pixel format 422YpCbCr8"
water	28:65	0:0	4	;
break	29:12	29:17	4	
label	30:8	30:15	4	case 0 :
label	31:8	31:16	4	default :
water	32:12	0:0	4	p_va
op	32:16	0:0	4	->
water	32:18	0:0	4	hw_ctx
op	32:24	0:0	4	.
water	32:25	0:0	4	cv_pix_fmt_type
op	32:41	0:0	4	=
water	32:43	0:0	4	kCVPixelFormatType_420YpCbCr8Planar
water	32:78	0:0	4	;
water	33:12	0:0	4	p_va
op	33:16	0:0	4	->
water	33:18	0:0	4	i_chroma
op	33:27	0:0	4	=
water	33:29	0:0	4	VLC_CODEC_I420
water	33:43	0:0	4	;
call	34:12	34:55	4	CopyInitCache
arg	34:27	34:45	5	&p_va->image_cache
op	34:27	0:0	6	&
water	34:28	0:0	6	p_va
op	34:32	0:0	6	->
water	34:34	0:0	6	image_cache
arg	34:47	34:55	5	i_width
water	34:47	0:0	6	i_width
water	34:56	0:0	4	;
call	35:12	35:70	4	msg_Dbg
arg	35:20	35:31	5	p_va->p_log
water	35:20	0:0	6	p_va
op	35:24	0:0	6	->
water	35:26	0:0	6	p_log
arg	35:33	35:70	5	"using pixel format 420YpCbCr8Planar"
water	35:33	0:0	6	"using pixel format 420YpCbCr8Planar"
water	35:71	0:0	4	;
water	36:4	0:0	4	}
label	37:0	37:2	2	ok :
op	39:4	0:0	2	*
water	39:5	0:0	2	pp_hw_ctx
op	39:15	0:0	2	=
op	39:17	0:0	2	&
water	39:18	0:0	2	p_va
op	39:22	0:0	2	->
water	39:24	0:0	2	hw_ctx
water	39:30	0:0	2	;
op	40:4	0:0	2	*
water	40:5	0:0	2	pi_chroma
op	40:15	0:0	2	=
water	40:17	0:0	2	p_va
op	40:21	0:0	2	->
water	40:23	0:0	2	i_chroma
water	40:31	0:0	2	;
water	41:4	0:0	2	p_va
op	41:8	0:0	2	->
water	41:10	0:0	2	hw_ctx
op	41:16	0:0	2	.
water	41:17	0:0	2	width
op	41:23	0:0	2	=
water	41:25	0:0	2	i_width
water	41:32	0:0	2	;
water	42:4	0:0	2	p_va
op	42:8	0:0	2	->
water	42:10	0:0	2	hw_ctx
op	42:16	0:0	2	.
water	42:17	0:0	2	height
op	42:24	0:0	2	=
water	42:26	0:0	2	i_height
water	42:34	0:0	2	;
decl	44:4	46:58	2	int	status
op	44:15	0:0	2	=
call	44:17	46:57	3	ff_vda_create_decoder
arg	44:40	44:53	4	&p_va->hw_ctx
op	44:40	0:0	5	&
water	44:41	0:0	5	p_va
op	44:45	0:0	5	->
water	44:47	0:0	5	hw_ctx
arg	45:39	45:56	4	p_va->p_extradata
water	45:39	0:0	5	p_va
op	45:43	0:0	5	->
water	45:45	0:0	5	p_extradata
arg	46:39	46:57	4	p_va->i_extradata
water	46:39	0:0	5	p_va
op	46:43	0:0	5	->
water	46:45	0:0	5	i_extradata
if	47:4	51:4	2	(status)
cond	47:8	47:8	3	status
water	47:8	0:0	4	status
stmts	48:4	51:4	3	
water	48:4	0:0	4	{
call	49:8	49:69	4	msg_Err
arg	49:17	49:28	5	p_va->p_log
water	49:17	0:0	6	p_va
op	49:21	0:0	6	->
water	49:23	0:0	6	p_log
arg	49:30	49:60	5	"Failed to create decoder: %i"
water	49:30	0:0	6	"Failed to create decoder: %i"
arg	49:62	49:69	5	status
water	49:62	0:0	6	status
water	49:70	0:0	4	;
return	50:8	50:27	4	VLC_EGENERIC
water	50:15	0:0	5	VLC_EGENERIC
water	51:4	0:0	4	}
else	52:4	53:52	2
stmts	53:8	53:52	3	
call	53:8	53:51	4	msg_Dbg
arg	53:17	53:28	5	p_va->p_log
water	53:17	0:0	6	p_va
op	53:21	0:0	6	->
water	53:23	0:0	6	p_log
arg	53:30	53:51	5	"VDA decoder created"
water	53:30	0:0	6	"VDA decoder created"
water	53:52	0:0	4	;
return	54:4	54:22	2	VLC_SUCCESS
water	54:11	0:0	3	VLC_SUCCESS
func	57:0	68:0	0	static int	Setup
params	57:16	0:0	1	
param	57:18	57:36	2	vlc_va_t *	external
param	57:38	57:54	2	void * *	pp_hw_ctx
param	57:56	57:79	2	vlc_fourcc_t *	pi_chroma
param	58:17	58:28	2	int	i_width
param	58:30	58:43	2	int	i_height
stmnts	60:4	67:22	1	
call	60:4	60:26	2	VLC_UNUSED
arg	60:16	60:26	3	pp_hw_ctx
water	60:16	0:0	4	pp_hw_ctx
water	60:27	0:0	2	;
decl	61:4	61:51	2	vlc_va_vda_t	*p_va
op	61:23	0:0	2	=
call	61:25	61:50	3	vlc_va_vda_Get
arg	61:41	61:50	4	external
water	61:41	0:0	5	external
op	62:4	0:0	2	*
water	62:5	0:0	2	pi_chroma
op	62:15	0:0	2	=
water	62:17	0:0	2	VLC_CODEC_UYVY
water	62:31	0:0	2	;
call	63:4	63:35	2	av_vda_default_free
arg	63:24	63:35	3	p_va->avctx
water	63:24	0:0	4	p_va
op	63:28	0:0	4	->
water	63:30	0:0	4	avctx
water	63:36	0:0	2	;
if	64:4	65:27	2	(av_vda_default_init (p_va -> avctx ) < 0)
cond	64:8	64:43	3	av_vda_default_init (p_va -> avctx ) < 0
call	64:8	64:39	4	av_vda_default_init
arg	64:28	64:39	5	p_va->avctx
water	64:28	0:0	6	p_va
op	64:32	0:0	6	->
water	64:34	0:0	6	avctx
op	64:41	0:0	4	<
water	64:43	0:0	4	0
stmts	65:8	65:27	3	
return	65:8	65:27	4	VLC_EGENERIC
water	65:15	0:0	5	VLC_EGENERIC
water	66:4	0:0	2	(
water	66:5	0:0	2	void
water	66:9	0:0	2	)
water	66:10	0:0	2	i_width
water	66:17	0:0	2	;
water	66:19	0:0	2	(
water	66:20	0:0	2	void
water	66:24	0:0	2	)
water	66:25	0:0	2	i_height
water	66:33	0:0	2	;
return	67:4	67:22	2	VLC_SUCCESS
water	67:11	0:0	3	VLC_SUCCESS
