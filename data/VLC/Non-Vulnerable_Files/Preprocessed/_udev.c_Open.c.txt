func	2:0	59:0	0	static int	Open
params	2:16	0:0	1	
param	2:17	2:34	2	vlc_object_t *	obj
param	2:36	2:63	2	const struct subsys *	subsys
stmnts	0:0	58:23	1	
decl	4:4	4:58	2	services_discovery_t	*sd
op	4:29	0:0	2	=
water	4:31	0:0	2	(
water	4:32	0:0	2	services_discovery_t
op	4:53	0:0	2	*
water	4:54	0:0	2	)
water	4:55	0:0	2	obj
decl	5:4	5:62	2	services_discovery_sys_t	*p_sys
op	5:36	0:0	2	=
call	5:38	5:61	3	malloc
arg	5:46	5:61	4	sizeof(*p_sys)
op	5:46	0:0	5	sizeof
water	5:53	0:0	5	(
op	5:54	0:0	5	*
water	5:55	0:0	5	p_sys
water	5:60	0:0	5	)
if	6:4	7:25	2	(p_sys == NULL)
cond	6:8	6:17	3	p_sys == NULL
water	6:8	0:0	4	p_sys
op	6:14	0:0	4	==
water	6:17	0:0	4	NULL
stmts	7:8	7:25	3	
return	7:8	7:25	4	VLC_ENOMEM
water	7:15	0:0	5	VLC_ENOMEM
water	8:4	0:0	2	sd
op	8:6	0:0	2	->
water	8:8	0:0	2	p_sys
op	8:14	0:0	2	=
water	8:16	0:0	2	p_sys
water	8:21	0:0	2	;
water	9:4	0:0	2	p_sys
op	9:9	0:0	2	->
water	9:11	0:0	2	subsys
op	9:18	0:0	2	=
water	9:20	0:0	2	subsys
water	9:26	0:0	2	;
water	10:4	0:0	2	p_sys
op	10:9	0:0	2	->
water	10:11	0:0	2	root
op	10:16	0:0	2	=
water	10:18	0:0	2	NULL
water	10:22	0:0	2	;
decl	11:4	11:35	2	struct udev_monitor	*mon
op	11:29	0:0	2	=
water	11:31	0:0	2	NULL
decl	12:4	12:35	2	struct udev	*udev
op	12:22	0:0	2	=
call	12:24	12:34	3	udev_new
if	13:4	14:18	2	(udev == NULL)
cond	13:8	13:16	3	udev == NULL
water	13:8	0:0	4	udev
op	13:13	0:0	4	==
water	13:16	0:0	4	NULL
stmts	14:8	14:18	3	
goto	14:8	14:18	4	error
water	14:13	0:0	5	error
water	15:4	0:0	2	mon
op	15:8	0:0	2	=
call	15:10	15:53	2	udev_monitor_new_from_netlink
arg	15:41	15:45	3	udev
water	15:41	0:0	4	udev
arg	15:47	15:53	3	"udev"
water	15:47	0:0	4	"udev"
water	15:54	0:0	2	;
if	16:4	19:18	2	(mon == NULL ||udev_monitor_filter_add_match_subsystem_devtype (mon ,subsys -> name ,NULL ))
cond	16:8	18:61	3	mon == NULL ||udev_monitor_filter_add_match_subsystem_devtype (mon ,subsys -> name ,NULL )
water	16:8	0:0	4	mon
op	16:12	0:0	4	==
water	16:15	0:0	4	NULL
op	17:5	0:0	4	||
call	17:8	18:61	4	udev_monitor_filter_add_match_subsystem_devtype
arg	17:57	17:60	5	mon
water	17:57	0:0	6	mon
arg	17:62	17:74	5	subsys->name
water	17:62	0:0	6	subsys
op	17:68	0:0	6	->
water	17:70	0:0	6	name
arg	18:57	18:61	5	NULL
water	18:57	0:0	6	NULL
stmts	19:8	19:18	3	
goto	19:8	19:18	4	error
water	19:13	0:0	5	error
water	20:4	0:0	2	p_sys
op	20:9	0:0	2	->
water	20:11	0:0	2	monitor
op	20:19	0:0	2	=
water	20:21	0:0	2	mon
water	20:24	0:0	2	;
decl	22:4	22:62	2	struct udev_enumerate	*devenum
op	22:35	0:0	2	=
call	22:37	22:61	3	udev_enumerate_new
arg	22:57	22:61	4	udev
water	22:57	0:0	5	udev
if	23:4	24:18	2	(devenum == NULL)
cond	23:8	23:19	3	devenum == NULL
water	23:8	0:0	4	devenum
op	23:16	0:0	4	==
water	23:19	0:0	4	NULL
stmts	24:8	24:18	3	
goto	24:8	24:18	4	error
water	24:13	0:0	5	error
if	25:4	29:4	2	(udev_enumerate_add_match_subsystem (devenum ,subsys -> name ))
cond	25:8	25:65	3	udev_enumerate_add_match_subsystem (devenum ,subsys -> name )
call	25:8	25:65	4	udev_enumerate_add_match_subsystem
arg	25:44	25:51	5	devenum
water	25:44	0:0	6	devenum
arg	25:53	25:65	5	subsys->name
water	25:53	0:0	6	subsys
op	25:59	0:0	6	->
water	25:61	0:0	6	name
stmts	26:4	29:4	3	
water	26:4	0:0	4	{
call	27:8	27:37	4	udev_enumerate_unref
arg	27:30	27:37	5	devenum
water	27:30	0:0	6	devenum
water	27:38	0:0	4	;
goto	28:8	28:18	4	error
water	28:13	0:0	5	error
water	29:4	0:0	4	}
call	30:4	30:38	2	udev_monitor_enable_receiving
arg	30:35	30:38	3	mon
water	30:35	0:0	4	mon
water	30:39	0:0	2	;
call	34:4	34:40	2	udev_enumerate_scan_devices
arg	34:33	34:40	3	devenum
water	34:33	0:0	4	devenum
water	34:41	0:0	2	;
decl	35:4	35:77	2	struct udev_list_entry	*devlist
op	35:36	0:0	2	=
call	35:38	35:76	3	udev_enumerate_get_list_entry
arg	35:69	35:76	4	devenum
water	35:69	0:0	5	devenum
decl	36:4	36:36	2	struct udev_list_entry	*deventry
call	37:4	37:46	2	udev_list_entry_foreach
arg	37:29	37:37	3	deventry
water	37:29	0:0	4	deventry
arg	37:39	37:46	3	devlist
water	37:39	0:0	4	devlist
water	38:4	0:0	2	{
water	39:8	0:0	2	const
water	39:14	0:0	2	char
op	39:19	0:0	2	*
water	39:20	0:0	2	path
op	39:25	0:0	2	=
call	39:27	39:61	2	udev_list_entry_get_name
arg	39:53	39:61	3	deventry
water	39:53	0:0	4	deventry
water	39:62	0:0	2	;
water	40:8	0:0	2	struct
water	40:15	0:0	2	udev_device
op	40:27	0:0	2	*
water	40:28	0:0	2	dev
op	40:32	0:0	2	=
call	40:34	40:74	2	udev_device_new_from_syspath
arg	40:64	40:68	3	udev
water	40:64	0:0	4	udev
arg	40:70	40:74	3	path
water	40:70	0:0	4	path
water	40:75	0:0	2	;
call	41:8	41:26	2	AddDevice
arg	41:19	41:21	3	sd
water	41:19	0:0	4	sd
arg	41:23	41:26	3	dev
water	41:23	0:0	4	dev
water	41:27	0:0	2	;
call	42:8	42:30	2	udev_device_unref
arg	42:27	42:30	3	dev
water	42:27	0:0	4	dev
water	42:31	0:0	2	;
water	43:4	0:0	2	}
call	44:4	44:33	2	udev_enumerate_unref
arg	44:26	44:33	3	devenum
water	44:26	0:0	4	devenum
water	44:34	0:0	2	;
if	45:4	50:4	2	(vlc_clone (& p_sys -> thread ,Run ,sd ,VLC_THREAD_PRIORITY_LOW ))
cond	45:8	45:67	3	vlc_clone (& p_sys -> thread ,Run ,sd ,VLC_THREAD_PRIORITY_LOW )
call	45:8	45:67	4	vlc_clone
arg	45:19	45:33	5	&p_sys->thread
op	45:19	0:0	6	&
water	45:20	0:0	6	p_sys
op	45:25	0:0	6	->
water	45:27	0:0	6	thread
arg	45:35	45:38	5	Run
water	45:35	0:0	6	Run
arg	45:40	45:42	5	sd
water	45:40	0:0	6	sd
arg	45:44	45:67	5	VLC_THREAD_PRIORITY_LOW
water	45:44	0:0	6	VLC_THREAD_PRIORITY_LOW
stmts	46:4	50:4	3	
water	46:4	0:0	4	{
call	47:8	47:31	4	udev_monitor_unref
arg	47:28	47:31	5	mon
water	47:28	0:0	6	mon
water	47:32	0:0	4	;
call	48:8	48:24	4	udev_unref
arg	48:20	48:24	5	udev
water	48:20	0:0	6	udev
water	48:25	0:0	4	;
water	49:8	0:0	4	p_sys
op	49:13	0:0	4	->
water	49:15	0:0	4	monitor
op	49:23	0:0	4	=
water	49:25	0:0	4	NULL
water	49:29	0:0	4	;
water	50:4	0:0	4	}
return	51:4	51:22	2	VLC_SUCCESS
water	51:11	0:0	3	VLC_SUCCESS
label	52:0	52:5	2	error :
if	53:4	54:32	2	(mon != NULL)
cond	53:8	53:15	3	mon != NULL
water	53:8	0:0	4	mon
op	53:12	0:0	4	!=
water	53:15	0:0	4	NULL
stmts	54:8	54:32	3	
call	54:8	54:31	4	udev_monitor_unref
arg	54:28	54:31	5	mon
water	54:28	0:0	6	mon
water	54:32	0:0	4	;
if	55:4	56:25	2	(udev != NULL)
cond	55:8	55:16	3	udev != NULL
water	55:8	0:0	4	udev
op	55:13	0:0	4	!=
water	55:16	0:0	4	NULL
stmts	56:8	56:25	3	
call	56:8	56:24	4	udev_unref
arg	56:20	56:24	5	udev
water	56:20	0:0	6	udev
water	56:25	0:0	4	;
call	57:4	57:15	2	free
arg	57:10	57:15	3	p_sys
water	57:10	0:0	4	p_sys
water	57:16	0:0	2	;
return	58:4	58:23	2	VLC_EGENERIC
water	58:11	0:0	3	VLC_EGENERIC
