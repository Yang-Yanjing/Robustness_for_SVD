func	2:0	46:0	0	static int	DirectXUpdateOverlay
params	2:31	0:0	1	
param	2:32	2:50	2	vout_display_t *	vd
param	2:52	2:80	2	LPDIRECTDRAWSURFACE2	surface
stmnts	0:0	45:22	1	
decl	4:4	4:37	2	vout_display_sys_t	*sys
op	4:28	0:0	2	=
water	4:30	0:0	2	vd
op	4:32	0:0	2	->
water	4:34	0:0	2	sys
decl	5:4	5:36	2	RECT	src
op	5:13	0:0	2	=
water	5:15	0:0	2	sys
op	5:18	0:0	2	->
water	5:20	0:0	2	rect_src_clipped
decl	6:4	6:37	2	RECT	dst
op	6:13	0:0	2	=
water	6:15	0:0	2	sys
op	6:18	0:0	2	->
water	6:20	0:0	2	rect_dest_clipped
if	7:4	23:4	2	(sys -> use_wallpaper)
cond	7:8	7:13	3	sys -> use_wallpaper
water	7:8	0:0	4	sys
op	7:11	0:0	4	->
water	7:13	0:0	4	use_wallpaper
stmts	7:28	23:4	3	
water	7:28	0:0	4	{
water	8:8	0:0	4	src
op	8:11	0:0	4	.
water	8:12	0:0	4	left
op	8:19	0:0	4	=
water	8:21	0:0	4	vd
op	8:23	0:0	4	->
water	8:25	0:0	4	source
op	8:31	0:0	4	.
water	8:32	0:0	4	i_x_offset
water	8:42	0:0	4	;
water	9:8	0:0	4	src
op	9:11	0:0	4	.
water	9:12	0:0	4	top
op	9:19	0:0	4	=
water	9:21	0:0	4	vd
op	9:23	0:0	4	->
water	9:25	0:0	4	source
op	9:31	0:0	4	.
water	9:32	0:0	4	i_y_offset
water	9:42	0:0	4	;
water	10:8	0:0	4	src
op	10:11	0:0	4	.
water	10:12	0:0	4	right
op	10:19	0:0	4	=
water	10:21	0:0	4	vd
op	10:23	0:0	4	->
water	10:25	0:0	4	source
op	10:31	0:0	4	.
water	10:32	0:0	4	i_x_offset
op	10:43	0:0	4	+
water	10:45	0:0	4	vd
op	10:47	0:0	4	->
water	10:49	0:0	4	source
op	10:55	0:0	4	.
water	10:56	0:0	4	i_visible_width
water	10:71	0:0	4	;
water	11:8	0:0	4	src
op	11:11	0:0	4	.
water	11:12	0:0	4	bottom
op	11:19	0:0	4	=
water	11:21	0:0	4	vd
op	11:23	0:0	4	->
water	11:25	0:0	4	source
op	11:31	0:0	4	.
water	11:32	0:0	4	i_y_offset
op	11:43	0:0	4	+
water	11:45	0:0	4	vd
op	11:47	0:0	4	->
water	11:49	0:0	4	source
op	11:55	0:0	4	.
water	11:56	0:0	4	i_visible_height
water	11:72	0:0	4	;
call	12:8	12:72	4	AlignRect
arg	12:18	12:22	5	&src
op	12:18	0:0	6	&
water	12:19	0:0	6	src
arg	12:24	12:49	5	sys->i_align_src_boundary
water	12:24	0:0	6	sys
op	12:27	0:0	6	->
water	12:29	0:0	6	i_align_src_boundary
arg	12:51	12:72	5	sys->i_align_src_size
water	12:51	0:0	6	sys
op	12:54	0:0	6	->
water	12:56	0:0	6	i_align_src_size
water	12:73	0:0	4	;
decl	13:8	13:41	4	vout_display_cfg_t	cfg
op	13:31	0:0	4	=
op	13:33	0:0	4	*
water	13:34	0:0	4	vd
op	13:36	0:0	4	->
water	13:38	0:0	4	cfg
water	14:8	0:0	4	cfg
op	14:11	0:0	4	.
water	14:12	0:0	4	display
op	14:19	0:0	4	.
water	14:20	0:0	4	width
op	14:27	0:0	4	=
water	14:29	0:0	4	sys
op	14:32	0:0	4	->
water	14:34	0:0	4	rect_display
op	14:46	0:0	4	.
water	14:47	0:0	4	right
water	14:52	0:0	4	;
water	15:8	0:0	4	cfg
op	15:11	0:0	4	.
water	15:12	0:0	4	display
op	15:19	0:0	4	.
water	15:20	0:0	4	height
op	15:27	0:0	4	=
water	15:29	0:0	4	sys
op	15:32	0:0	4	->
water	15:34	0:0	4	rect_display
op	15:46	0:0	4	.
water	15:47	0:0	4	bottom
water	15:53	0:0	4	;
decl	16:8	16:34	4	vout_display_place_t	place
call	17:8	17:65	4	vout_display_PlacePicture
arg	17:34	17:40	5	&place
op	17:34	0:0	6	&
water	17:35	0:0	6	place
arg	17:42	17:53	5	&vd->source
op	17:42	0:0	6	&
water	17:43	0:0	6	vd
op	17:45	0:0	6	->
water	17:47	0:0	6	source
arg	17:55	17:59	5	&cfg
op	17:55	0:0	6	&
water	17:56	0:0	6	cfg
arg	17:61	17:65	5	true
water	17:61	0:0	6	true
water	17:66	0:0	4	;
water	18:8	0:0	4	dst
op	18:11	0:0	4	.
water	18:12	0:0	4	left
op	18:19	0:0	4	=
water	18:21	0:0	4	sys
op	18:24	0:0	4	->
water	18:26	0:0	4	rect_display
op	18:38	0:0	4	.
water	18:39	0:0	4	left
op	18:44	0:0	4	+
water	18:46	0:0	4	place
op	18:51	0:0	4	.
water	18:52	0:0	4	x
water	18:53	0:0	4	;
water	19:8	0:0	4	dst
op	19:11	0:0	4	.
water	19:12	0:0	4	top
op	19:19	0:0	4	=
water	19:21	0:0	4	sys
op	19:24	0:0	4	->
water	19:26	0:0	4	rect_display
op	19:38	0:0	4	.
water	19:39	0:0	4	top
op	19:44	0:0	4	+
water	19:46	0:0	4	place
op	19:51	0:0	4	.
water	19:52	0:0	4	y
water	19:53	0:0	4	;
water	20:8	0:0	4	dst
op	20:11	0:0	4	.
water	20:12	0:0	4	right
op	20:19	0:0	4	=
water	20:21	0:0	4	dst
op	20:24	0:0	4	.
water	20:25	0:0	4	left
op	20:30	0:0	4	+
water	20:32	0:0	4	place
op	20:37	0:0	4	.
water	20:38	0:0	4	width
water	20:43	0:0	4	;
water	21:8	0:0	4	dst
op	21:11	0:0	4	.
water	21:12	0:0	4	bottom
op	21:19	0:0	4	=
water	21:21	0:0	4	dst
op	21:24	0:0	4	.
water	21:25	0:0	4	top
op	21:30	0:0	4	+
water	21:32	0:0	4	place
op	21:37	0:0	4	.
water	21:38	0:0	4	height
water	21:44	0:0	4	;
call	22:8	22:74	4	AlignRect
arg	22:18	22:22	5	&dst
op	22:18	0:0	6	&
water	22:19	0:0	6	dst
arg	22:24	22:50	5	sys->i_align_dest_boundary
water	22:24	0:0	6	sys
op	22:27	0:0	6	->
water	22:29	0:0	6	i_align_dest_boundary
arg	22:52	22:74	5	sys->i_align_dest_size
water	22:52	0:0	6	sys
op	22:55	0:0	6	->
water	22:57	0:0	6	i_align_dest_size
water	22:75	0:0	4	;
water	23:4	0:0	4	}
if	24:4	28:4	2	(! surface)
cond	24:8	24:9	3	! surface
op	24:8	0:0	4	!
water	24:9	0:0	4	surface
stmts	24:18	28:4	3	
water	24:18	0:0	4	{
if	25:8	26:31	4	(! sys -> pool)
cond	25:12	25:18	5	! sys -> pool
op	25:12	0:0	6	!
water	25:13	0:0	6	sys
op	25:16	0:0	6	->
water	25:18	0:0	6	pool
stmts	26:12	26:31	5	
return	26:12	26:31	6	VLC_EGENERIC
water	26:19	0:0	7	VLC_EGENERIC
water	27:8	0:0	4	surface
op	27:16	0:0	4	=
water	27:18	0:0	4	sys
op	27:21	0:0	4	->
water	27:23	0:0	4	picsys
op	27:29	0:0	4	->
water	27:31	0:0	4	front_surface
water	27:44	0:0	4	;
water	28:4	0:0	4	}
decl	32:4	32:21	2	DDOVERLAYFX	ddofx
call	33:4	33:36	2	ZeroMemory
arg	33:15	33:21	3	&ddofx
op	33:15	0:0	4	&
water	33:16	0:0	4	ddofx
arg	33:23	33:36	3	sizeof(ddofx)
op	33:23	0:0	4	sizeof
water	33:29	0:0	4	(
water	33:30	0:0	4	ddofx
water	33:35	0:0	4	)
water	33:37	0:0	2	;
water	34:4	0:0	2	ddofx
op	34:9	0:0	2	.
water	34:10	0:0	2	dwSize
op	34:17	0:0	2	=
op	34:19	0:0	2	sizeof
water	34:25	0:0	2	(
water	34:26	0:0	2	ddofx
water	34:31	0:0	2	)
water	34:32	0:0	2	;
water	35:4	0:0	2	ddofx
op	35:9	0:0	2	.
water	35:10	0:0	2	dckDestColorkey
op	35:25	0:0	2	.
water	35:26	0:0	2	dwColorSpaceLowValue
op	35:47	0:0	2	=
water	35:49	0:0	2	sys
op	35:52	0:0	2	->
water	35:54	0:0	2	i_colorkey
water	35:64	0:0	2	;
water	36:4	0:0	2	ddofx
op	36:9	0:0	2	.
water	36:10	0:0	2	dckDestColorkey
op	36:25	0:0	2	.
water	36:26	0:0	2	dwColorSpaceHighValue
op	36:48	0:0	2	=
water	36:50	0:0	2	sys
op	36:53	0:0	2	->
water	36:55	0:0	2	i_colorkey
water	36:65	0:0	2	;
decl	37:4	39:96	2	HRESULT	hr
op	37:15	0:0	2	=
call	37:17	39:95	3	IDirectDrawSurface2_UpdateOverlay
arg	37:51	37:58	4	surface
water	37:51	0:0	5	surface
arg	38:51	38:55	4	&src
op	38:51	0:0	5	&
water	38:52	0:0	5	src
arg	38:57	38:69	4	sys->display
water	38:57	0:0	5	sys
op	38:60	0:0	5	->
water	38:62	0:0	5	display
arg	38:71	38:75	4	&dst
op	38:71	0:0	5	&
water	38:72	0:0	5	dst
arg	39:51	39:87	4	DDOVER_SHOW|DDOVER_KEYDESTOVERRIDE
water	39:51	0:0	5	DDOVER_SHOW
op	39:63	0:0	5	|
water	39:65	0:0	5	DDOVER_KEYDESTOVERRIDE
arg	39:89	39:95	4	&ddofx
op	39:89	0:0	5	&
water	39:90	0:0	5	ddofx
water	40:4	0:0	2	sys
op	40:7	0:0	2	->
water	40:9	0:0	2	restore_overlay
op	40:25	0:0	2	=
water	40:27	0:0	2	hr
op	40:30	0:0	2	!=
water	40:33	0:0	2	DD_OK
water	40:38	0:0	2	;
if	41:4	44:4	2	(hr != DD_OK)
cond	41:8	41:14	3	hr != DD_OK
water	41:8	0:0	4	hr
op	41:11	0:0	4	!=
water	41:14	0:0	4	DD_OK
stmts	41:21	44:4	3	
water	41:21	0:0	4	{
call	42:8	42:89	4	msg_Warn
arg	42:17	42:19	5	vd
water	42:17	0:0	6	vd
arg	42:21	42:85	5	"DirectDrawUpdateOverlay cannot move/resize overlay. (hr=0x%lX)"
water	42:21	0:0	6	"DirectDrawUpdateOverlay cannot move/resize overlay. (hr=0x%lX)"
arg	42:87	42:89	5	hr
water	42:87	0:0	6	hr
water	42:90	0:0	4	;
return	43:8	43:27	4	VLC_EGENERIC
water	43:15	0:0	5	VLC_EGENERIC
water	44:4	0:0	4	}
return	45:4	45:22	2	VLC_SUCCESS
water	45:11	0:0	3	VLC_SUCCESS
