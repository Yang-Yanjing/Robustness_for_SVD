func	2:0	36:0	0	static int	Open
params	2:15	0:0	1	
param	2:16	2:36	2	vlc_object_t *	object
stmnts	0:0	35:22	1	
decl	4:4	4:48	2	intf_thread_t	*intf
op	4:24	0:0	2	=
water	4:26	0:0	2	(
water	4:27	0:0	2	intf_thread_t
op	4:40	0:0	2	*
water	4:41	0:0	2	)
water	4:42	0:0	2	object
decl	5:4	5:22	2	intf_sys_t	*sys
decl	6:4	6:10	2	int	fd
if	7:4	15:4	2	(!var_InheritBool (intf ,"netsync-master" ))
cond	7:8	7:47	3	!var_InheritBool (intf ,"netsync-master" )
op	7:8	0:0	4	!
call	7:9	7:47	4	var_InheritBool
arg	7:25	7:29	5	intf
water	7:25	0:0	6	intf
arg	7:31	7:47	5	"netsync-master"
water	7:31	0:0	6	"netsync-master"
stmts	7:50	15:4	3	
water	7:50	0:0	4	{
decl	8:8	8:71	4	char	*psz_master
op	8:25	0:0	4	=
call	8:27	8:70	5	var_InheritString
arg	8:45	8:49	6	intf
water	8:45	0:0	7	intf
arg	8:51	8:70	6	"netsync-master-ip"
water	8:51	0:0	7	"netsync-master-ip"
if	9:8	12:8	4	(psz_master == NULL)
cond	9:12	9:26	5	psz_master == NULL
water	9:12	0:0	6	psz_master
op	9:23	0:0	6	==
water	9:26	0:0	6	NULL
stmts	9:32	12:8	5	
water	9:32	0:0	6	{
call	10:12	10:56	6	msg_Err
arg	10:20	10:24	7	intf
water	10:20	0:0	8	intf
arg	10:26	10:56	7	"master address not specified"
water	10:26	0:0	8	"master address not specified"
water	10:57	0:0	6	;
return	11:12	11:31	6	VLC_EGENERIC
water	11:19	0:0	7	VLC_EGENERIC
water	12:8	0:0	6	}
water	13:8	0:0	4	fd
op	13:11	0:0	4	=
call	13:13	13:74	4	net_ConnectUDP
arg	13:28	13:44	5	VLC_OBJECT(intf)
call	13:28	13:43	6	VLC_OBJECT
arg	13:39	13:43	7	intf
water	13:39	0:0	8	intf
arg	13:46	13:56	5	psz_master
water	13:46	0:0	6	psz_master
arg	13:58	13:70	5	NETSYNC_PORT
water	13:58	0:0	6	NETSYNC_PORT
arg	13:72	13:74	5	-1
op	13:72	0:0	6	-
water	13:73	0:0	6	1
water	13:75	0:0	4	;
call	14:8	14:23	4	free
arg	14:13	14:23	5	psz_master
water	14:13	0:0	6	psz_master
water	14:24	0:0	4	;
water	15:4	0:0	4	}
else	15:6	17:4	2
stmts	15:11	17:4	3	
water	15:11	0:0	4	{
water	16:8	0:0	4	fd
op	16:11	0:0	4	=
call	16:13	16:64	4	net_ListenUDP1
arg	16:28	16:44	5	VLC_OBJECT(intf)
call	16:28	16:43	6	VLC_OBJECT
arg	16:39	16:43	7	intf
water	16:39	0:0	8	intf
arg	16:46	16:50	5	NULL
water	16:46	0:0	6	NULL
arg	16:52	16:64	5	NETSYNC_PORT
water	16:52	0:0	6	NETSYNC_PORT
water	16:65	0:0	4	;
water	17:4	0:0	4	}
if	18:4	21:4	2	(fd == - 1)
cond	18:8	18:15	3	fd == - 1
water	18:8	0:0	4	fd
op	18:11	0:0	4	==
op	18:14	0:0	4	-
water	18:15	0:0	4	1
stmts	18:18	21:4	3	
water	18:18	0:0	4	{
call	19:8	19:46	4	msg_Err
arg	19:16	19:20	5	intf
water	19:16	0:0	6	intf
arg	19:22	19:46	5	"Netsync socket failure"
water	19:22	0:0	6	"Netsync socket failure"
water	19:47	0:0	4	;
return	20:8	20:27	4	VLC_EGENERIC
water	20:15	0:0	5	VLC_EGENERIC
water	21:4	0:0	4	}
water	22:4	0:0	2	intf
op	22:8	0:0	2	->
water	22:10	0:0	2	p_sys
op	22:16	0:0	2	=
water	22:18	0:0	2	sys
op	22:22	0:0	2	=
call	22:24	22:43	2	malloc
arg	22:31	22:43	3	sizeof(*sys)
op	22:31	0:0	4	sizeof
water	22:37	0:0	4	(
op	22:38	0:0	4	*
water	22:39	0:0	4	sys
water	22:42	0:0	4	)
water	22:44	0:0	2	;
if	23:4	26:4	2	(! sys)
cond	23:8	23:9	3	! sys
op	23:8	0:0	4	!
water	23:9	0:0	4	sys
stmts	23:14	26:4	3	
water	23:14	0:0	4	{
call	24:8	24:20	4	net_Close
arg	24:18	24:20	5	fd
water	24:18	0:0	6	fd
water	24:21	0:0	4	;
return	25:8	25:25	4	VLC_ENOMEM
water	25:15	0:0	5	VLC_ENOMEM
water	26:4	0:0	4	}
water	27:4	0:0	2	sys
op	27:7	0:0	2	->
water	27:9	0:0	2	fd
op	27:12	0:0	2	=
water	27:14	0:0	2	fd
water	27:16	0:0	2	;
water	28:4	0:0	2	sys
op	28:7	0:0	2	->
water	28:9	0:0	2	is_master
op	28:19	0:0	2	=
call	28:21	28:59	2	var_InheritBool
arg	28:37	28:41	3	intf
water	28:37	0:0	4	intf
arg	28:43	28:59	3	"netsync-master"
water	28:43	0:0	4	"netsync-master"
water	28:60	0:0	2	;
water	29:4	0:0	2	sys
op	29:7	0:0	2	->
water	29:9	0:0	2	timeout
op	29:17	0:0	2	=
call	29:19	29:61	2	var_InheritInteger
arg	29:38	29:42	3	intf
water	29:38	0:0	4	intf
arg	29:44	29:61	3	"netsync-timeout"
water	29:44	0:0	4	"netsync-timeout"
water	29:62	0:0	2	;
if	30:4	31:26	2	(sys -> timeout < 500)
cond	30:8	30:23	3	sys -> timeout < 500
water	30:8	0:0	4	sys
op	30:11	0:0	4	->
water	30:13	0:0	4	timeout
op	30:21	0:0	4	<
water	30:23	0:0	4	500
stmts	31:8	31:26	3	
water	31:8	0:0	4	sys
op	31:11	0:0	4	->
water	31:13	0:0	4	timeout
op	31:21	0:0	4	=
water	31:23	0:0	4	500
water	31:26	0:0	4	;
water	32:4	0:0	2	sys
op	32:7	0:0	2	->
water	32:9	0:0	2	playlist
op	32:18	0:0	2	=
call	32:20	32:31	2	pl_Get
arg	32:27	32:31	3	intf
water	32:27	0:0	4	intf
water	32:32	0:0	2	;
water	33:4	0:0	2	sys
op	33:7	0:0	2	->
water	33:9	0:0	2	input
op	33:15	0:0	2	=
water	33:17	0:0	2	NULL
water	33:21	0:0	2	;
call	34:4	34:71	2	var_AddCallback
arg	34:20	34:33	3	sys->playlist
water	34:20	0:0	4	sys
op	34:23	0:0	4	->
water	34:25	0:0	4	playlist
arg	34:35	34:50	3	"input-current"
water	34:35	0:0	4	"input-current"
arg	34:52	34:65	3	PlaylistEvent
water	34:52	0:0	4	PlaylistEvent
arg	34:67	34:71	3	intf
water	34:67	0:0	4	intf
water	34:72	0:0	2	;
return	35:4	35:22	2	VLC_SUCCESS
water	35:11	0:0	3	VLC_SUCCESS
