func	2:0	58:0	0	static int	Open
params	2:15	0:0	1	
param	2:16	2:33	2	vlc_object_t *	obj
stmnts	0:0	57:22	1	
decl	4:4	4:50	2	audio_output_t	*p_aout
op	4:27	0:0	2	=
water	4:29	0:0	2	(
water	4:30	0:0	2	audio_output_t
op	4:45	0:0	2	*
water	4:46	0:0	2	)
water	4:47	0:0	2	obj
decl	5:4	5:47	2	aout_sys_t	*p_sys
op	5:22	0:0	2	=
call	5:24	5:46	3	malloc
arg	5:31	5:46	4	sizeof(*p_sys)
op	5:31	0:0	5	sizeof
water	5:38	0:0	5	(
op	5:39	0:0	5	*
water	5:40	0:0	5	p_sys
water	5:45	0:0	5	)
if	6:4	7:25	2	(unlikely (p_sys == NULL ))
cond	6:8	6:30	3	unlikely (p_sys == NULL )
call	6:8	6:30	4	unlikely
arg	6:17	6:30	5	p_sys==NULL
water	6:17	0:0	6	p_sys
op	6:23	0:0	6	==
water	6:26	0:0	6	NULL
stmts	7:8	7:25	3	
return	7:8	7:25	4	VLC_ENOMEM
water	7:15	0:0	5	VLC_ENOMEM
decl	8:4	8:24	2	OSStatus	err
op	8:17	0:0	2	=
water	8:19	0:0	2	noErr
call	9:4	9:43	2	vlc_mutex_init
arg	9:19	9:43	3	&p_sys->device_list_lock
op	9:19	0:0	4	&
water	9:20	0:0	4	p_sys
op	9:25	0:0	4	->
water	9:27	0:0	4	device_list_lock
water	9:44	0:0	2	;
call	10:4	10:47	2	vlc_mutex_init
arg	10:19	10:47	3	&p_sys->selected_device_lock
op	10:19	0:0	4	&
water	10:20	0:0	4	p_sys
op	10:25	0:0	4	->
water	10:27	0:0	4	selected_device_lock
water	10:48	0:0	2	;
call	11:4	11:31	2	vlc_mutex_init
arg	11:19	11:31	3	&p_sys->lock
op	11:19	0:0	4	&
water	11:20	0:0	4	p_sys
op	11:25	0:0	4	->
water	11:27	0:0	4	lock
water	11:32	0:0	2	;
call	12:4	12:30	2	vlc_cond_init
arg	12:18	12:30	3	&p_sys->cond
op	12:18	0:0	4	&
water	12:19	0:0	4	p_sys
op	12:24	0:0	4	->
water	12:26	0:0	4	cond
water	12:31	0:0	2	;
water	13:4	0:0	2	p_sys
op	13:9	0:0	2	->
water	13:11	0:0	2	b_digital
op	13:21	0:0	2	=
water	13:23	0:0	2	false
water	13:28	0:0	2	;
water	14:4	0:0	2	p_sys
op	14:9	0:0	2	->
water	14:11	0:0	2	b_ignore_streams_changed_callback
op	14:45	0:0	2	=
water	14:47	0:0	2	false
water	14:52	0:0	2	;
water	15:4	0:0	2	p_sys
op	15:9	0:0	2	->
water	15:11	0:0	2	b_selected_dev_is_default
op	15:37	0:0	2	=
water	15:39	0:0	2	false
water	15:44	0:0	2	;
water	16:4	0:0	2	p_sys
op	16:9	0:0	2	->
water	16:11	0:0	2	b_paused
op	16:20	0:0	2	=
water	16:22	0:0	2	false
water	16:27	0:0	2	;
call	17:4	17:61	2	memset
arg	17:11	17:30	3	&p_sys->sfmt_revert
op	17:11	0:0	4	&
water	17:12	0:0	4	p_sys
op	17:17	0:0	4	->
water	17:19	0:0	4	sfmt_revert
arg	17:32	17:33	3	0
water	17:32	0:0	4	0
arg	17:35	17:61	3	sizeof(p_sys->sfmt_revert)
op	17:35	0:0	4	sizeof
water	17:41	0:0	4	(
water	17:42	0:0	4	p_sys
op	17:47	0:0	4	->
water	17:49	0:0	4	sfmt_revert
water	17:60	0:0	4	)
water	17:62	0:0	2	;
water	18:4	0:0	2	p_sys
op	18:9	0:0	2	->
water	18:11	0:0	2	i_stream_id
op	18:23	0:0	2	=
water	18:25	0:0	2	0
water	18:26	0:0	2	;
water	19:4	0:0	2	p_aout
op	19:10	0:0	2	->
water	19:12	0:0	2	sys
op	19:16	0:0	2	=
water	19:18	0:0	2	p_sys
water	19:23	0:0	2	;
water	20:4	0:0	2	p_aout
op	20:10	0:0	2	->
water	20:12	0:0	2	start
op	20:18	0:0	2	=
water	20:20	0:0	2	Start
water	20:25	0:0	2	;
water	21:4	0:0	2	p_aout
op	21:10	0:0	2	->
water	21:12	0:0	2	stop
op	21:17	0:0	2	=
water	21:19	0:0	2	Stop
water	21:23	0:0	2	;
water	22:4	0:0	2	p_aout
op	22:10	0:0	2	->
water	22:12	0:0	2	volume_set
op	22:23	0:0	2	=
water	22:25	0:0	2	VolumeSet
water	22:34	0:0	2	;
water	23:4	0:0	2	p_aout
op	23:10	0:0	2	->
water	23:12	0:0	2	mute_set
op	23:21	0:0	2	=
water	23:23	0:0	2	MuteSet
water	23:30	0:0	2	;
water	24:4	0:0	2	p_aout
op	24:10	0:0	2	->
water	24:12	0:0	2	device_select
op	24:26	0:0	2	=
water	24:28	0:0	2	SwitchAudioDevice
water	24:45	0:0	2	;
water	25:4	0:0	2	p_sys
op	25:9	0:0	2	->
water	25:11	0:0	2	device_list
op	25:23	0:0	2	=
call	25:25	25:73	2	CFArrayCreate
arg	25:39	25:58	3	kCFAllocatorDefault
water	25:39	0:0	4	kCFAllocatorDefault
arg	25:60	25:64	3	NULL
water	25:60	0:0	4	NULL
arg	25:66	25:67	3	0
water	25:66	0:0	4	0
arg	25:69	25:73	3	NULL
water	25:69	0:0	4	NULL
water	25:74	0:0	2	;
decl	32:4	32:34	2	CFRunLoopRef	theRunLoop
op	32:28	0:0	2	=
water	32:30	0:0	2	NULL
decl	33:4	33:142	2	AudioObjectPropertyAddress	property
op	33:40	0:0	2	=
water	33:42	0:0	2	{
water	33:44	0:0	2	kAudioHardwarePropertyRunLoop
water	33:73	0:0	2	,
water	33:75	0:0	2	kAudioObjectPropertyScopeGlobal
water	33:106	0:0	2	,
water	33:107	0:0	2	kAudioObjectPropertyElementMaster
water	33:141	0:0	2	}
water	34:4	0:0	2	err
op	34:8	0:0	2	=
call	34:10	34:116	2	AudioObjectSetPropertyData
arg	34:37	34:61	3	kAudioObjectSystemObject
water	34:37	0:0	4	kAudioObjectSystemObject
arg	34:63	34:72	3	&property
op	34:63	0:0	4	&
water	34:64	0:0	4	property
arg	34:74	34:75	3	0
water	34:74	0:0	4	0
arg	34:77	34:81	3	NULL
water	34:77	0:0	4	NULL
arg	34:83	34:103	3	sizeof(CFRunLoopRef)
op	34:83	0:0	4	sizeof
water	34:89	0:0	4	(
water	34:90	0:0	4	CFRunLoopRef
water	34:102	0:0	4	)
arg	34:105	34:116	3	&theRunLoop
op	34:105	0:0	4	&
water	34:106	0:0	4	theRunLoop
water	34:117	0:0	2	;
if	35:4	37:4	2	(err != noErr)
cond	35:8	35:15	3	err != noErr
water	35:8	0:0	4	err
op	35:12	0:0	4	!=
water	35:15	0:0	4	noErr
stmts	35:22	37:4	3	
water	35:22	0:0	4	{
call	36:8	36:83	4	msg_Err
arg	36:16	36:22	5	p_aout
water	36:16	0:0	6	p_aout
arg	36:24	36:69	5	"failed to set the run loop property [%4.4s]"
water	36:24	0:0	6	"failed to set the run loop property [%4.4s]"
arg	36:71	36:83	5	(char*)&err
water	36:71	0:0	6	(
water	36:72	0:0	6	char
op	36:77	0:0	6	*
water	36:78	0:0	6	)
op	36:79	0:0	6	&
water	36:80	0:0	6	err
water	36:84	0:0	4	;
water	37:4	0:0	4	}
decl	39:4	39:154	2	AudioObjectPropertyAddress	audioDevicesAddress
op	39:51	0:0	2	=
water	39:53	0:0	2	{
water	39:55	0:0	2	kAudioHardwarePropertyDevices
water	39:84	0:0	2	,
water	39:86	0:0	2	kAudioObjectPropertyScopeGlobal
water	39:117	0:0	2	,
water	39:119	0:0	2	kAudioObjectPropertyElementMaster
water	39:153	0:0	2	}
water	40:4	0:0	2	err
op	40:8	0:0	2	=
call	40:10	40:120	2	AudioObjectAddPropertyListener
arg	40:41	40:65	3	kAudioObjectSystemObject
water	40:41	0:0	4	kAudioObjectSystemObject
arg	40:67	40:87	3	&audioDevicesAddress
op	40:67	0:0	4	&
water	40:68	0:0	4	audioDevicesAddress
arg	40:89	40:104	3	DevicesListener
water	40:89	0:0	4	DevicesListener
arg	40:106	40:120	3	(void*)p_aout
water	40:106	0:0	4	(
water	40:107	0:0	4	void
op	40:112	0:0	4	*
water	40:113	0:0	4	)
water	40:114	0:0	4	p_aout
water	40:121	0:0	2	;
if	41:4	42:102	2	(err != noErr)
cond	41:8	41:15	3	err != noErr
water	41:8	0:0	4	err
op	41:12	0:0	4	!=
water	41:15	0:0	4	noErr
stmts	42:8	42:102	3	
call	42:8	42:101	4	msg_Err
arg	42:16	42:22	5	p_aout
water	42:16	0:0	6	p_aout
arg	42:24	42:87	5	"failed to add listener for audio device configuration [%4.4s]"
water	42:24	0:0	6	"failed to add listener for audio device configuration [%4.4s]"
arg	42:89	42:101	5	(char*)&err
water	42:89	0:0	6	(
water	42:90	0:0	6	char
op	42:95	0:0	6	*
water	42:96	0:0	6	)
op	42:97	0:0	6	&
water	42:98	0:0	6	err
water	42:102	0:0	4	;
decl	44:4	44:167	2	AudioObjectPropertyAddress	defaultDeviceAddress
op	44:52	0:0	2	=
water	44:54	0:0	2	{
water	44:56	0:0	2	kAudioHardwarePropertyDefaultOutputDevice
water	44:97	0:0	2	,
water	44:99	0:0	2	kAudioObjectPropertyScopeGlobal
water	44:130	0:0	2	,
water	44:132	0:0	2	kAudioObjectPropertyElementMaster
water	44:166	0:0	2	}
water	45:4	0:0	2	err
op	45:8	0:0	2	=
call	45:10	45:134	2	AudioObjectAddPropertyListener
arg	45:41	45:65	3	kAudioObjectSystemObject
water	45:41	0:0	4	kAudioObjectSystemObject
arg	45:67	45:88	3	&defaultDeviceAddress
op	45:67	0:0	4	&
water	45:68	0:0	4	defaultDeviceAddress
arg	45:90	45:118	3	DefaultDeviceChangedListener
water	45:90	0:0	4	DefaultDeviceChangedListener
arg	45:120	45:134	3	(void*)p_aout
water	45:120	0:0	4	(
water	45:121	0:0	4	void
op	45:126	0:0	4	*
water	45:127	0:0	4	)
water	45:128	0:0	4	p_aout
water	45:135	0:0	2	;
if	46:4	47:96	2	(err != noErr)
cond	46:8	46:15	3	err != noErr
water	46:8	0:0	4	err
op	46:12	0:0	4	!=
water	46:15	0:0	4	noErr
stmts	47:8	47:96	3	
call	47:8	47:95	4	msg_Err
arg	47:16	47:22	5	p_aout
water	47:16	0:0	6	p_aout
arg	47:24	47:81	5	"failed to add listener for default audio device [%4.4s]"
water	47:24	0:0	6	"failed to add listener for default audio device [%4.4s]"
arg	47:83	47:95	5	(char*)&err
water	47:83	0:0	6	(
water	47:84	0:0	6	char
op	47:89	0:0	6	*
water	47:90	0:0	6	)
op	47:91	0:0	6	&
water	47:92	0:0	6	err
water	47:96	0:0	4	;
call	48:4	48:28	2	RebuildDeviceList
arg	48:22	48:28	3	p_aout
water	48:22	0:0	4	p_aout
water	48:29	0:0	2	;
water	50:4	0:0	2	p_sys
op	50:9	0:0	2	->
water	50:11	0:0	2	f_volume
op	50:20	0:0	2	=
call	50:22	50:63	2	var_InheritInteger
arg	50:41	50:47	3	p_aout
water	50:41	0:0	4	p_aout
arg	50:49	50:63	3	"auhal-volume"
water	50:49	0:0	4	"auhal-volume"
op	50:65	0:0	2	/
water	50:67	0:0	2	(
water	50:68	0:0	2	float
water	50:73	0:0	2	)
water	50:74	0:0	2	AOUT_VOLUME_DEFAULT
water	50:93	0:0	2	;
call	51:4	51:45	2	aout_VolumeReport
arg	51:22	51:28	3	p_aout
water	51:22	0:0	4	p_aout
arg	51:30	51:45	3	p_sys->f_volume
water	51:30	0:0	4	p_sys
op	51:35	0:0	4	->
water	51:37	0:0	4	f_volume
water	51:46	0:0	2	;
water	52:4	0:0	2	p_sys
op	52:9	0:0	2	->
water	52:11	0:0	2	b_mute
op	52:18	0:0	2	=
call	52:20	52:50	2	var_InheritBool
arg	52:36	52:42	3	p_aout
water	52:36	0:0	4	p_aout
arg	52:44	52:50	3	"mute"
water	52:44	0:0	4	"mute"
water	52:51	0:0	2	;
call	53:4	53:41	2	aout_MuteReport
arg	53:20	53:26	3	p_aout
water	53:20	0:0	4	p_aout
arg	53:28	53:41	3	p_sys->b_mute
water	53:28	0:0	4	p_sys
op	53:33	0:0	4	->
water	53:35	0:0	4	b_mute
water	53:42	0:0	2	;
decl	54:4	54:76	2	char	*psz_audio_device
op	54:27	0:0	2	=
call	54:29	54:75	3	var_InheritString
arg	54:47	54:53	4	p_aout
water	54:47	0:0	5	p_aout
arg	54:55	54:75	4	"auhal-audio-device"
water	54:55	0:0	5	"auhal-audio-device"
call	55:4	55:46	2	SwitchAudioDevice
arg	55:22	55:28	3	p_aout
water	55:22	0:0	4	p_aout
arg	55:30	55:46	3	psz_audio_device
water	55:30	0:0	4	psz_audio_device
water	55:47	0:0	2	;
call	56:4	56:25	2	free
arg	56:9	56:25	3	psz_audio_device
water	56:9	0:0	4	psz_audio_device
water	56:26	0:0	2	;
return	57:4	57:22	2	VLC_SUCCESS
water	57:11	0:0	3	VLC_SUCCESS
