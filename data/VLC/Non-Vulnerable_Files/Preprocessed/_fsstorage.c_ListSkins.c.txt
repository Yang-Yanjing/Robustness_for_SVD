func	2:0	60:0	0	static int	ListSkins
params	2:20	0:0	1	
param	2:22	2:48	2	addons_finder_t *	p_finder
stmnts	0:0	59:22	1	
decl	4:4	4:53	2	char	*psz_dir
op	4:18	0:0	2	=
call	4:20	4:52	3	getAddonInstallDir
arg	4:40	4:52	4	ADDON_SKIN2
water	4:40	0:0	5	ADDON_SKIN2
if	5:4	6:27	2	(! psz_dir)
cond	5:9	5:10	3	! psz_dir
op	5:9	0:0	4	!
water	5:10	0:0	4	psz_dir
stmts	6:8	6:27	3	
return	6:8	6:27	4	VLC_EGENERIC
water	6:15	0:0	5	VLC_EGENERIC
decl	7:4	7:27	2	char	**ppsz_list
op	7:21	0:0	2	=
water	7:23	0:0	2	NULL
decl	8:4	8:75	2	int	i_count
op	8:16	0:0	2	=
call	8:18	8:74	3	vlc_scandir
arg	8:31	8:38	4	psz_dir
water	8:31	0:0	5	psz_dir
arg	8:40	8:50	4	&ppsz_list
op	8:40	0:0	5	&
water	8:41	0:0	5	ppsz_list
arg	8:52	8:67	4	ListSkin_filter
water	8:52	0:0	5	ListSkin_filter
arg	8:69	8:74	4	NULL
water	8:69	0:0	5	NULL
for	9:4	56:4	2	( int i = 0 ;i < i_count;i ++)
forinit	0:0	9:17	3	 int i = 0 ;
decl	9:10	9:17	4	int	i
op	9:15	0:0	4	=
water	9:16	0:0	4	0
cond	9:19	9:22	3	i < i_count
water	9:19	0:0	4	i
op	9:20	0:0	4	<
water	9:22	0:0	4	i_count
forexpr	9:31	9:32	3	i ++
water	9:31	0:0	4	i
op	9:32	0:0	4	++
stmts	10:4	56:4	3	
water	10:4	0:0	4	{
decl	11:8	11:37	4	char	*psz_file
op	11:23	0:0	4	=
water	11:25	0:0	4	ppsz_list
op	11:34	0:0	4	[
water	11:35	0:0	4	i
op	11:36	0:0	4	]
if	12:8	13:17	4	(! psz_file)
cond	12:12	12:13	5	! psz_file
op	12:12	0:0	6	!
water	12:13	0:0	6	psz_file
stmts	13:12	13:17	5	
break	13:12	13:17	6	
if	14:8	15:21	4	(FileBelongsToManagedAddon (p_finder ,ADDON_SKIN2 ,psz_file ))
cond	14:13	14:72	5	FileBelongsToManagedAddon (p_finder ,ADDON_SKIN2 ,psz_file )
call	14:13	14:72	6	FileBelongsToManagedAddon
arg	14:40	14:48	7	p_finder
water	14:40	0:0	8	p_finder
arg	14:50	14:61	7	ADDON_SKIN2
water	14:50	0:0	8	ADDON_SKIN2
arg	14:63	14:72	7	psz_file
water	14:63	0:0	8	psz_file
stmts	15:13	15:21	5	
continue	15:13	15:21	6	
decl	16:8	16:21	4	char	*psz_uri
if	17:8	54:8	4	(asprintf (& psz_uri ,"unzip://%s/%s!/theme.xml" ,psz_dir ,psz_file ) >= 0)
cond	17:12	17:83	5	asprintf (& psz_uri ,"unzip://%s/%s!/theme.xml" ,psz_dir ,psz_file ) >= 0
call	17:12	17:78	6	asprintf
arg	17:22	17:30	7	&psz_uri
op	17:22	0:0	8	&
water	17:23	0:0	8	psz_uri
arg	17:32	17:58	7	"unzip://%s/%s!/theme.xml"
water	17:32	0:0	8	"unzip://%s/%s!/theme.xml"
arg	17:60	17:67	7	psz_dir
water	17:60	0:0	8	psz_dir
arg	17:69	17:78	7	psz_file
water	17:69	0:0	8	psz_file
op	17:80	0:0	6	>=
water	17:83	0:0	6	0
stmts	18:8	54:8	5	
water	18:8	0:0	6	{
decl	19:12	19:21	6	int	i_ret
decl	20:12	20:33	6	char	*psz_name
op	20:27	0:0	6	=
water	20:29	0:0	6	NULL
decl	21:12	21:35	6	char	*psz_source
op	21:29	0:0	6	=
water	21:31	0:0	6	NULL
decl	22:12	22:67	6	stream_t	*p_stream
op	22:31	0:0	6	=
call	22:33	22:66	7	stream_UrlNew
arg	22:48	22:56	8	p_finder
water	22:48	0:0	9	p_finder
arg	22:58	22:66	8	psz_uri
water	22:58	0:0	9	psz_uri
call	23:12	23:26	6	free
arg	23:18	23:26	7	psz_uri
water	23:18	0:0	8	psz_uri
water	23:27	0:0	6	;
if	24:12	27:12	6	(! p_stream)
cond	24:17	24:18	7	! p_stream
op	24:17	0:0	8	!
water	24:18	0:0	8	p_stream
stmts	25:12	27:12	7	
water	25:12	0:0	8	{
water	26:16	0:0	8	i_ret
op	26:22	0:0	8	=
water	26:24	0:0	8	VLC_EGENERIC
water	26:36	0:0	8	;
water	27:12	0:0	8	}
else	28:12	37:12	6
stmts	29:12	37:12	7	
water	29:12	0:0	8	{
water	30:16	0:0	8	i_ret
op	30:22	0:0	8	=
call	30:24	30:84	8	ParseSkins2Info
arg	30:41	30:49	9	p_finder
water	30:41	0:0	10	p_finder
arg	30:51	30:59	9	p_stream
water	30:51	0:0	10	p_stream
arg	30:61	30:70	9	&psz_name
op	30:61	0:0	10	&
water	30:62	0:0	10	psz_name
arg	30:72	30:84	9	&psz_source
op	30:72	0:0	10	&
water	30:73	0:0	10	psz_source
water	30:85	0:0	8	;
if	31:16	35:16	8	(i_ret != VLC_SUCCESS)
cond	31:21	31:30	9	i_ret != VLC_SUCCESS
water	31:21	0:0	10	i_ret
op	31:27	0:0	10	!=
water	31:30	0:0	10	VLC_SUCCESS
stmts	32:16	35:16	9	
water	32:16	0:0	10	{
call	33:20	33:35	10	free
arg	33:26	33:35	11	psz_name
water	33:26	0:0	12	psz_name
water	33:36	0:0	10	;
call	34:20	34:37	10	free
arg	34:26	34:37	11	psz_source
water	34:26	0:0	12	psz_source
water	34:38	0:0	10	;
water	35:16	0:0	10	}
call	36:16	36:40	8	stream_Delete
arg	36:31	36:40	9	p_stream
water	36:31	0:0	10	p_stream
water	36:41	0:0	8	;
water	37:12	0:0	8	}
decl	38:12	38:54	6	addon_entry_t	*p_entry
op	38:35	0:0	6	=
call	38:37	38:53	7	addon_entry_New
water	39:12	0:0	6	p_entry
op	39:19	0:0	6	->
water	39:21	0:0	6	e_type
op	39:28	0:0	6	=
water	39:30	0:0	6	ADDON_SKIN2
water	39:41	0:0	6	;
water	40:12	0:0	6	p_entry
op	40:19	0:0	6	->
water	40:21	0:0	6	e_state
op	40:29	0:0	6	=
water	40:31	0:0	6	ADDON_INSTALLED
water	40:46	0:0	6	;
if	41:12	46:12	6	(i_ret == VLC_SUCCESS)
cond	41:17	41:26	7	i_ret == VLC_SUCCESS
water	41:17	0:0	8	i_ret
op	41:23	0:0	8	==
water	41:26	0:0	8	VLC_SUCCESS
stmts	42:12	46:12	7	
water	42:12	0:0	8	{
water	43:16	0:0	8	p_entry
op	43:23	0:0	8	->
water	43:25	0:0	8	psz_name
op	43:34	0:0	8	=
water	43:36	0:0	8	psz_name
water	43:44	0:0	8	;
water	44:16	0:0	8	p_entry
op	44:23	0:0	8	->
water	44:25	0:0	8	psz_description
op	44:41	0:0	8	=
call	44:43	44:64	8	strdup
arg	44:50	44:64	9	"Skins2 theme"
water	44:50	0:0	10	"Skins2 theme"
water	44:65	0:0	8	;
water	45:16	0:0	8	p_entry
op	45:23	0:0	8	->
water	45:25	0:0	8	psz_source_uri
op	45:40	0:0	8	=
water	45:42	0:0	8	psz_source
water	45:52	0:0	8	;
water	46:12	0:0	8	}
else	47:12	52:12	6
stmts	48:12	52:12	7	
water	48:12	0:0	8	{
water	49:16	0:0	8	p_entry
op	49:23	0:0	8	->
water	49:25	0:0	8	e_flags
op	49:33	0:0	8	|=
water	49:36	0:0	8	ADDON_BROKEN
water	49:48	0:0	8	;
water	50:16	0:0	8	p_entry
op	50:23	0:0	8	->
water	50:25	0:0	8	psz_name
op	50:34	0:0	8	=
call	50:36	50:51	8	strdup
arg	50:43	50:51	9	psz_file
water	50:43	0:0	10	psz_file
water	50:52	0:0	8	;
water	51:16	0:0	8	p_entry
op	51:23	0:0	8	->
water	51:25	0:0	8	psz_description
op	51:41	0:0	8	=
call	51:43	51:64	8	strdup
arg	51:50	51:64	9	"Skins2 theme"
water	51:50	0:0	10	"Skins2 theme"
water	51:65	0:0	8	;
water	52:12	0:0	8	}
call	53:12	53:53	6	ARRAY_APPEND
arg	53:26	53:43	7	p_finder->entries
water	53:26	0:0	8	p_finder
op	53:34	0:0	8	->
water	53:36	0:0	8	entries
arg	53:45	53:53	7	p_entry
water	53:45	0:0	8	p_entry
water	53:54	0:0	6	;
water	54:8	0:0	6	}
call	55:8	55:23	4	free
arg	55:14	55:23	5	psz_file
water	55:14	0:0	6	psz_file
water	55:24	0:0	4	;
water	56:4	0:0	4	}
call	57:4	57:20	2	free
arg	57:10	57:20	3	ppsz_list
water	57:10	0:0	4	ppsz_list
water	57:21	0:0	2	;
call	58:4	58:18	2	free
arg	58:10	58:18	3	psz_dir
water	58:10	0:0	4	psz_dir
water	58:19	0:0	2	;
return	59:4	59:22	2	VLC_SUCCESS
water	59:11	0:0	3	VLC_SUCCESS
