func	2:0	39:0	0	static int	Create
params	2:17	0:0	1	
param	2:19	2:40	2	vlc_object_t *	p_this
stmnts	0:0	38:22	1	
decl	4:4	4:43	2	filter_t	*p_filter
op	4:23	0:0	2	=
water	4:25	0:0	2	(
water	4:26	0:0	2	filter_t
op	4:35	0:0	2	*
water	4:36	0:0	2	)
water	4:37	0:0	2	p_this
decl	5:4	5:23	2	filter_sys_t	*p_sys
decl	6:4	6:20	2	char	*psz_string
if	7:4	14:4	2	(p_filter -> fmt_in . video . i_chroma != VLC_CODEC_YUVA)
cond	7:8	7:43	3	p_filter -> fmt_in . video . i_chroma != VLC_CODEC_YUVA
water	7:8	0:0	4	p_filter
op	7:16	0:0	4	->
water	7:18	0:0	4	fmt_in
op	7:24	0:0	4	.
water	7:25	0:0	4	video
op	7:30	0:0	4	.
water	7:31	0:0	4	i_chroma
op	7:40	0:0	4	!=
water	7:43	0:0	4	VLC_CODEC_YUVA
stmts	8:4	14:4	3	
water	8:4	0:0	4	{
call	9:8	12:57	4	msg_Err
arg	9:17	9:25	5	p_filter
water	9:17	0:0	6	p_filter
arg	10:17	11:51	5	"Unsupported input chroma \"%4.4s\". ""Alphamask can only use \"YUVA\"."
water	10:17	0:0	6	"Unsupported input chroma \"%4.4s\". "
water	11:17	0:0	6	"Alphamask can only use \"YUVA\"."
arg	12:17	12:57	5	(char*)&p_filter->fmt_in.video.i_chroma
water	12:17	0:0	6	(
water	12:18	0:0	6	char
op	12:22	0:0	6	*
water	12:23	0:0	6	)
op	12:24	0:0	6	&
water	12:25	0:0	6	p_filter
op	12:33	0:0	6	->
water	12:35	0:0	6	fmt_in
op	12:41	0:0	6	.
water	12:42	0:0	6	video
op	12:47	0:0	6	.
water	12:48	0:0	6	i_chroma
water	12:58	0:0	4	;
return	13:8	13:27	4	VLC_EGENERIC
water	13:15	0:0	5	VLC_EGENERIC
water	14:4	0:0	4	}
water	16:4	0:0	2	p_filter
op	16:12	0:0	2	->
water	16:14	0:0	2	p_sys
op	16:20	0:0	2	=
call	16:22	16:53	2	malloc
arg	16:30	16:53	3	sizeof(filter_sys_t)
op	16:30	0:0	4	sizeof
water	16:36	0:0	4	(
water	16:38	0:0	4	filter_sys_t
water	16:51	0:0	4	)
water	16:54	0:0	2	;
if	17:4	18:25	2	(p_filter -> p_sys == NULL)
cond	17:8	17:27	3	p_filter -> p_sys == NULL
water	17:8	0:0	4	p_filter
op	17:16	0:0	4	->
water	17:18	0:0	4	p_sys
op	17:24	0:0	4	==
water	17:27	0:0	4	NULL
stmts	18:8	18:25	3	
return	18:8	18:25	4	VLC_ENOMEM
water	18:15	0:0	5	VLC_ENOMEM
water	19:4	0:0	2	p_sys
op	19:10	0:0	2	=
water	19:12	0:0	2	p_filter
op	19:20	0:0	2	->
water	19:22	0:0	2	p_sys
water	19:27	0:0	2	;
call	20:4	21:39	2	config_ChainParse
arg	20:23	20:31	3	p_filter
water	20:23	0:0	4	p_filter
arg	20:33	20:43	3	CFG_PREFIX
water	20:33	0:0	4	CFG_PREFIX
arg	20:45	20:64	3	ppsz_filter_options
water	20:45	0:0	4	ppsz_filter_options
arg	21:23	21:39	3	p_filter->p_cfg
water	21:23	0:0	4	p_filter
op	21:31	0:0	4	->
water	21:33	0:0	4	p_cfg
water	21:40	0:0	2	;
water	22:4	0:0	2	psz_string
op	22:15	0:0	2	=
call	23:8	23:64	2	var_CreateGetStringCommand
arg	23:36	23:44	3	p_filter
water	23:36	0:0	4	p_filter
arg	23:46	23:64	3	CFG_PREFIX"mask"
water	23:46	0:0	4	CFG_PREFIX
water	23:57	0:0	4	"mask"
water	23:65	0:0	2	;
if	24:4	30:4	2	(psz_string && * psz_string)
cond	24:8	24:23	3	psz_string && * psz_string
water	24:8	0:0	4	psz_string
op	24:19	0:0	4	&&
op	24:22	0:0	4	*
water	24:23	0:0	4	psz_string
stmts	25:4	30:4	3	
water	25:4	0:0	4	{
call	26:8	26:39	4	LoadMask
arg	26:18	26:26	5	p_filter
water	26:18	0:0	6	p_filter
arg	26:28	26:39	5	psz_string
water	26:28	0:0	6	psz_string
water	26:40	0:0	4	;
if	27:8	29:33	4	(! p_sys -> p_mask)
cond	27:12	27:20	5	! p_sys -> p_mask
op	27:12	0:0	6	!
water	27:13	0:0	6	p_sys
op	27:18	0:0	6	->
water	27:20	0:0	6	p_mask
stmts	28:12	29:33	5	
call	28:12	29:32	6	msg_Err
arg	28:21	28:29	7	p_filter
water	28:21	0:0	8	p_filter
arg	28:31	28:63	7	"Error while loading mask (%s)."
water	28:31	0:0	8	"Error while loading mask (%s)."
arg	29:21	29:32	7	psz_string
water	29:21	0:0	8	psz_string
water	29:33	0:0	6	;
water	30:4	0:0	4	}
else	31:4	32:27	2
stmts	32:7	32:27	3	
water	32:7	0:0	4	p_sys
op	32:12	0:0	4	->
water	32:14	0:0	4	p_mask
op	32:21	0:0	4	=
water	32:23	0:0	4	NULL
water	32:27	0:0	4	;
call	33:4	33:21	2	free
arg	33:10	33:21	3	psz_string
water	33:10	0:0	4	psz_string
water	33:22	0:0	2	;
call	34:4	34:38	2	vlc_mutex_init
arg	34:20	34:38	3	&p_sys->mask_lock
op	34:20	0:0	4	&
water	34:21	0:0	4	p_sys
op	34:26	0:0	4	->
water	34:28	0:0	4	mask_lock
water	34:39	0:0	2	;
call	35:4	36:30	2	var_AddCallback
arg	35:21	35:29	3	p_filter
water	35:21	0:0	4	p_filter
arg	35:31	35:48	3	CFG_PREFIX"mask"
water	35:31	0:0	4	CFG_PREFIX
water	35:42	0:0	4	"mask"
arg	35:50	35:62	3	MaskCallback
water	35:50	0:0	4	MaskCallback
arg	36:21	36:30	3	p_filter
water	36:21	0:0	4	p_filter
water	36:31	0:0	2	;
water	37:4	0:0	2	p_filter
op	37:12	0:0	2	->
water	37:14	0:0	2	pf_video_filter
op	37:30	0:0	2	=
water	37:32	0:0	2	Filter
water	37:38	0:0	2	;
return	38:4	38:22	2	VLC_SUCCESS
water	38:11	0:0	3	VLC_SUCCESS
