decl	1:7	1:16	0	bool	done
func	2:0	20:0	0	static void	callback
params	2:20	0:0	1	
param	2:21	2:45	2	const libvlc_event_t *	ev
param	2:47	2:58	2	void *	param
stmnts	0:0	19:31	1	
decl	4:4	4:22	2	float	new_position
water	5:4	0:0	2	(
water	5:5	0:0	2	void
water	5:9	0:0	2	)
water	5:10	0:0	2	param
water	5:15	0:0	2	;
call	6:4	6:28	2	pthread_mutex_lock
arg	6:23	6:28	3	&lock
op	6:23	0:0	4	&
water	6:24	0:0	4	lock
water	6:29	0:0	2	;
switch	7:4	18:4	2	(ev -> type)
cond	7:12	7:16	3	ev -> type
water	7:12	0:0	4	ev
op	7:14	0:0	4	->
water	7:16	0:0	4	type
stmts	7:22	18:4	3	
water	7:22	0:0	4	{
label	8:4	8:42	4	case libvlc_MediaPlayerPositionChanged :
water	9:8	0:0	4	new_position
op	9:21	0:0	4	=
water	9:23	0:0	4	ev
op	9:25	0:0	4	->
water	9:27	0:0	4	u
op	9:28	0:0	4	.
water	9:29	0:0	4	media_player_position_changed
op	9:58	0:0	4	.
water	9:59	0:0	4	new_position
water	9:71	0:0	4	;
if	10:8	11:17	4	(new_position < VLC_THUMBNAIL_POSITION * . 9)
cond	10:12	10:53	5	new_position < VLC_THUMBNAIL_POSITION * . 9
water	10:12	0:0	6	new_position
op	10:25	0:0	6	<
water	10:27	0:0	6	VLC_THUMBNAIL_POSITION
op	10:50	0:0	6	*
op	10:52	0:0	6	.
water	10:53	0:0	6	9
stmts	11:12	11:17	5	
break	11:12	11:17	6	
label	12:4	12:40	4	case libvlc_MediaPlayerSnapshotTaken :
water	13:8	0:0	4	done
op	13:13	0:0	4	=
water	13:15	0:0	4	true
water	13:19	0:0	4	;
call	14:8	14:33	4	pthread_cond_signal
arg	14:28	14:33	5	&wait
op	14:28	0:0	6	&
water	14:29	0:0	6	wait
water	14:34	0:0	4	;
break	15:8	15:13	4	
label	16:4	16:11	4	default :
call	17:8	17:16	4	assert
arg	17:15	17:16	5	0
water	17:15	0:0	6	0
water	17:17	0:0	4	;
water	18:4	0:0	4	}
call	19:4	19:30	2	pthread_mutex_unlock
arg	19:25	19:30	3	&lock
op	19:25	0:0	4	&
water	19:26	0:0	4	lock
water	19:31	0:0	2	;
