func	2:0	43:0	0	static char *	relative_URI
params	2:25	0:0	1	
param	2:26	2:45	2	const char *	psz_url
param	2:47	2:67	2	const char *	psz_path
stmnts	0:0	42:14	1	
decl	4:4	4:20	2	char	*ret
op	4:14	0:0	2	=
water	4:16	0:0	2	NULL
decl	5:4	5:19	2	const char	*fmt
call	6:4	6:46	2	assert
arg	6:11	6:46	3	psz_url!=NULL&&psz_path!=NULL
water	6:11	0:0	4	psz_url
op	6:19	0:0	4	!=
water	6:22	0:0	4	NULL
op	6:27	0:0	4	&&
water	6:30	0:0	4	psz_path
op	6:39	0:0	4	!=
water	6:42	0:0	4	NULL
water	6:47	0:0	2	;
if	8:4	9:19	2	(strncmp (psz_path ,"http" ,4 ) == 0)
cond	8:8	8:40	3	strncmp (psz_path ,"http" ,4 ) == 0
call	8:8	8:35	4	strncmp
arg	8:16	8:24	5	psz_path
water	8:16	0:0	6	psz_path
arg	8:26	8:32	5	"http"
water	8:26	0:0	6	"http"
arg	8:34	8:35	5	4
water	8:34	0:0	6	4
op	8:37	0:0	4	==
water	8:40	0:0	4	0
stmts	9:8	9:19	3	
return	9:8	9:19	4	NULL
water	9:15	0:0	5	NULL
decl	10:4	10:33	2	size_t	len
op	10:15	0:0	2	=
call	10:17	10:32	3	strlen
arg	10:24	10:32	4	psz_path
water	10:24	0:0	5	psz_path
decl	11:4	11:35	2	char	*new_url
op	11:18	0:0	2	=
call	11:20	11:34	3	strdup
arg	11:27	11:34	4	psz_url
water	11:27	0:0	5	psz_url
if	12:4	13:19	2	(unlikely (! new_url ))
cond	12:8	12:25	3	unlikely (! new_url )
call	12:8	12:25	4	unlikely
arg	12:17	12:25	5	!new_url
op	12:17	0:0	6	!
water	12:18	0:0	6	new_url
stmts	13:8	13:19	3	
return	13:8	13:19	4	NULL
water	13:15	0:0	5	NULL
if	14:4	23:4	2	(psz_path [ 0 ] == '/')
cond	14:8	14:23	3	psz_path [ 0 ] == '/'
water	14:8	0:0	4	psz_path
op	14:16	0:0	4	[
water	14:17	0:0	4	0
op	14:18	0:0	4	]
op	14:20	0:0	4	==
water	14:23	0:0	4	'/'
stmts	15:4	23:4	3	
water	15:4	0:0	4	{
decl	18:8	18:46	4	char	*slash
op	18:20	0:0	4	=
call	18:22	18:45	5	strchr
arg	18:29	18:40	6	&new_url[8]
op	18:29	0:0	7	&
water	18:30	0:0	7	new_url
op	18:37	0:0	7	[
water	18:38	0:0	7	8
op	18:39	0:0	7	]
arg	18:42	18:45	6	'/'
water	18:42	0:0	7	'/'
if	19:8	20:20	4	(unlikely (slash == NULL ))
cond	19:12	19:34	5	unlikely (slash == NULL )
call	19:12	19:34	6	unlikely
arg	19:21	19:34	7	slash==NULL
water	19:21	0:0	8	slash
op	19:27	0:0	8	==
water	19:30	0:0	8	NULL
stmts	20:12	20:20	5	
goto	20:12	20:20	6	end
water	20:17	0:0	7	end
op	21:8	0:0	4	*
water	21:9	0:0	4	slash
op	21:15	0:0	4	=
water	21:17	0:0	4	'\0'
water	21:21	0:0	4	;
water	22:8	0:0	4	fmt
op	22:12	0:0	4	=
water	22:14	0:0	4	"%s%s"
water	22:20	0:0	4	;
water	23:4	0:0	4	}
else	23:6	37:4	2
stmts	23:11	37:4	3	
water	23:11	0:0	4	{
decl	24:8	24:22	4	int	levels
op	24:19	0:0	4	=
water	24:21	0:0	4	0
while	25:8	29:8	4	(len >= 3 && !strncmp (psz_path ,"../" ,3 ))
cond	25:14	25:53	5	len >= 3 && !strncmp (psz_path ,"../" ,3 )
water	25:14	0:0	6	len
op	25:18	0:0	6	>=
water	25:21	0:0	6	3
op	25:23	0:0	6	&&
op	25:26	0:0	6	!
call	25:27	25:53	6	strncmp
arg	25:35	25:43	7	psz_path
water	25:35	0:0	8	psz_path
arg	25:45	25:50	7	"../"
water	25:45	0:0	8	"../"
arg	25:52	25:53	7	3
water	25:52	0:0	8	3
stmts	25:56	29:8	5	
water	25:56	0:0	6	{
water	26:12	0:0	6	psz_path
op	26:21	0:0	6	+=
water	26:24	0:0	6	3
water	26:25	0:0	6	;
water	27:12	0:0	6	len
op	27:16	0:0	6	-=
water	27:19	0:0	6	3
water	27:20	0:0	6	;
water	28:12	0:0	6	levels
op	28:18	0:0	6	++
water	28:20	0:0	6	;
water	29:8	0:0	6	}
do	30:8	35:8	4	(levels --)
cond	35:17	35:23	5	levels --
water	35:17	0:0	6	levels
op	35:23	0:0	6	--
stmts	30:11	35:8	5	
water	30:11	0:0	6	{
decl	31:12	31:47	6	char	*slash
op	31:24	0:0	6	=
call	31:26	31:46	7	strrchr
arg	31:34	31:41	8	new_url
water	31:34	0:0	9	new_url
arg	31:43	31:46	8	'/'
water	31:43	0:0	9	'/'
if	32:12	33:24	6	(unlikely (slash == NULL ))
cond	32:16	32:38	7	unlikely (slash == NULL )
call	32:16	32:38	8	unlikely
arg	32:25	32:38	9	slash==NULL
water	32:25	0:0	10	slash
op	32:31	0:0	10	==
water	32:34	0:0	10	NULL
stmts	33:16	33:24	7	
goto	33:16	33:24	8	end
water	33:21	0:0	9	end
op	34:12	0:0	6	*
water	34:13	0:0	6	slash
op	34:19	0:0	6	=
water	34:21	0:0	6	'\0'
water	34:25	0:0	6	;
water	35:8	0:0	6	}
water	35:26	0:0	4	;
water	36:1	0:0	4	fmt
op	36:5	0:0	4	=
water	36:7	0:0	4	"%s/%s"
water	36:14	0:0	4	;
water	37:4	0:0	4	}
if	38:4	39:18	2	(asprintf (& ret ,fmt ,new_url ,psz_path ) < 0)
cond	38:8	38:49	3	asprintf (& ret ,fmt ,new_url ,psz_path ) < 0
call	38:8	38:45	4	asprintf
arg	38:17	38:21	5	&ret
op	38:17	0:0	6	&
water	38:18	0:0	6	ret
arg	38:23	38:26	5	fmt
water	38:23	0:0	6	fmt
arg	38:28	38:35	5	new_url
water	38:28	0:0	6	new_url
arg	38:37	38:45	5	psz_path
water	38:37	0:0	6	psz_path
op	38:47	0:0	4	<
water	38:49	0:0	4	0
stmts	39:8	39:18	3	
water	39:8	0:0	4	ret
op	39:12	0:0	4	=
water	39:14	0:0	4	NULL
water	39:18	0:0	4	;
label	40:0	40:3	2	end :
call	41:4	41:16	2	free
arg	41:9	41:16	3	new_url
water	41:9	0:0	4	new_url
water	41:17	0:0	2	;
return	42:4	42:14	2	ret
water	42:11	0:0	3	ret
