func	2:0	48:0	0	static int	ProcessInputStream
params	2:29	0:0	1	
param	2:30	2:46	2	decoder_t *	p_dec
param	2:48	2:63	2	DWORD	stream_id
param	2:65	2:81	2	block_t *	p_block
stmnts	0:0	47:23	1	
decl	4:4	4:39	2	decoder_sys_t	*p_sys
op	4:25	0:0	2	=
water	4:27	0:0	2	p_dec
op	4:32	0:0	2	->
water	4:34	0:0	2	p_sys
decl	5:4	5:14	2	HRESULT	hr
decl	6:4	6:34	2	IMFSample	*input_sample
op	6:28	0:0	2	=
water	6:30	0:0	2	NULL
if	7:4	8:18	2	(AllocateInputSample (p_dec ,stream_id ,& input_sample ,p_block -> i_buffer ))
cond	7:8	7:78	3	AllocateInputSample (p_dec ,stream_id ,& input_sample ,p_block -> i_buffer )
call	7:8	7:78	4	AllocateInputSample
arg	7:28	7:33	5	p_dec
water	7:28	0:0	6	p_dec
arg	7:35	7:44	5	stream_id
water	7:35	0:0	6	stream_id
arg	7:46	7:59	5	&input_sample
op	7:46	0:0	6	&
water	7:47	0:0	6	input_sample
arg	7:61	7:78	5	p_block->i_buffer
water	7:61	0:0	6	p_block
op	7:68	0:0	6	->
water	7:70	0:0	6	i_buffer
stmts	8:8	8:18	3	
goto	8:8	8:18	4	error
water	8:13	0:0	5	error
decl	9:4	9:45	2	IMFMediaBuffer	*input_media_buffer
op	9:39	0:0	2	=
water	9:41	0:0	2	NULL
water	10:4	0:0	2	hr
op	10:7	0:0	2	=
call	10:9	10:80	2	IMFSample_GetBufferByIndex
arg	10:36	10:48	3	input_sample
water	10:36	0:0	4	input_sample
arg	10:50	10:59	3	stream_id
water	10:50	0:0	4	stream_id
arg	10:61	10:80	3	&input_media_buffer
op	10:61	0:0	4	&
water	10:62	0:0	4	input_media_buffer
water	10:81	0:0	2	;
if	11:4	12:18	2	(FAILED (hr ))
cond	11:8	11:17	3	FAILED (hr )
call	11:8	11:17	4	FAILED
arg	11:15	11:17	5	hr
water	11:15	0:0	6	hr
stmts	12:8	12:18	3	
goto	12:8	12:18	4	error
water	12:13	0:0	5	error
decl	13:4	13:22	2	BYTE	*buffer_start
water	14:4	0:0	2	hr
op	14:7	0:0	2	=
call	14:9	14:74	2	IMFMediaBuffer_Lock
arg	14:29	14:47	3	input_media_buffer
water	14:29	0:0	4	input_media_buffer
arg	14:49	14:62	3	&buffer_start
op	14:49	0:0	4	&
water	14:50	0:0	4	buffer_start
arg	14:64	14:68	3	NULL
water	14:64	0:0	4	NULL
arg	14:70	14:74	3	NULL
water	14:70	0:0	4	NULL
water	14:75	0:0	2	;
if	15:4	16:18	2	(FAILED (hr ))
cond	15:8	15:17	3	FAILED (hr )
call	15:8	15:17	4	FAILED
arg	15:15	15:17	5	hr
water	15:15	0:0	6	hr
stmts	16:8	16:18	3	
goto	16:8	16:18	4	error
water	16:13	0:0	5	error
call	17:4	17:61	2	memcpy
arg	17:11	17:23	3	buffer_start
water	17:11	0:0	4	buffer_start
arg	17:25	17:42	3	p_block->p_buffer
water	17:25	0:0	4	p_block
op	17:32	0:0	4	->
water	17:34	0:0	4	p_buffer
arg	17:44	17:61	3	p_block->i_buffer
water	17:44	0:0	4	p_block
op	17:51	0:0	4	->
water	17:53	0:0	4	i_buffer
water	17:62	0:0	2	;
if	18:4	23:4	2	(p_dec -> fmt_in . i_codec == VLC_CODEC_H264)
cond	18:8	18:33	3	p_dec -> fmt_in . i_codec == VLC_CODEC_H264
water	18:8	0:0	4	p_dec
op	18:13	0:0	4	->
water	18:15	0:0	4	fmt_in
op	18:21	0:0	4	.
water	18:22	0:0	4	i_codec
op	18:30	0:0	4	==
water	18:33	0:0	4	VLC_CODEC_H264
stmts	19:4	23:4	3	
water	19:4	0:0	4	{
decl	21:8	21:56	4	struct H264ConvertState	convert_state
op	21:46	0:0	4	=
water	21:48	0:0	4	{
water	21:50	0:0	4	0
water	21:51	0:0	4	,
water	21:53	0:0	4	0
water	21:55	0:0	4	}
call	22:8	22:95	4	convert_h264_to_annexb
arg	22:31	22:43	5	buffer_start
water	22:31	0:0	6	buffer_start
arg	22:45	22:62	5	p_block->i_buffer
water	22:45	0:0	6	p_block
op	22:52	0:0	6	->
water	22:54	0:0	6	i_buffer
arg	22:64	22:79	5	p_sys->nal_size
water	22:64	0:0	6	p_sys
op	22:69	0:0	6	->
water	22:71	0:0	6	nal_size
arg	22:81	22:95	5	&convert_state
op	22:81	0:0	6	&
water	22:82	0:0	6	convert_state
water	22:96	0:0	4	;
water	23:4	0:0	4	}
water	24:4	0:0	2	hr
op	24:7	0:0	2	=
call	24:9	24:49	2	IMFMediaBuffer_Unlock
arg	24:31	24:49	3	input_media_buffer
water	24:31	0:0	4	input_media_buffer
water	24:50	0:0	2	;
if	25:4	26:18	2	(FAILED (hr ))
cond	25:8	25:17	3	FAILED (hr )
call	25:8	25:17	4	FAILED
arg	25:15	25:17	5	hr
water	25:15	0:0	6	hr
stmts	26:8	26:18	3	
goto	26:8	26:18	4	error
water	26:13	0:0	5	error
water	27:4	0:0	2	hr
op	27:7	0:0	2	=
call	27:9	27:78	2	IMFMediaBuffer_SetCurrentLength
arg	27:41	27:59	3	input_media_buffer
water	27:41	0:0	4	input_media_buffer
arg	27:61	27:78	3	p_block->i_buffer
water	27:61	0:0	4	p_block
op	27:68	0:0	4	->
water	27:70	0:0	4	i_buffer
water	27:79	0:0	2	;
if	28:4	29:18	2	(FAILED (hr ))
cond	28:8	28:17	3	FAILED (hr )
call	28:8	28:17	4	FAILED
arg	28:15	28:17	5	hr
water	28:15	0:0	6	hr
stmts	29:8	29:18	3	
goto	29:8	29:18	4	error
water	29:13	0:0	5	error
decl	30:4	30:32	2	LONGLONG	ts
op	30:16	0:0	2	=
water	30:18	0:0	2	p_block
op	30:25	0:0	2	->
water	30:27	0:0	2	i_pts
if	31:4	32:27	2	(! ts && p_block -> i_dts)
cond	31:8	31:24	3	! ts && p_block -> i_dts
op	31:8	0:0	4	!
water	31:9	0:0	4	ts
op	31:12	0:0	4	&&
water	31:15	0:0	4	p_block
op	31:22	0:0	4	->
water	31:24	0:0	4	i_dts
stmts	32:8	32:27	3	
water	32:8	0:0	4	ts
op	32:11	0:0	4	=
water	32:13	0:0	4	p_block
op	32:20	0:0	4	->
water	32:22	0:0	4	i_dts
water	32:27	0:0	4	;
water	34:4	0:0	2	hr
op	34:7	0:0	2	=
call	34:9	34:54	2	IMFSample_SetSampleTime
arg	34:33	34:45	3	input_sample
water	34:33	0:0	4	input_sample
arg	34:47	34:54	3	ts*10
water	34:47	0:0	4	ts
op	34:50	0:0	4	*
water	34:52	0:0	4	10
water	34:55	0:0	2	;
if	35:4	36:18	2	(FAILED (hr ))
cond	35:8	35:17	3	FAILED (hr )
call	35:8	35:17	4	FAILED
arg	35:15	35:17	5	hr
water	35:15	0:0	6	hr
stmts	36:8	36:18	3	
goto	36:8	36:18	4	error
water	36:13	0:0	5	error
water	37:4	0:0	2	hr
op	37:7	0:0	2	=
call	37:9	37:73	2	IMFTransform_ProcessInput
arg	37:35	37:45	3	p_sys->mft
water	37:35	0:0	4	p_sys
op	37:40	0:0	4	->
water	37:42	0:0	4	mft
arg	37:47	37:56	3	stream_id
water	37:47	0:0	4	stream_id
arg	37:58	37:70	3	input_sample
water	37:58	0:0	4	input_sample
arg	37:72	37:73	3	0
water	37:72	0:0	4	0
water	37:74	0:0	2	;
if	38:4	39:18	2	(FAILED (hr ))
cond	38:8	38:17	3	FAILED (hr )
call	38:8	38:17	4	FAILED
arg	38:15	38:17	5	hr
water	38:15	0:0	6	hr
stmts	39:8	39:18	3	
goto	39:8	39:18	4	error
water	39:13	0:0	5	error
call	40:4	40:45	2	IMFMediaBuffer_Release
arg	40:27	40:45	3	input_media_buffer
water	40:27	0:0	4	input_media_buffer
water	40:46	0:0	2	;
call	41:4	41:34	2	IMFSample_Release
arg	41:22	41:34	3	input_sample
water	41:22	0:0	4	input_sample
water	41:35	0:0	2	;
return	42:4	42:22	2	VLC_SUCCESS
water	42:11	0:0	3	VLC_SUCCESS
label	43:0	43:5	2	error :
call	44:4	44:50	2	msg_Err
arg	44:12	44:17	3	p_dec
water	44:12	0:0	4	p_dec
arg	44:19	44:50	3	"Error in ProcessInputStream()"
water	44:19	0:0	4	"Error in ProcessInputStream()"
water	44:51	0:0	2	;
if	45:4	46:39	2	(input_sample)
cond	45:8	45:8	3	input_sample
water	45:8	0:0	4	input_sample
stmts	46:8	46:39	3	
call	46:8	46:38	4	IMFSample_Release
arg	46:26	46:38	5	input_sample
water	46:26	0:0	6	input_sample
water	46:39	0:0	4	;
return	47:4	47:23	2	VLC_EGENERIC
water	47:11	0:0	3	VLC_EGENERIC
