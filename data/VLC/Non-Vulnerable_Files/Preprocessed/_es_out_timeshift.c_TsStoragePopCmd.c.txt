func	2:0	31:0	0	static void	TsStoragePopCmd
params	2:27	0:0	1	
param	2:29	2:52	2	ts_storage_t *	p_storage
param	2:54	2:69	2	ts_cmd_t *	p_cmd
param	2:71	2:84	2	bool	b_flush
stmnts	4:4	30:4	1	
call	4:4	4:43	2	assert
arg	4:12	4:43	3	!TsStorageIsEmpty(p_storage)
op	4:12	0:0	4	!
call	4:13	4:41	4	TsStorageIsEmpty
arg	4:31	4:41	5	p_storage
water	4:31	0:0	6	p_storage
water	4:44	0:0	2	;
op	5:4	0:0	2	*
water	5:5	0:0	2	p_cmd
op	5:11	0:0	2	=
water	5:13	0:0	2	p_storage
op	5:22	0:0	2	->
water	5:24	0:0	2	p_cmd
op	5:29	0:0	2	[
water	5:30	0:0	2	p_storage
op	5:39	0:0	2	->
water	5:41	0:0	2	i_cmd_r
op	5:48	0:0	2	++
op	5:50	0:0	2	]
water	5:51	0:0	2	;
if	6:4	30:4	2	(p_cmd -> i_type == C_SEND)
cond	6:8	6:25	3	p_cmd -> i_type == C_SEND
water	6:8	0:0	4	p_cmd
op	6:13	0:0	4	->
water	6:15	0:0	4	i_type
op	6:22	0:0	4	==
water	6:25	0:0	4	C_SEND
stmts	7:4	30:4	3	
water	7:4	0:0	4	{
decl	8:8	8:21	4	block_t	block
if	9:8	24:8	4	(! b_flush && !fseek (p_storage -> p_filer ,p_cmd -> u . send . i_offset ,SEEK_SET ) &&fread (& block ,sizeof ( block ) ,1 ,p_storage -> p_filer ) == 1)
cond	9:12	11:69	5	! b_flush && !fseek (p_storage -> p_filer ,p_cmd -> u . send . i_offset ,SEEK_SET ) &&fread (& block ,sizeof ( block ) ,1 ,p_storage -> p_filer ) == 1
op	9:12	0:0	6	!
water	9:13	0:0	6	b_flush
op	9:21	0:0	6	&&
op	10:12	0:0	6	!
call	10:13	10:73	6	fseek
arg	10:20	10:38	7	p_storage->p_filer
water	10:20	0:0	8	p_storage
op	10:29	0:0	8	->
water	10:31	0:0	8	p_filer
arg	10:40	10:62	7	p_cmd->u.send.i_offset
water	10:40	0:0	8	p_cmd
op	10:45	0:0	8	->
water	10:47	0:0	8	u
op	10:48	0:0	8	.
water	10:49	0:0	8	send
op	10:53	0:0	8	.
water	10:54	0:0	8	i_offset
arg	10:64	10:73	7	SEEK_SET
water	10:64	0:0	8	SEEK_SET
op	10:75	0:0	6	&&
call	11:12	11:64	6	fread
arg	11:19	11:25	7	&block
op	11:19	0:0	8	&
water	11:20	0:0	8	block
arg	11:27	11:40	7	sizeof(block)
op	11:27	0:0	8	sizeof
water	11:33	0:0	8	(
water	11:34	0:0	8	block
water	11:39	0:0	8	)
arg	11:42	11:43	7	1
water	11:42	0:0	8	1
arg	11:45	11:64	7	p_storage->p_filer
water	11:45	0:0	8	p_storage
op	11:54	0:0	8	->
water	11:56	0:0	8	p_filer
op	11:66	0:0	6	==
water	11:69	0:0	6	1
stmts	12:8	24:8	5	
water	12:8	0:0	6	{
decl	13:12	13:60	6	block_t	*p_block
op	13:29	0:0	6	=
call	13:31	13:59	7	block_Alloc
arg	13:44	13:59	8	block.i_buffer
water	13:44	0:0	9	block
op	13:49	0:0	9	.
water	13:50	0:0	9	i_buffer
if	14:12	22:12	6	(p_block)
cond	14:16	14:16	7	p_block
water	14:16	0:0	8	p_block
stmts	15:12	22:12	7	
water	15:12	0:0	8	{
water	16:16	0:0	8	p_block
op	16:23	0:0	8	->
water	16:25	0:0	8	i_dts
op	16:36	0:0	8	=
water	16:38	0:0	8	block
op	16:43	0:0	8	.
water	16:44	0:0	8	i_dts
water	16:49	0:0	8	;
water	17:16	0:0	8	p_block
op	17:23	0:0	8	->
water	17:25	0:0	8	i_pts
op	17:36	0:0	8	=
water	17:38	0:0	8	block
op	17:43	0:0	8	.
water	17:44	0:0	8	i_pts
water	17:49	0:0	8	;
water	18:16	0:0	8	p_block
op	18:23	0:0	8	->
water	18:25	0:0	8	i_flags
op	18:36	0:0	8	=
water	18:38	0:0	8	block
op	18:43	0:0	8	.
water	18:44	0:0	8	i_flags
water	18:51	0:0	8	;
water	19:16	0:0	8	p_block
op	19:23	0:0	8	->
water	19:25	0:0	8	i_length
op	19:36	0:0	8	=
water	19:38	0:0	8	block
op	19:43	0:0	8	.
water	19:44	0:0	8	i_length
water	19:52	0:0	8	;
water	20:16	0:0	8	p_block
op	20:23	0:0	8	->
water	20:25	0:0	8	i_nb_samples
op	20:38	0:0	8	=
water	20:40	0:0	8	block
op	20:45	0:0	8	.
water	20:46	0:0	8	i_nb_samples
water	20:58	0:0	8	;
water	21:16	0:0	8	p_block
op	21:23	0:0	8	->
water	21:25	0:0	8	i_buffer
op	21:34	0:0	8	=
call	21:36	21:100	8	fread
arg	21:43	21:60	9	p_block->p_buffer
water	21:43	0:0	10	p_block
op	21:50	0:0	10	->
water	21:52	0:0	10	p_buffer
arg	21:62	21:63	9	1
water	21:62	0:0	10	1
arg	21:65	21:79	9	block.i_buffer
water	21:65	0:0	10	block
op	21:70	0:0	10	.
water	21:71	0:0	10	i_buffer
arg	21:81	21:100	9	p_storage->p_filer
water	21:81	0:0	10	p_storage
op	21:90	0:0	10	->
water	21:92	0:0	10	p_filer
water	21:101	0:0	8	;
water	22:12	0:0	8	}
water	23:12	0:0	6	p_cmd
op	23:17	0:0	6	->
water	23:19	0:0	6	u
op	23:20	0:0	6	.
water	23:21	0:0	6	send
op	23:25	0:0	6	.
water	23:26	0:0	6	p_block
op	23:34	0:0	6	=
water	23:36	0:0	6	p_block
water	23:43	0:0	6	;
water	24:8	0:0	6	}
else	25:8	29:8	4
stmts	26:8	29:8	5	
water	26:8	0:0	6	{
water	28:12	0:0	6	p_cmd
op	28:17	0:0	6	->
water	28:19	0:0	6	u
op	28:20	0:0	6	.
water	28:21	0:0	6	send
op	28:25	0:0	6	.
water	28:26	0:0	6	p_block
op	28:34	0:0	6	=
call	28:36	28:51	6	block_Alloc
arg	28:49	28:51	7	1
water	28:49	0:0	8	1
water	28:52	0:0	6	;
water	29:8	0:0	6	}
water	30:4	0:0	4	}
