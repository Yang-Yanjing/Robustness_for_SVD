func	2:0	34:0	0	static void	adjust_refresh_rate
params	2:31	0:0	1	
param	2:32	2:50	2	vout_display_t *	vd
stmnts	0:0	33:4	1	
decl	4:4	4:36	2	TV_DISPLAY_STATE_T	display_state
decl	5:4	5:63	2	TV_SUPPORTED_MODE_NEW_T	supported_modes[VC_TV_MAX_MODE_IDS]
decl	6:4	6:17	2	int	num_modes
decl	7:4	7:80	2	double	frame_rate
op	7:22	0:0	2	=
water	7:24	0:0	2	(
water	7:25	0:0	2	double
water	7:31	0:0	2	)
water	7:32	0:0	2	vd
op	7:34	0:0	2	->
water	7:36	0:0	2	fmt
op	7:39	0:0	2	.
water	7:40	0:0	2	i_frame_rate
op	7:53	0:0	2	/
water	7:55	0:0	2	vd
op	7:57	0:0	2	->
water	7:59	0:0	2	fmt
op	7:62	0:0	2	.
water	7:63	0:0	2	i_frame_rate_base
decl	8:4	8:20	2	int	best_id
op	8:16	0:0	2	=
op	8:18	0:0	2	-
water	8:19	0:0	2	1
decl	9:4	9:28	2	double	best_score
water	9:21	0:0	2	,
decl	9:4	9:28	2	double	score
decl	10:4	10:9	2	int	i
call	11:4	11:42	2	vc_tv_get_display_state
arg	11:28	11:42	3	&display_state
op	11:28	0:0	4	&
water	11:29	0:0	4	display_state
water	11:43	0:0	2	;
if	12:4	33:4	2	(display_state . display . hdmi . mode != HDMI_MODE_OFF)
cond	12:7	12:42	3	display_state . display . hdmi . mode != HDMI_MODE_OFF
water	12:7	0:0	4	display_state
op	12:20	0:0	4	.
water	12:21	0:0	4	display
op	12:28	0:0	4	.
water	12:29	0:0	4	hdmi
op	12:33	0:0	4	.
water	12:34	0:0	4	mode
op	12:39	0:0	4	!=
water	12:42	0:0	4	HDMI_MODE_OFF
stmts	12:57	33:4	3	
water	12:57	0:0	4	{
water	13:8	0:0	4	num_modes
op	13:18	0:0	4	=
call	13:20	14:71	4	vc_tv_hdmi_get_supported_modes_new
arg	13:55	13:87	5	display_state.display.hdmi.group
water	13:55	0:0	6	display_state
op	13:68	0:0	6	.
water	13:69	0:0	6	display
op	13:76	0:0	6	.
water	13:77	0:0	6	hdmi
op	13:81	0:0	6	.
water	13:82	0:0	6	group
arg	14:24	14:39	5	supported_modes
water	14:24	0:0	6	supported_modes
arg	14:41	14:59	5	VC_TV_MAX_MODE_IDS
water	14:41	0:0	6	VC_TV_MAX_MODE_IDS
arg	14:61	14:65	5	NULL
water	14:61	0:0	6	NULL
arg	14:67	14:71	5	NULL
water	14:67	0:0	6	NULL
water	14:72	0:0	4	;
for	15:8	25:8	4	(i = 0 ;i < num_modes;++ i)
forinit	15:12	15:17	5	i = 0 ;
water	15:12	0:0	6	i
op	15:14	0:0	6	=
water	15:16	0:0	6	0
water	15:17	0:0	6	;
cond	15:19	15:23	5	i < num_modes
water	15:19	0:0	6	i
op	15:21	0:0	6	<
water	15:23	0:0	6	num_modes
forexpr	15:34	15:36	5	++ i
op	15:34	0:0	6	++
water	15:36	0:0	6	i
stmts	15:39	25:8	5	
water	15:39	0:0	6	{
if	16:12	19:24	6	(supported_modes [ i ] . width != display_state . display . hdmi . width || supported_modes [ i ] . height != display_state . display . hdmi . height || supported_modes [ i ] . scan_mode != display_state . display . hdmi . scan_mode)
cond	16:15	18:87	7	supported_modes [ i ] . width != display_state . display . hdmi . width || supported_modes [ i ] . height != display_state . display . hdmi . height || supported_modes [ i ] . scan_mode != display_state . display . hdmi . scan_mode
water	16:15	0:0	8	supported_modes
op	16:30	0:0	8	[
water	16:31	0:0	8	i
op	16:32	0:0	8	]
op	16:33	0:0	8	.
water	16:34	0:0	8	width
op	16:40	0:0	8	!=
water	16:43	0:0	8	display_state
op	16:56	0:0	8	.
water	16:57	0:0	8	display
op	16:64	0:0	8	.
water	16:65	0:0	8	hdmi
op	16:69	0:0	8	.
water	16:70	0:0	8	width
op	16:76	0:0	8	||
water	17:28	0:0	8	supported_modes
op	17:43	0:0	8	[
water	17:44	0:0	8	i
op	17:45	0:0	8	]
op	17:46	0:0	8	.
water	17:47	0:0	8	height
op	17:54	0:0	8	!=
water	17:57	0:0	8	display_state
op	17:70	0:0	8	.
water	17:71	0:0	8	display
op	17:78	0:0	8	.
water	17:79	0:0	8	hdmi
op	17:83	0:0	8	.
water	17:84	0:0	8	height
op	17:91	0:0	8	||
water	18:28	0:0	8	supported_modes
op	18:43	0:0	8	[
water	18:44	0:0	8	i
op	18:45	0:0	8	]
op	18:46	0:0	8	.
water	18:47	0:0	8	scan_mode
op	18:57	0:0	8	!=
water	18:60	0:0	8	display_state
op	18:73	0:0	8	.
water	18:74	0:0	8	display
op	18:81	0:0	8	.
water	18:82	0:0	8	hdmi
op	18:86	0:0	8	.
water	18:87	0:0	8	scan_mode
stmts	19:16	19:24	7	
continue	19:16	19:24	8	
water	20:12	0:0	6	score
op	20:18	0:0	6	=
call	20:20	20:66	6	fmod
arg	20:25	20:54	7	supported_modes[i].frame_rate
water	20:25	0:0	8	supported_modes
op	20:40	0:0	8	[
water	20:41	0:0	8	i
op	20:42	0:0	8	]
op	20:43	0:0	8	.
water	20:44	0:0	8	frame_rate
arg	20:56	20:66	7	frame_rate
water	20:56	0:0	8	frame_rate
water	20:67	0:0	6	;
if	21:12	24:12	6	(( best_id < 0 ) || ( score < best_score ))
cond	21:15	21:51	7	( best_id < 0 ) || ( score < best_score )
water	21:15	0:0	8	(
water	21:16	0:0	8	best_id
op	21:24	0:0	8	<
water	21:26	0:0	8	0
water	21:27	0:0	8	)
op	21:29	0:0	8	||
water	21:32	0:0	8	(
water	21:33	0:0	8	score
op	21:39	0:0	8	<
water	21:41	0:0	8	best_score
water	21:51	0:0	8	)
stmts	21:54	24:12	7	
water	21:54	0:0	8	{
water	22:16	0:0	8	best_id
op	22:24	0:0	8	=
water	22:26	0:0	8	i
water	22:27	0:0	8	;
water	23:16	0:0	8	best_score
op	23:27	0:0	8	=
water	23:29	0:0	8	score
water	23:34	0:0	8	;
water	24:12	0:0	8	}
water	25:8	0:0	6	}
if	26:8	32:8	4	(( best_id >= 0 ) && ( display_state . display . hdmi . frame_rate != supported_modes [ best_id ] . frame_rate ))
cond	26:11	26:106	5	( best_id >= 0 ) && ( display_state . display . hdmi . frame_rate != supported_modes [ best_id ] . frame_rate )
water	26:11	0:0	6	(
water	26:12	0:0	6	best_id
op	26:20	0:0	6	>=
water	26:23	0:0	6	0
water	26:24	0:0	6	)
op	26:26	0:0	6	&&
water	26:29	0:0	6	(
water	26:30	0:0	6	display_state
op	26:43	0:0	6	.
water	26:44	0:0	6	display
op	26:51	0:0	6	.
water	26:52	0:0	6	hdmi
op	26:56	0:0	6	.
water	26:57	0:0	6	frame_rate
op	26:68	0:0	6	!=
water	26:71	0:0	6	supported_modes
op	26:86	0:0	6	[
water	26:87	0:0	6	best_id
op	26:94	0:0	6	]
op	26:95	0:0	6	.
water	26:96	0:0	6	frame_rate
water	26:106	0:0	6	)
stmts	26:109	32:8	5	
water	26:109	0:0	6	{
call	27:12	28:63	6	msg_Info
arg	27:21	27:23	7	vd
water	27:21	0:0	8	vd
arg	27:25	27:63	7	"Setting HDMI refresh rate to %"PRIu32
water	27:25	0:0	8	"Setting HDMI refresh rate to %"
water	27:57	0:0	8	PRIu32
arg	28:28	28:63	7	supported_modes[best_id].frame_rate
water	28:28	0:0	8	supported_modes
op	28:43	0:0	8	[
water	28:44	0:0	8	best_id
op	28:51	0:0	8	]
op	28:52	0:0	8	.
water	28:53	0:0	8	frame_rate
water	28:64	0:0	6	;
call	29:12	31:57	6	vc_tv_hdmi_power_on_explicit_new
arg	29:45	29:59	7	HDMI_MODE_HDMI
water	29:45	0:0	8	HDMI_MODE_HDMI
arg	30:28	30:58	7	supported_modes[best_id].group
water	30:28	0:0	8	supported_modes
op	30:43	0:0	8	[
water	30:44	0:0	8	best_id
op	30:51	0:0	8	]
op	30:52	0:0	8	.
water	30:53	0:0	8	group
arg	31:28	31:57	7	supported_modes[best_id].code
water	31:28	0:0	8	supported_modes
op	31:43	0:0	8	[
water	31:44	0:0	8	best_id
op	31:51	0:0	8	]
op	31:52	0:0	8	.
water	31:53	0:0	8	code
water	31:58	0:0	6	;
water	32:8	0:0	6	}
water	33:4	0:0	4	}
