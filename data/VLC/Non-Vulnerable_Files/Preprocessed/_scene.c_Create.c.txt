func	2:0	45:0	0	static int	Create
params	2:17	0:0	1	
param	2:19	2:40	2	vlc_object_t *	p_this
stmnts	0:0	44:22	1	
decl	4:4	4:43	2	filter_t	*p_filter
op	4:23	0:0	2	=
water	4:25	0:0	2	(
water	4:26	0:0	2	filter_t
op	4:35	0:0	2	*
water	4:36	0:0	2	)
water	4:37	0:0	2	p_this
decl	5:4	5:23	2	filter_sys_t	*p_sys
decl	6:4	7:74	2	const vlc_chroma_description_t	*p_chroma
op	6:45	0:0	2	=
call	7:8	7:73	3	vlc_fourcc_GetChromaDescription
arg	7:41	7:73	4	p_filter->fmt_in.video.i_chroma
water	7:41	0:0	5	p_filter
op	7:49	0:0	5	->
water	7:51	0:0	5	fmt_in
op	7:57	0:0	5	.
water	7:58	0:0	5	video
op	7:63	0:0	5	.
water	7:64	0:0	5	i_chroma
if	8:4	9:27	2	(p_chroma == NULL || p_chroma -> plane_count == 0)
cond	8:8	8:53	3	p_chroma == NULL || p_chroma -> plane_count == 0
water	8:8	0:0	4	p_chroma
op	8:17	0:0	4	==
water	8:20	0:0	4	NULL
op	8:25	0:0	4	||
water	8:28	0:0	4	p_chroma
op	8:36	0:0	4	->
water	8:38	0:0	4	plane_count
op	8:50	0:0	4	==
water	8:53	0:0	4	0
stmts	9:8	9:27	3	
return	9:8	9:27	4	VLC_EGENERIC
water	9:15	0:0	5	VLC_EGENERIC
call	10:4	11:39	2	config_ChainParse
arg	10:23	10:31	3	p_filter
water	10:23	0:0	4	p_filter
arg	10:33	10:43	3	CFG_PREFIX
water	10:33	0:0	4	CFG_PREFIX
arg	10:45	10:65	3	ppsz_vfilter_options
water	10:45	0:0	4	ppsz_vfilter_options
arg	11:23	11:39	3	p_filter->p_cfg
water	11:23	0:0	4	p_filter
op	11:31	0:0	4	->
water	11:33	0:0	4	p_cfg
water	11:40	0:0	2	;
water	12:4	0:0	2	p_filter
op	12:12	0:0	2	->
water	12:14	0:0	2	p_sys
op	12:20	0:0	2	=
water	12:22	0:0	2	p_sys
op	12:28	0:0	2	=
call	12:30	12:64	2	calloc
arg	12:38	12:39	3	1
water	12:38	0:0	4	1
arg	12:41	12:64	3	sizeof(filter_sys_t)
op	12:41	0:0	4	sizeof
water	12:47	0:0	4	(
water	12:49	0:0	4	filter_sys_t
water	12:62	0:0	4	)
water	12:65	0:0	2	;
if	13:4	14:25	2	(p_filter -> p_sys == NULL)
cond	13:8	13:27	3	p_filter -> p_sys == NULL
water	13:8	0:0	4	p_filter
op	13:16	0:0	4	->
water	13:18	0:0	4	p_sys
op	13:24	0:0	4	==
water	13:27	0:0	4	NULL
stmts	14:8	14:25	3	
return	14:8	14:25	4	VLC_ENOMEM
water	14:15	0:0	5	VLC_ENOMEM
water	15:4	0:0	2	p_sys
op	15:9	0:0	2	->
water	15:11	0:0	2	p_image
op	15:19	0:0	2	=
call	15:21	15:49	2	image_HandlerCreate
arg	15:42	15:49	3	p_this
water	15:42	0:0	4	p_this
water	15:50	0:0	2	;
if	16:4	21:4	2	(! p_sys -> p_image)
cond	16:8	16:16	3	! p_sys -> p_image
op	16:8	0:0	4	!
water	16:9	0:0	4	p_sys
op	16:14	0:0	4	->
water	16:16	0:0	4	p_image
stmts	17:4	21:4	3	
water	17:4	0:0	4	{
call	18:8	18:77	4	msg_Err
arg	18:17	18:23	5	p_this
water	18:17	0:0	6	p_this
arg	18:25	18:77	5	"Couldn't get handle to image conversion routines."
water	18:25	0:0	6	"Couldn't get handle to image conversion routines."
water	18:78	0:0	4	;
call	19:8	19:20	4	free
arg	19:14	19:20	5	p_sys
water	19:14	0:0	6	p_sys
water	19:21	0:0	4	;
return	20:8	20:27	4	VLC_EGENERIC
water	20:15	0:0	5	VLC_EGENERIC
water	21:4	0:0	4	}
water	22:4	0:0	2	p_sys
op	22:9	0:0	2	->
water	22:11	0:0	2	psz_format
op	22:22	0:0	2	=
call	22:24	22:73	2	var_CreateGetString
arg	22:45	22:51	3	p_this
water	22:45	0:0	4	p_this
arg	22:53	22:73	3	CFG_PREFIX"format"
water	22:53	0:0	4	CFG_PREFIX
water	22:64	0:0	4	"format"
water	22:74	0:0	2	;
water	23:4	0:0	2	p_sys
op	23:9	0:0	2	->
water	23:11	0:0	2	i_format
op	23:20	0:0	2	=
call	23:22	23:59	2	image_Type2Fourcc
arg	23:41	23:59	3	p_sys->psz_format
water	23:41	0:0	4	p_sys
op	23:46	0:0	4	->
water	23:48	0:0	4	psz_format
water	23:60	0:0	2	;
if	24:4	32:4	2	(! p_sys -> i_format)
cond	24:8	24:16	3	! p_sys -> i_format
op	24:8	0:0	4	!
water	24:9	0:0	4	p_sys
op	24:14	0:0	4	->
water	24:16	0:0	4	i_format
stmts	25:4	32:4	3	
water	25:4	0:0	4	{
call	26:8	27:35	4	msg_Err
arg	26:17	26:25	5	p_filter
water	26:17	0:0	6	p_filter
arg	26:27	26:70	5	"Could not find FOURCC for image type '%s'"
water	26:27	0:0	6	"Could not find FOURCC for image type '%s'"
arg	27:17	27:35	5	p_sys->psz_format
water	27:17	0:0	6	p_sys
op	27:22	0:0	6	->
water	27:24	0:0	6	psz_format
water	27:36	0:0	4	;
call	28:8	28:44	4	image_HandlerDelete
arg	28:29	28:44	5	p_sys->p_image
water	28:29	0:0	6	p_sys
op	28:34	0:0	6	->
water	28:36	0:0	6	p_image
water	28:45	0:0	4	;
call	29:8	29:32	4	free
arg	29:14	29:32	5	p_sys->psz_format
water	29:14	0:0	6	p_sys
op	29:19	0:0	6	->
water	29:21	0:0	6	psz_format
water	29:33	0:0	4	;
call	30:8	30:20	4	free
arg	30:14	30:20	5	p_sys
water	30:14	0:0	6	p_sys
water	30:21	0:0	4	;
return	31:8	31:27	4	VLC_EGENERIC
water	31:15	0:0	5	VLC_EGENERIC
water	32:4	0:0	4	}
water	33:4	0:0	2	p_sys
op	33:9	0:0	2	->
water	33:11	0:0	2	i_width
op	33:19	0:0	2	=
call	33:21	33:70	2	var_CreateGetInteger
arg	33:43	33:49	3	p_this
water	33:43	0:0	4	p_this
arg	33:51	33:70	3	CFG_PREFIX"width"
water	33:51	0:0	4	CFG_PREFIX
water	33:62	0:0	4	"width"
water	33:71	0:0	2	;
water	34:4	0:0	2	p_sys
op	34:9	0:0	2	->
water	34:11	0:0	2	i_height
op	34:20	0:0	2	=
call	34:22	34:72	2	var_CreateGetInteger
arg	34:44	34:50	3	p_this
water	34:44	0:0	4	p_this
arg	34:52	34:72	3	CFG_PREFIX"height"
water	34:52	0:0	4	CFG_PREFIX
water	34:63	0:0	4	"height"
water	34:73	0:0	2	;
water	35:4	0:0	2	p_sys
op	35:9	0:0	2	->
water	35:11	0:0	2	i_ratio
op	35:19	0:0	2	=
call	35:21	35:70	2	var_CreateGetInteger
arg	35:43	35:49	3	p_this
water	35:43	0:0	4	p_this
arg	35:51	35:70	3	CFG_PREFIX"ratio"
water	35:51	0:0	4	CFG_PREFIX
water	35:62	0:0	4	"ratio"
water	35:71	0:0	2	;
if	36:4	37:26	2	(p_sys -> i_ratio <= 0)
cond	36:8	36:26	3	p_sys -> i_ratio <= 0
water	36:8	0:0	4	p_sys
op	36:13	0:0	4	->
water	36:15	0:0	4	i_ratio
op	36:23	0:0	4	<=
water	36:26	0:0	4	0
stmts	37:8	37:26	3	
water	37:8	0:0	4	p_sys
op	37:13	0:0	4	->
water	37:15	0:0	4	i_ratio
op	37:23	0:0	4	=
water	37:25	0:0	4	1
water	37:26	0:0	4	;
water	38:4	0:0	2	p_sys
op	38:9	0:0	2	->
water	38:11	0:0	2	b_replace
op	38:21	0:0	2	=
call	38:23	38:71	2	var_CreateGetBool
arg	38:42	38:48	3	p_this
water	38:42	0:0	4	p_this
arg	38:50	38:71	3	CFG_PREFIX"replace"
water	38:50	0:0	4	CFG_PREFIX
water	38:61	0:0	4	"replace"
water	38:72	0:0	2	;
water	39:4	0:0	2	p_sys
op	39:9	0:0	2	->
water	39:11	0:0	2	psz_prefix
op	39:22	0:0	2	=
call	39:24	39:73	2	var_CreateGetString
arg	39:45	39:51	3	p_this
water	39:45	0:0	4	p_this
arg	39:53	39:73	3	CFG_PREFIX"prefix"
water	39:53	0:0	4	CFG_PREFIX
water	39:64	0:0	4	"prefix"
water	39:74	0:0	2	;
water	40:4	0:0	2	p_sys
op	40:9	0:0	2	->
water	40:11	0:0	2	psz_path
op	40:20	0:0	2	=
call	40:22	40:71	2	var_GetNonEmptyString
arg	40:45	40:51	3	p_this
water	40:45	0:0	4	p_this
arg	40:53	40:71	3	CFG_PREFIX"path"
water	40:53	0:0	4	CFG_PREFIX
water	40:64	0:0	4	"path"
water	40:72	0:0	2	;
if	41:4	42:63	2	(p_sys -> psz_path == NULL)
cond	41:8	41:27	3	p_sys -> psz_path == NULL
water	41:8	0:0	4	p_sys
op	41:13	0:0	4	->
water	41:15	0:0	4	psz_path
op	41:24	0:0	4	==
water	41:27	0:0	4	NULL
stmts	42:8	42:63	3	
water	42:8	0:0	4	p_sys
op	42:13	0:0	4	->
water	42:15	0:0	4	psz_path
op	42:24	0:0	4	=
call	42:26	42:62	4	config_GetUserDir
arg	42:45	42:62	5	VLC_PICTURES_DIR
water	42:45	0:0	6	VLC_PICTURES_DIR
water	42:63	0:0	4	;
water	43:4	0:0	2	p_filter
op	43:12	0:0	2	->
water	43:14	0:0	2	pf_video_filter
op	43:30	0:0	2	=
water	43:32	0:0	2	Filter
water	43:38	0:0	2	;
return	44:4	44:22	2	VLC_SUCCESS
water	44:11	0:0	3	VLC_SUCCESS
