func	2:0	64:0	0	static void	AddToQueue
params	2:23	0:0	1	
param	2:24	2:45	2	intf_thread_t *	p_this
stmnts	0:0	63:34	1	
decl	4:4	4:43	2	mtime_t	played_time
decl	5:4	5:54	2	intf_sys_t	*p_sys
op	5:39	0:0	2	=
water	5:41	0:0	2	p_this
op	5:47	0:0	2	->
water	5:49	0:0	2	p_sys
call	6:4	6:31	2	vlc_mutex_lock
arg	6:19	6:31	3	&p_sys->lock
op	6:19	0:0	4	&
water	6:20	0:0	4	p_sys
op	6:25	0:0	4	->
water	6:27	0:0	4	lock
water	6:32	0:0	2	;
if	7:4	8:16	2	(! p_sys -> b_submit)
cond	7:8	7:16	3	! p_sys -> b_submit
op	7:8	0:0	4	!
water	7:9	0:0	4	p_sys
op	7:14	0:0	4	->
water	7:16	0:0	4	b_submit
stmts	8:8	8:16	3	
goto	8:8	8:16	4	end
water	8:13	0:0	5	end
water	10:4	0:0	2	played_time
op	10:16	0:0	2	=
call	10:18	10:24	2	mdate
op	10:26	0:0	2	-
water	10:28	0:0	2	p_sys
op	10:33	0:0	2	->
water	10:35	0:0	2	p_current_song
op	10:49	0:0	2	.
water	10:50	0:0	2	i_start
op	10:58	0:0	2	-
water	11:28	0:0	2	p_sys
op	11:33	0:0	2	->
water	11:35	0:0	2	time_total_pauses
water	11:52	0:0	2	;
water	12:4	0:0	2	played_time
op	12:16	0:0	2	/=
water	12:19	0:0	2	1000000
water	12:26	0:0	2	;
if	15:4	16:47	2	(p_sys -> p_current_song . i_l == 0)
cond	15:8	15:37	3	p_sys -> p_current_song . i_l == 0
water	15:8	0:0	4	p_sys
op	15:13	0:0	4	->
water	15:15	0:0	4	p_current_song
op	15:29	0:0	4	.
water	15:30	0:0	4	i_l
op	15:34	0:0	4	==
water	15:37	0:0	4	0
stmts	16:8	16:47	3	
water	16:8	0:0	4	p_sys
op	16:13	0:0	4	->
water	16:15	0:0	4	p_current_song
op	16:29	0:0	4	.
water	16:30	0:0	4	i_l
op	16:34	0:0	4	=
water	16:36	0:0	4	played_time
water	16:47	0:0	4	;
if	18:4	22:4	2	(p_sys -> p_current_song . i_l < 30)
cond	18:8	18:36	3	p_sys -> p_current_song . i_l < 30
water	18:8	0:0	4	p_sys
op	18:13	0:0	4	->
water	18:15	0:0	4	p_current_song
op	18:29	0:0	4	.
water	18:30	0:0	4	i_l
op	18:34	0:0	4	<
water	18:36	0:0	4	30
stmts	19:4	22:4	3	
water	19:4	0:0	4	{
call	20:8	20:64	4	msg_Dbg
arg	20:16	20:22	5	p_this
water	20:16	0:0	6	p_this
arg	20:24	20:64	5	"Song too short (< 30s), not submitting"
water	20:24	0:0	6	"Song too short (< 30s), not submitting"
water	20:65	0:0	4	;
goto	21:8	21:16	4	end
water	21:13	0:0	5	end
water	22:4	0:0	4	}
if	24:4	29:4	2	(( played_time < 240 ) && ( played_time < ( p_sys -> p_current_song . i_l / 2 ) ))
cond	24:8	25:54	3	( played_time < 240 ) && ( played_time < ( p_sys -> p_current_song . i_l / 2 ) )
water	24:8	0:0	4	(
water	24:9	0:0	4	played_time
op	24:21	0:0	4	<
water	24:23	0:0	4	240
water	24:26	0:0	4	)
op	24:28	0:0	4	&&
water	25:8	0:0	4	(
water	25:9	0:0	4	played_time
op	25:21	0:0	4	<
water	25:23	0:0	4	(
water	25:24	0:0	4	p_sys
op	25:29	0:0	4	->
water	25:31	0:0	4	p_current_song
op	25:45	0:0	4	.
water	25:46	0:0	4	i_l
op	25:50	0:0	4	/
water	25:52	0:0	4	2
water	25:53	0:0	4	)
water	25:54	0:0	4	)
stmts	26:4	29:4	3	
water	26:4	0:0	4	{
call	27:8	27:71	4	msg_Dbg
arg	27:16	27:22	5	p_this
water	27:16	0:0	6	p_this
arg	27:24	27:71	5	"Song not listened long enough, not submitting"
water	27:24	0:0	6	"Song not listened long enough, not submitting"
water	27:72	0:0	4	;
goto	28:8	28:16	4	end
water	28:13	0:0	5	end
water	29:4	0:0	4	}
if	31:4	36:4	2	(! p_sys -> p_current_song . psz_a || ! * p_sys -> p_current_song . psz_a || ! p_sys -> p_current_song . psz_t || ! * p_sys -> p_current_song . psz_t)
cond	31:8	32:64	3	! p_sys -> p_current_song . psz_a || ! * p_sys -> p_current_song . psz_a || ! p_sys -> p_current_song . psz_t || ! * p_sys -> p_current_song . psz_t
op	31:8	0:0	4	!
water	31:9	0:0	4	p_sys
op	31:14	0:0	4	->
water	31:16	0:0	4	p_current_song
op	31:30	0:0	4	.
water	31:31	0:0	4	psz_a
op	31:37	0:0	4	||
op	31:40	0:0	4	!
op	31:41	0:0	4	*
water	31:42	0:0	4	p_sys
op	31:47	0:0	4	->
water	31:49	0:0	4	p_current_song
op	31:63	0:0	4	.
water	31:64	0:0	4	psz_a
op	31:70	0:0	4	||
op	32:8	0:0	4	!
water	32:9	0:0	4	p_sys
op	32:14	0:0	4	->
water	32:16	0:0	4	p_current_song
op	32:30	0:0	4	.
water	32:31	0:0	4	psz_t
op	32:37	0:0	4	||
op	32:40	0:0	4	!
op	32:41	0:0	4	*
water	32:42	0:0	4	p_sys
op	32:47	0:0	4	->
water	32:49	0:0	4	p_current_song
op	32:63	0:0	4	.
water	32:64	0:0	4	psz_t
stmts	33:4	36:4	3	
water	33:4	0:0	4	{
call	34:8	34:65	4	msg_Dbg
arg	34:16	34:22	5	p_this
water	34:16	0:0	6	p_this
arg	34:24	34:65	5	"Missing artist or title, not submitting"
water	34:24	0:0	6	"Missing artist or title, not submitting"
water	34:66	0:0	4	;
goto	35:8	35:16	4	end
water	35:13	0:0	5	end
water	36:4	0:0	4	}
if	37:4	41:4	2	(p_sys -> i_songs >= QUEUE_MAX)
cond	37:8	37:26	3	p_sys -> i_songs >= QUEUE_MAX
water	37:8	0:0	4	p_sys
op	37:13	0:0	4	->
water	37:15	0:0	4	i_songs
op	37:23	0:0	4	>=
water	37:26	0:0	4	QUEUE_MAX
stmts	38:4	41:4	3	
water	38:4	0:0	4	{
call	39:8	39:67	4	msg_Warn
arg	39:17	39:23	5	p_this
water	39:17	0:0	6	p_this
arg	39:25	39:67	5	"Submission queue is full, not submitting"
water	39:25	0:0	6	"Submission queue is full, not submitting"
water	39:68	0:0	4	;
goto	40:8	40:16	4	end
water	40:13	0:0	5	end
water	41:4	0:0	4	}
call	42:4	42:45	2	msg_Dbg
arg	42:12	42:18	3	p_this
water	42:12	0:0	4	p_this
arg	42:20	42:45	3	"Song will be submitted."
water	42:20	0:0	4	"Song will be submitted."
water	42:46	0:0	2	;
water	44:4	0:0	2	p_sys
op	44:9	0:0	2	->
water	44:11	0:0	2	p_queue
op	44:18	0:0	2	[
water	44:19	0:0	2	p_sys
op	44:24	0:0	2	->
water	44:26	0:0	2	i_songs
op	44:33	0:0	2	]
op	44:34	0:0	2	.
water	44:35	0:0	2	a
op	44:37	0:0	2	=
water	44:39	0:0	2	p_sys
op	44:44	0:0	2	->
water	44:46	0:0	2	p_current_song
op	44:60	0:0	2	.
water	44:61	0:0	2	a
call	46:4	46:16	2	QUEUE_COPY
arg	46:15	46:16	3	a
water	46:15	0:0	4	a
water	46:17	0:0	2	;
water	47:4	0:0	2	p_sys
op	47:9	0:0	2	->
water	47:11	0:0	2	p_current_song
op	47:25	0:0	2	.
water	47:26	0:0	2	a
op	47:28	0:0	2	=
water	47:30	0:0	2	NULL
call	48:4	48:18	2	QUEUE_COPY
arg	48:15	48:18	3	i_l
water	48:15	0:0	4	i_l
water	48:19	0:0	2	;
call	49:4	49:25	2	QUEUE_COPY_NULL
arg	49:20	49:25	3	psz_n
water	49:20	0:0	4	psz_n
water	49:26	0:0	2	;
call	50:4	50:25	2	QUEUE_COPY_NULL
arg	50:20	50:25	3	psz_a
water	50:20	0:0	4	psz_a
water	50:26	0:0	2	;
call	51:4	51:25	2	QUEUE_COPY_NULL
arg	51:20	51:25	3	psz_t
water	51:20	0:0	4	psz_t
water	51:26	0:0	2	;
call	52:4	52:25	2	QUEUE_COPY_NULL
arg	52:20	52:25	3	psz_b
water	52:20	0:0	4	psz_b
water	52:26	0:0	2	;
call	53:4	53:25	2	QUEUE_COPY_NULL
arg	53:20	53:25	3	psz_m
water	53:20	0:0	4	psz_m
water	53:26	0:0	2	;
call	54:4	54:19	2	QUEUE_COPY
arg	54:15	54:19	3	date
water	54:15	0:0	4	date
water	54:20	0:0	2	;
water	57:4	0:0	2	p_sys
op	57:9	0:0	2	->
water	57:11	0:0	2	i_songs
op	57:18	0:0	2	++
water	57:20	0:0	2	;
call	59:4	59:32	2	vlc_cond_signal
arg	59:20	59:32	3	&p_sys->wait
op	59:20	0:0	4	&
water	59:21	0:0	4	p_sys
op	59:26	0:0	4	->
water	59:28	0:0	4	wait
water	59:33	0:0	2	;
label	60:0	60:3	2	end :
call	61:4	61:37	2	DeleteSong
arg	61:15	61:37	3	&p_sys->p_current_song
op	61:15	0:0	4	&
water	61:16	0:0	4	p_sys
op	61:21	0:0	4	->
water	61:23	0:0	4	p_current_song
water	61:38	0:0	2	;
water	62:4	0:0	2	p_sys
op	62:9	0:0	2	->
water	62:11	0:0	2	b_submit
op	62:20	0:0	2	=
water	62:22	0:0	2	false
water	62:27	0:0	2	;
call	63:4	63:33	2	vlc_mutex_unlock
arg	63:21	63:33	3	&p_sys->lock
op	63:21	0:0	4	&
water	63:22	0:0	4	p_sys
op	63:27	0:0	4	->
water	63:29	0:0	4	lock
water	63:34	0:0	2	;
