func	2:0	79:0	0	static int	Open
params	2:15	0:0	1	
param	2:16	2:36	2	vlc_object_t *	object
stmnts	0:0	78:23	1	
decl	4:4	4:49	2	vout_display_t	*vd
op	4:23	0:0	2	=
water	4:25	0:0	2	(
water	4:26	0:0	2	vout_display_t
op	4:41	0:0	2	*
water	4:42	0:0	2	)
water	4:43	0:0	2	object
decl	5:4	5:27	2	vout_display_sys_t	*sys
water	6:4	0:0	2	vd
op	6:6	0:0	2	->
water	6:8	0:0	2	sys
op	6:12	0:0	2	=
water	6:14	0:0	2	sys
op	6:18	0:0	2	=
call	6:20	6:42	2	calloc
arg	6:27	6:28	3	1
water	6:27	0:0	4	1
arg	6:30	6:42	3	sizeof(*sys)
op	6:30	0:0	4	sizeof
water	6:36	0:0	4	(
op	6:37	0:0	4	*
water	6:38	0:0	4	sys
water	6:41	0:0	4	)
water	6:43	0:0	2	;
if	7:4	8:25	2	(! sys)
cond	7:8	7:9	3	! sys
op	7:8	0:0	4	!
water	7:9	0:0	4	sys
stmts	8:8	8:25	3	
return	8:8	8:25	4	VLC_ENOMEM
water	8:15	0:0	5	VLC_ENOMEM
if	9:4	13:4	2	(DirectFBInit (NULL ,NULL ) != DFB_OK)
cond	9:8	9:35	3	DirectFBInit (NULL ,NULL ) != DFB_OK
call	9:8	9:30	4	DirectFBInit
arg	9:21	9:25	5	NULL
water	9:21	0:0	6	NULL
arg	9:26	9:30	5	NULL
water	9:26	0:0	6	NULL
op	9:32	0:0	4	!=
water	9:35	0:0	4	DFB_OK
stmts	9:43	13:4	3	
water	9:43	0:0	4	{
call	10:8	10:42	4	msg_Err
arg	10:16	10:18	5	vd
water	10:16	0:0	6	vd
arg	10:20	10:42	5	"Cannot init DirectFB"
water	10:20	0:0	6	"Cannot init DirectFB"
water	10:43	0:0	4	;
call	11:8	11:16	4	free
arg	11:13	11:16	5	sys
water	11:13	0:0	6	sys
water	11:17	0:0	4	;
return	12:8	12:27	4	VLC_EGENERIC
water	12:15	0:0	5	VLC_EGENERIC
water	13:4	0:0	4	}
decl	14:4	14:29	2	DFBSurfaceDescription	dsc
water	15:4	0:0	2	dsc
op	15:7	0:0	2	.
water	15:8	0:0	2	flags
op	15:14	0:0	2	=
water	15:16	0:0	2	DSDESC_CAPS
water	15:27	0:0	2	;
water	16:4	0:0	2	dsc
op	16:7	0:0	2	.
water	16:8	0:0	2	caps
op	16:14	0:0	2	=
water	16:16	0:0	2	DSCAPS_PRIMARY
op	16:31	0:0	2	|
water	16:33	0:0	2	DSCAPS_TRIPLE
water	16:46	0:0	2	;
water	18:4	0:0	2	dsc
op	18:7	0:0	2	.
water	18:8	0:0	2	flags
op	18:14	0:0	2	|=
water	18:17	0:0	2	DSDESC_HEIGHT
op	18:31	0:0	2	|
water	18:33	0:0	2	DSDESC_WIDTH
water	18:45	0:0	2	;
water	19:4	0:0	2	dsc
op	19:7	0:0	2	.
water	19:8	0:0	2	width
op	19:14	0:0	2	=
water	19:16	0:0	2	352
water	19:19	0:0	2	;
water	20:4	0:0	2	dsc
op	20:7	0:0	2	.
water	20:8	0:0	2	height
op	20:15	0:0	2	=
water	20:17	0:0	2	240
water	20:20	0:0	2	;
decl	22:4	22:30	2	IDirectFB	*directfb
op	22:24	0:0	2	=
water	22:26	0:0	2	NULL
if	23:4	24:18	2	(DirectFBCreate (& directfb ) != DFB_OK || ! directfb)
cond	23:8	23:48	3	DirectFBCreate (& directfb ) != DFB_OK || ! directfb
call	23:8	23:32	4	DirectFBCreate
arg	23:23	23:32	5	&directfb
op	23:23	0:0	6	&
water	23:24	0:0	6	directfb
op	23:34	0:0	4	!=
water	23:37	0:0	4	DFB_OK
op	23:44	0:0	4	||
op	23:47	0:0	4	!
water	23:48	0:0	4	directfb
stmts	24:8	24:18	3	
goto	24:8	24:18	4	error
water	24:13	0:0	5	error
water	25:4	0:0	2	sys
op	25:7	0:0	2	->
water	25:9	0:0	2	directfb
op	25:18	0:0	2	=
water	25:20	0:0	2	directfb
water	25:28	0:0	2	;
decl	26:4	26:36	2	IDirectFBSurface	*primary
op	26:30	0:0	2	=
water	26:32	0:0	2	NULL
if	27:4	28:18	2	(directfb -> CreateSurface (directfb ,& dsc ,& primary ) || ! primary)
cond	27:8	27:62	3	directfb -> CreateSurface (directfb ,& dsc ,& primary ) || ! primary
call	27:8	27:56	4	directfb->CreateSurface
arg	27:32	27:40	5	directfb
water	27:32	0:0	6	directfb
arg	27:42	27:46	5	&dsc
op	27:42	0:0	6	&
water	27:43	0:0	6	dsc
arg	27:48	27:56	5	&primary
op	27:48	0:0	6	&
water	27:49	0:0	6	primary
op	27:58	0:0	4	||
op	27:61	0:0	4	!
water	27:62	0:0	4	primary
stmts	28:8	28:18	3	
goto	28:8	28:18	4	error
water	28:13	0:0	5	error
water	29:4	0:0	2	sys
op	29:7	0:0	2	->
water	29:9	0:0	2	primary
op	29:17	0:0	2	=
water	29:19	0:0	2	primary
water	29:26	0:0	2	;
decl	31:4	31:13	2	int	width
decl	32:4	32:14	2	int	height
call	33:4	33:45	2	primary->GetSize
arg	33:21	33:28	3	primary
water	33:21	0:0	4	primary
arg	33:30	33:36	3	&width
op	33:30	0:0	4	&
water	33:31	0:0	4	width
arg	33:38	33:45	3	&height
op	33:38	0:0	4	&
water	33:39	0:0	4	height
water	33:46	0:0	2	;
call	34:4	34:38	2	vout_display_DeleteWindow
arg	34:30	34:32	3	vd
water	34:30	0:0	4	vd
arg	34:34	34:38	3	NULL
water	34:34	0:0	4	NULL
water	34:39	0:0	2	;
decl	36:4	36:22	2	video_format_t	fmt
call	37:4	37:45	2	video_format_ApplyRotation
arg	37:31	37:35	3	&fmt
op	37:31	0:0	4	&
water	37:32	0:0	4	fmt
arg	37:37	37:45	3	&vd->fmt
op	37:37	0:0	4	&
water	37:38	0:0	4	vd
op	37:40	0:0	4	->
water	37:42	0:0	4	fmt
water	37:46	0:0	2	;
decl	38:4	38:38	2	DFBSurfacePixelFormat	pixel_format
call	39:4	39:60	2	sys->primary->GetPixelFormat
arg	39:33	39:45	3	sys->primary
water	39:33	0:0	4	sys
op	39:36	0:0	4	->
water	39:38	0:0	4	primary
arg	39:47	39:60	3	&pixel_format
op	39:47	0:0	4	&
water	39:48	0:0	4	pixel_format
water	39:61	0:0	2	;
switch	40:4	54:4	2	(pixel_format)
cond	40:12	40:12	3	pixel_format
water	40:12	0:0	4	pixel_format
stmts	40:26	54:4	3	
water	40:26	0:0	4	{
label	41:4	41:20	4	case DSPF_RGB332 :
water	42:8	0:0	4	fmt
op	42:11	0:0	4	.
water	42:12	0:0	4	i_chroma
op	42:21	0:0	4	=
water	42:23	0:0	4	VLC_CODEC_RGB8
water	42:37	0:0	4	;
water	43:8	0:0	4	fmt
op	43:11	0:0	4	.
water	43:12	0:0	4	i_rmask
op	43:20	0:0	4	=
water	43:22	0:0	4	0
water	43:23	0:0	4	x7
op	43:26	0:0	4	<<
water	43:29	0:0	4	5
water	43:30	0:0	4	;
water	44:8	0:0	4	fmt
op	44:11	0:0	4	.
water	44:12	0:0	4	i_gmask
op	44:20	0:0	4	=
water	44:22	0:0	4	0
water	44:23	0:0	4	x7
op	44:26	0:0	4	<<
water	44:29	0:0	4	2
water	44:30	0:0	4	;
water	45:8	0:0	4	fmt
op	45:11	0:0	4	.
water	45:12	0:0	4	i_bmask
op	45:20	0:0	4	=
water	45:22	0:0	4	0
water	45:23	0:0	4	x3
op	45:26	0:0	4	<<
water	45:29	0:0	4	0
water	45:30	0:0	4	;
break	46:8	46:13	4	
label	47:4	47:19	4	case DSPF_RGB16 :
water	47:21	0:0	4	fmt
op	47:24	0:0	4	.
water	47:25	0:0	4	i_chroma
op	47:34	0:0	4	=
water	47:36	0:0	4	VLC_CODEC_RGB16
water	47:51	0:0	4	;
break	47:53	47:58	4	
label	48:4	48:19	4	case DSPF_RGB24 :
water	48:21	0:0	4	fmt
op	48:24	0:0	4	.
water	48:25	0:0	4	i_chroma
op	48:34	0:0	4	=
water	48:36	0:0	4	VLC_CODEC_RGB24
water	48:51	0:0	4	;
break	48:53	48:58	4	
label	49:4	49:19	4	case DSPF_RGB32 :
water	49:21	0:0	4	fmt
op	49:24	0:0	4	.
water	49:25	0:0	4	i_chroma
op	49:34	0:0	4	=
water	49:36	0:0	4	VLC_CODEC_RGB32
water	49:51	0:0	4	;
break	49:53	49:58	4	
label	50:4	50:11	4	default :
call	51:8	51:59	4	msg_Err
arg	51:16	51:18	5	vd
water	51:16	0:0	6	vd
arg	51:20	51:45	5	"unknown screen depth %i"
water	51:20	0:0	6	"unknown screen depth %i"
arg	51:47	51:59	5	pixel_format
water	51:47	0:0	6	pixel_format
water	51:60	0:0	4	;
call	52:8	52:28	4	Close
arg	52:14	52:28	5	VLC_OBJECT(vd)
call	52:14	52:27	6	VLC_OBJECT
arg	52:25	52:27	7	vd
water	52:25	0:0	8	vd
water	52:29	0:0	4	;
return	53:8	53:27	4	VLC_EGENERIC
water	53:15	0:0	5	VLC_EGENERIC
water	54:4	0:0	4	}
call	55:4	55:28	2	video_format_FixRgb
arg	55:24	55:28	3	&fmt
op	55:24	0:0	4	&
water	55:25	0:0	4	fmt
water	55:29	0:0	2	;
water	56:4	0:0	2	fmt
op	56:7	0:0	2	.
water	56:8	0:0	2	i_width
op	56:17	0:0	2	=
water	56:19	0:0	2	width
water	56:24	0:0	2	;
water	57:4	0:0	2	fmt
op	57:7	0:0	2	.
water	57:8	0:0	2	i_height
op	57:17	0:0	2	=
water	57:19	0:0	2	height
water	57:25	0:0	2	;
water	58:4	0:0	2	fmt
op	58:7	0:0	2	.
water	58:8	0:0	2	i_visible_width
op	58:25	0:0	2	=
water	58:27	0:0	2	width
water	58:32	0:0	2	;
water	59:4	0:0	2	fmt
op	59:7	0:0	2	.
water	59:8	0:0	2	i_visible_height
op	59:25	0:0	2	=
water	59:27	0:0	2	height
water	59:33	0:0	2	;
decl	61:4	61:39	2	vout_display_info_t	info
op	61:29	0:0	2	=
water	61:31	0:0	2	vd
op	61:33	0:0	2	->
water	61:35	0:0	2	info
water	62:4	0:0	2	info
op	62:8	0:0	2	.
water	62:9	0:0	2	has_hide_mouse
op	62:24	0:0	2	=
water	62:26	0:0	2	true
water	62:30	0:0	2	;
water	64:4	0:0	2	vd
op	64:6	0:0	2	->
water	64:8	0:0	2	fmt
op	64:16	0:0	2	=
water	64:18	0:0	2	fmt
water	64:21	0:0	2	;
water	65:4	0:0	2	vd
op	65:6	0:0	2	->
water	65:8	0:0	2	info
op	65:16	0:0	2	=
water	65:18	0:0	2	info
water	65:22	0:0	2	;
water	66:4	0:0	2	vd
op	66:6	0:0	2	->
water	66:8	0:0	2	pool
op	66:16	0:0	2	=
water	66:18	0:0	2	Pool
water	66:22	0:0	2	;
water	67:4	0:0	2	vd
op	67:6	0:0	2	->
water	67:8	0:0	2	prepare
op	67:16	0:0	2	=
water	67:18	0:0	2	NULL
water	67:22	0:0	2	;
water	68:4	0:0	2	vd
op	68:6	0:0	2	->
water	68:8	0:0	2	display
op	68:16	0:0	2	=
water	68:18	0:0	2	Display
water	68:25	0:0	2	;
water	69:4	0:0	2	vd
op	69:6	0:0	2	->
water	69:8	0:0	2	control
op	69:16	0:0	2	=
water	69:18	0:0	2	Control
water	69:25	0:0	2	;
water	70:4	0:0	2	vd
op	70:6	0:0	2	->
water	70:8	0:0	2	manage
op	70:16	0:0	2	=
water	70:18	0:0	2	NULL
water	70:22	0:0	2	;
call	72:4	72:45	2	vout_display_SendEventFullscreen
arg	72:37	72:39	3	vd
water	72:37	0:0	4	vd
arg	72:41	72:45	3	true
water	72:41	0:0	4	true
water	72:46	0:0	2	;
call	73:4	73:73	2	vout_display_SendEventDisplaySize
arg	73:38	73:40	3	vd
water	73:38	0:0	4	vd
arg	73:42	73:53	3	fmt.i_width
water	73:42	0:0	4	fmt
op	73:45	0:0	4	.
water	73:46	0:0	4	i_width
arg	73:55	73:67	3	fmt.i_height
water	73:55	0:0	4	fmt
op	73:58	0:0	4	.
water	73:59	0:0	4	i_height
arg	73:69	73:73	3	true
water	73:69	0:0	4	true
water	73:74	0:0	2	;
return	74:4	74:22	2	VLC_SUCCESS
water	74:11	0:0	3	VLC_SUCCESS
label	75:0	75:5	2	error :
call	76:4	76:47	2	msg_Err
arg	76:12	76:14	3	vd
water	76:12	0:0	4	vd
arg	76:16	76:47	3	"Cannot create primary surface"
water	76:16	0:0	4	"Cannot create primary surface"
water	76:48	0:0	2	;
call	77:4	77:24	2	Close
arg	77:10	77:24	3	VLC_OBJECT(vd)
call	77:10	77:23	4	VLC_OBJECT
arg	77:21	77:23	5	vd
water	77:21	0:0	6	vd
water	77:25	0:0	2	;
return	78:4	78:23	2	VLC_EGENERIC
water	78:11	0:0	3	VLC_EGENERIC
