func	2:0	49:0	0	static void	create_SDP
params	2:22	0:0	1	
param	2:23	2:46	2	sout_stream_t *	p_stream
param	2:48	2:75	2	sout_access_out_t *	p_access
stmnts	0:0	48:16	1	
decl	4:4	4:48	2	sout_stream_sys_t	*p_sys
op	4:31	0:0	2	=
water	4:33	0:0	2	p_stream
op	4:41	0:0	2	->
water	4:43	0:0	2	p_sys
water	5:4	0:0	2	static
water	5:11	0:0	2	const
water	5:17	0:0	2	struct
water	5:24	0:0	2	addrinfo
water	5:33	0:0	2	hints
op	5:39	0:0	2	=
water	5:41	0:0	2	{
op	6:8	0:0	2	.
water	6:9	0:0	2	ai_family
op	6:19	0:0	2	=
water	6:21	0:0	2	AF_UNSPEC
water	6:30	0:0	2	,
op	7:8	0:0	2	.
water	7:9	0:0	2	ai_socktype
op	7:21	0:0	2	=
water	7:23	0:0	2	SOCK_DGRAM
water	7:33	0:0	2	,
op	8:8	0:0	2	.
water	8:9	0:0	2	ai_protocol
op	8:21	0:0	2	=
water	8:23	0:0	2	0
water	8:24	0:0	2	,
op	9:8	0:0	2	.
water	9:9	0:0	2	ai_flags
op	9:18	0:0	2	=
water	9:20	0:0	2	AI_NUMERICHOST
op	9:35	0:0	2	|
water	9:37	0:0	2	AI_NUMERICSERV
op	9:52	0:0	2	|
water	9:54	0:0	2	AI_IDN
water	9:60	0:0	2	,
water	10:4	0:0	2	}
water	10:5	0:0	2	;
decl	11:4	11:62	2	char	*shost
op	11:16	0:0	2	=
call	11:18	11:61	3	var_GetNonEmptyString
arg	11:41	11:49	4	p_access
water	11:41	0:0	5	p_access
arg	11:51	11:61	4	"src-addr"
water	11:51	0:0	5	"src-addr"
decl	12:4	12:62	2	char	*dhost
op	12:16	0:0	2	=
call	12:18	12:61	3	var_GetNonEmptyString
arg	12:41	12:49	4	p_access
water	12:41	0:0	5	p_access
arg	12:51	12:61	4	"dst-addr"
water	12:51	0:0	5	"dst-addr"
decl	13:4	13:53	2	int	sport
op	13:14	0:0	2	=
call	13:16	13:52	3	var_GetInteger
arg	13:32	13:40	4	p_access
water	13:32	0:0	5	p_access
arg	13:42	13:52	4	"src-port"
water	13:42	0:0	5	"src-port"
decl	14:4	14:53	2	int	dport
op	14:14	0:0	2	=
call	14:16	14:52	3	var_GetInteger
arg	14:32	14:40	4	p_access
water	14:32	0:0	5	p_access
arg	14:42	14:52	4	"dst-port"
water	14:42	0:0	5	"dst-port"
decl	15:4	15:36	2	struct sockaddr_storage	src
water	15:31	0:0	2	,
decl	15:4	15:36	2	struct sockaddr_storage	dst
decl	16:4	16:36	2	socklen_t	srclen
op	16:21	0:0	2	=
water	16:23	0:0	2	0
water	16:24	0:0	2	,
decl	16:4	16:36	2	socklen_t	dstlen
op	16:33	0:0	2	=
water	16:35	0:0	2	0
decl	17:4	17:24	2	struct addrinfo	*res
if	18:4	22:4	2	(!vlc_getaddrinfo (dhost ,dport ,& hints ,& res ))
cond	18:8	18:52	3	!vlc_getaddrinfo (dhost ,dport ,& hints ,& res )
op	18:8	0:0	4	!
call	18:9	18:52	4	vlc_getaddrinfo
arg	18:26	18:31	5	dhost
water	18:26	0:0	6	dhost
arg	18:33	18:38	5	dport
water	18:33	0:0	6	dport
arg	18:40	18:46	5	&hints
op	18:40	0:0	6	&
water	18:41	0:0	6	hints
arg	18:48	18:52	5	&res
op	18:48	0:0	6	&
water	18:49	0:0	6	res
stmts	19:4	22:4	3	
water	19:4	0:0	4	{
call	20:8	20:60	4	memcpy
arg	20:16	20:20	5	&dst
op	20:16	0:0	6	&
water	20:17	0:0	6	dst
arg	20:22	20:34	5	res->ai_addr
water	20:22	0:0	6	res
op	20:25	0:0	6	->
water	20:27	0:0	6	ai_addr
arg	20:36	20:60	5	dstlen=res->ai_addrlen
water	20:36	0:0	6	dstlen
op	20:43	0:0	6	=
water	20:45	0:0	6	res
op	20:48	0:0	6	->
water	20:50	0:0	6	ai_addrlen
water	20:61	0:0	4	;
call	21:8	21:25	4	freeaddrinfo
arg	21:22	21:25	5	res
water	21:22	0:0	6	res
water	21:26	0:0	4	;
water	22:4	0:0	4	}
if	23:4	27:4	2	(!vlc_getaddrinfo (shost ,sport ,& hints ,& res ))
cond	23:8	23:52	3	!vlc_getaddrinfo (shost ,sport ,& hints ,& res )
op	23:8	0:0	4	!
call	23:9	23:52	4	vlc_getaddrinfo
arg	23:26	23:31	5	shost
water	23:26	0:0	6	shost
arg	23:33	23:38	5	sport
water	23:33	0:0	6	sport
arg	23:40	23:46	5	&hints
op	23:40	0:0	6	&
water	23:41	0:0	6	hints
arg	23:48	23:52	5	&res
op	23:48	0:0	6	&
water	23:49	0:0	6	res
stmts	24:4	27:4	3	
water	24:4	0:0	4	{
call	25:8	25:60	4	memcpy
arg	25:16	25:20	5	&src
op	25:16	0:0	6	&
water	25:17	0:0	6	src
arg	25:22	25:34	5	res->ai_addr
water	25:22	0:0	6	res
op	25:25	0:0	6	->
water	25:27	0:0	6	ai_addr
arg	25:36	25:60	5	srclen=res->ai_addrlen
water	25:36	0:0	6	srclen
op	25:43	0:0	6	=
water	25:45	0:0	6	res
op	25:48	0:0	6	->
water	25:50	0:0	6	ai_addrlen
water	25:61	0:0	4	;
call	26:8	26:25	4	freeaddrinfo
arg	26:22	26:25	5	res
water	26:22	0:0	6	res
water	26:26	0:0	4	;
water	27:4	0:0	4	}
decl	28:4	30:44	2	char	*head
op	28:15	0:0	2	=
call	28:17	30:43	3	vlc_sdp_Start
arg	28:32	28:53	4	VLC_OBJECT(p_stream)
call	28:32	28:52	5	VLC_OBJECT
arg	28:44	28:52	6	p_stream
water	28:44	0:0	7	p_stream
arg	28:55	28:70	4	SOUT_CFG_PREFIX
water	28:55	0:0	5	SOUT_CFG_PREFIX
arg	29:12	29:35	4	(structsockaddr*)&src
water	29:12	0:0	5	(
water	29:13	0:0	5	struct
water	29:20	0:0	5	sockaddr
op	29:29	0:0	5	*
water	29:30	0:0	5	)
op	29:31	0:0	5	&
water	29:32	0:0	5	src
arg	29:37	29:43	4	srclen
water	29:37	0:0	5	srclen
arg	30:12	30:35	4	(structsockaddr*)&dst
water	30:12	0:0	5	(
water	30:13	0:0	5	struct
water	30:20	0:0	5	sockaddr
op	30:29	0:0	5	*
water	30:30	0:0	5	)
op	30:31	0:0	5	&
water	30:32	0:0	5	dst
arg	30:37	30:43	4	dstlen
water	30:37	0:0	5	dstlen
call	31:4	31:15	2	free
arg	31:10	31:15	3	shost
water	31:10	0:0	4	shost
water	31:16	0:0	2	;
if	32:4	47:4	2	(head != NULL)
cond	32:8	32:16	3	head != NULL
water	32:8	0:0	4	head
op	32:13	0:0	4	!=
water	32:16	0:0	4	NULL
stmts	33:4	47:4	3	
water	33:4	0:0	4	{
decl	34:8	34:28	4	char	*psz_sdp
op	34:22	0:0	4	=
water	34:24	0:0	4	NULL
if	35:8	37:26	4	(asprintf (& psz_sdp ,"%s" "m=video %d udp mpeg\r\n" ,head ,dport ) == - 1)
cond	35:12	36:64	5	asprintf (& psz_sdp ,"%s" "m=video %d udp mpeg\r\n" ,head ,dport ) == - 1
call	35:12	36:58	6	asprintf
arg	35:22	35:30	7	&psz_sdp
op	35:22	0:0	8	&
water	35:23	0:0	8	psz_sdp
arg	35:32	36:45	7	"%s""m=video %d udp mpeg\r\n"
water	35:32	0:0	8	"%s"
water	36:20	0:0	8	"m=video %d udp mpeg\r\n"
arg	36:47	36:51	7	head
water	36:47	0:0	8	head
arg	36:53	36:58	7	dport
water	36:53	0:0	8	dport
op	36:60	0:0	6	==
op	36:63	0:0	6	-
water	36:64	0:0	6	1
stmts	37:12	37:26	5	
water	37:12	0:0	6	psz_sdp
op	37:20	0:0	6	=
water	37:22	0:0	6	NULL
water	37:26	0:0	6	;
call	38:8	38:18	4	free
arg	38:14	38:18	5	head
water	38:14	0:0	6	head
water	38:19	0:0	4	;
if	40:8	46:8	4	(psz_sdp)
cond	40:12	40:12	5	psz_sdp
water	40:12	0:0	6	psz_sdp
stmts	41:8	46:8	5	
water	41:8	0:0	6	{
call	42:12	42:60	6	msg_Dbg
arg	42:21	42:29	7	p_stream
water	42:21	0:0	8	p_stream
arg	42:31	42:51	7	"Generated SDP:\n%s"
water	42:31	0:0	8	"Generated SDP:\n%s"
arg	42:53	42:60	7	psz_sdp
water	42:53	0:0	8	psz_sdp
water	42:61	0:0	6	;
water	43:12	0:0	6	p_sys
op	43:17	0:0	6	->
water	43:19	0:0	6	p_session
op	43:29	0:0	6	=
call	44:16	44:66	6	sout_AnnounceRegisterSDP
arg	44:42	44:50	7	p_stream
water	44:42	0:0	8	p_stream
arg	44:52	44:59	7	psz_sdp
water	44:52	0:0	8	psz_sdp
arg	44:61	44:66	7	dhost
water	44:61	0:0	8	dhost
water	44:67	0:0	6	;
call	45:12	45:26	6	free
arg	45:18	45:26	7	psz_sdp
water	45:18	0:0	8	psz_sdp
water	45:27	0:0	6	;
water	46:8	0:0	6	}
water	47:4	0:0	4	}
call	48:4	48:15	2	free
arg	48:10	48:15	3	dhost
water	48:10	0:0	4	dhost
water	48:16	0:0	2	;
