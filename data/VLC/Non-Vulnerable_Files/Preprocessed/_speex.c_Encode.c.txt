func	2:0	73:0	0	static block_t *	Encode
params	2:22	0:0	1	
param	2:24	2:40	2	encoder_t *	p_enc
param	2:42	2:62	2	block_t *	p_aout_buf
stmnts	0:0	72:18	1	
decl	4:4	4:39	2	encoder_sys_t	*p_sys
op	4:25	0:0	2	=
water	4:27	0:0	2	p_enc
op	4:32	0:0	2	->
water	4:34	0:0	2	p_sys
decl	5:4	5:37	2	block_t	*p_block
water	5:20	0:0	2	,
decl	5:4	5:37	2	block_t	*p_chain
op	5:31	0:0	2	=
water	5:33	0:0	2	NULL
if	7:4	7:45	2	(unlikely (! p_aout_buf ))
cond	7:8	7:30	3	unlikely (! p_aout_buf )
call	7:8	7:30	4	unlikely
arg	7:18	7:30	5	!p_aout_buf
op	7:18	0:0	6	!
water	7:19	0:0	6	p_aout_buf
stmts	7:34	7:45	3	
return	7:34	7:45	4	NULL
water	7:41	0:0	5	NULL
decl	8:4	8:50	2	unsigned char	*p_buffer
op	8:28	0:0	2	=
water	8:30	0:0	2	p_aout_buf
op	8:40	0:0	2	->
water	8:42	0:0	2	p_buffer
water	9:4	0:0	2	unsigned
water	9:13	0:0	2	i_samples
op	9:23	0:0	2	=
water	9:25	0:0	2	p_aout_buf
op	9:35	0:0	2	->
water	9:37	0:0	2	i_nb_samples
water	9:49	0:0	2	;
decl	10:4	10:48	2	int	i_samples_delay
op	10:24	0:0	2	=
water	10:26	0:0	2	p_sys
op	10:31	0:0	2	->
water	10:33	0:0	2	i_samples_delay
decl	11:4	13:51	2	mtime_t	i_pts
op	11:18	0:0	2	=
water	11:20	0:0	2	p_aout_buf
op	11:30	0:0	2	->
water	11:32	0:0	2	i_pts
op	11:38	0:0	2	-
water	12:16	0:0	2	(
water	12:17	0:0	2	mtime_t
water	12:24	0:0	2	)
water	12:25	0:0	2	1000000
op	12:33	0:0	2	*
water	12:35	0:0	2	(
water	12:36	0:0	2	mtime_t
water	12:43	0:0	2	)
water	12:44	0:0	2	p_sys
op	12:49	0:0	2	->
water	12:51	0:0	2	i_samples_delay
op	12:67	0:0	2	/
water	13:16	0:0	2	(
water	13:17	0:0	2	mtime_t
water	13:24	0:0	2	)
water	13:25	0:0	2	p_enc
op	13:30	0:0	2	->
water	13:32	0:0	2	fmt_in
op	13:38	0:0	2	.
water	13:39	0:0	2	audio
op	13:44	0:0	2	.
water	13:45	0:0	2	i_rate
water	14:4	0:0	2	p_sys
op	14:9	0:0	2	->
water	14:11	0:0	2	i_samples_delay
op	14:27	0:0	2	+=
water	14:30	0:0	2	i_samples
water	14:39	0:0	2	;
while	15:4	64:4	2	(p_sys -> i_samples_delay >= p_sys -> i_frame_length)
cond	15:11	15:44	3	p_sys -> i_samples_delay >= p_sys -> i_frame_length
water	15:11	0:0	4	p_sys
op	15:16	0:0	4	->
water	15:18	0:0	4	i_samples_delay
op	15:34	0:0	4	>=
water	15:37	0:0	4	p_sys
op	15:42	0:0	4	->
water	15:44	0:0	4	i_frame_length
stmts	16:4	64:4	3	
water	16:4	0:0	4	{
decl	17:8	17:26	4	int16_t	*p_samples
decl	18:8	18:17	4	int	i_out
if	19:8	30:8	4	(i_samples_delay)
cond	19:12	19:12	5	i_samples_delay
water	19:12	0:0	6	i_samples_delay
stmts	20:8	30:8	5	
water	20:8	0:0	6	{
decl	22:12	23:63	6	int	i_delay_size
op	22:29	0:0	6	=
water	22:31	0:0	6	i_samples_delay
op	22:47	0:0	6	*
water	22:49	0:0	6	2
op	22:51	0:0	6	*
water	23:33	0:0	6	p_enc
op	23:38	0:0	6	->
water	23:40	0:0	6	fmt_in
op	23:46	0:0	6	.
water	23:47	0:0	6	audio
op	23:52	0:0	6	.
water	23:53	0:0	6	i_channels
decl	24:12	24:59	6	int	i_size
op	24:23	0:0	6	=
water	24:25	0:0	6	p_sys
op	24:30	0:0	6	->
water	24:32	0:0	6	i_frame_size
op	24:45	0:0	6	-
water	24:47	0:0	6	i_delay_size
water	25:12	0:0	6	p_samples
op	25:22	0:0	6	=
water	25:24	0:0	6	(
water	25:25	0:0	6	int16_t
op	25:33	0:0	6	*
water	25:34	0:0	6	)
water	25:35	0:0	6	p_sys
op	25:40	0:0	6	->
water	25:42	0:0	6	p_buffer
water	25:50	0:0	6	;
call	26:12	26:69	6	memcpy
arg	26:20	26:50	7	p_sys->p_buffer+i_delay_size
water	26:20	0:0	8	p_sys
op	26:25	0:0	8	->
water	26:27	0:0	8	p_buffer
op	26:36	0:0	8	+
water	26:38	0:0	8	i_delay_size
arg	26:52	26:60	7	p_buffer
water	26:52	0:0	8	p_buffer
arg	26:62	26:69	7	i_size
water	26:62	0:0	8	i_size
water	26:70	0:0	6	;
water	27:12	0:0	6	p_buffer
op	27:21	0:0	6	-=
water	27:24	0:0	6	i_delay_size
water	27:36	0:0	6	;
water	28:12	0:0	6	i_samples
op	28:22	0:0	6	+=
water	28:25	0:0	6	i_samples_delay
water	28:40	0:0	6	;
water	29:12	0:0	6	i_samples_delay
op	29:28	0:0	6	=
water	29:30	0:0	6	0
water	29:31	0:0	6	;
water	30:8	0:0	6	}
else	31:8	34:8	4
stmts	32:8	34:8	5	
water	32:8	0:0	6	{
water	33:12	0:0	6	p_samples
op	33:22	0:0	6	=
water	33:24	0:0	6	(
water	33:25	0:0	6	int16_t
op	33:33	0:0	6	*
water	33:34	0:0	6	)
water	33:35	0:0	6	p_buffer
water	33:43	0:0	6	;
water	34:8	0:0	6	}
if	36:8	38:51	4	(p_enc -> fmt_in . audio . i_channels == 2)
cond	36:12	36:46	5	p_enc -> fmt_in . audio . i_channels == 2
water	36:12	0:0	6	p_enc
op	36:17	0:0	6	->
water	36:19	0:0	6	fmt_in
op	36:25	0:0	6	.
water	36:26	0:0	6	audio
op	36:31	0:0	6	.
water	36:32	0:0	6	i_channels
op	36:43	0:0	6	==
water	36:46	0:0	6	2
stmts	37:12	38:51	5	
call	37:12	38:50	6	speex_encode_stereo_int
arg	37:37	37:46	7	p_samples
water	37:37	0:0	8	p_samples
arg	37:48	37:69	7	p_sys->i_frame_length
water	37:48	0:0	8	p_sys
op	37:53	0:0	8	->
water	37:55	0:0	8	i_frame_length
arg	38:37	38:50	7	&p_sys->bits
op	38:37	0:0	8	&
water	38:38	0:0	8	p_sys
op	38:43	0:0	8	->
water	38:45	0:0	8	bits
water	38:51	0:0	6	;
if	40:8	41:66	4	(p_sys -> preprocess)
cond	40:12	40:19	5	p_sys -> preprocess
water	40:12	0:0	6	p_sys
op	40:17	0:0	6	->
water	40:19	0:0	6	preprocess
stmts	41:12	41:66	5	
call	41:12	41:65	6	speex_preprocess
arg	41:30	41:47	7	p_sys->preprocess
water	41:30	0:0	8	p_sys
op	41:35	0:0	8	->
water	41:37	0:0	8	preprocess
arg	41:49	41:58	7	p_samples
water	41:49	0:0	8	p_samples
arg	41:60	41:65	7	NULL
water	41:60	0:0	8	NULL
water	41:66	0:0	6	;
call	43:8	43:66	4	speex_encode_int
arg	43:26	43:40	5	p_sys->p_state
water	43:26	0:0	6	p_sys
op	43:31	0:0	6	->
water	43:33	0:0	6	p_state
arg	43:42	43:51	5	p_samples
water	43:42	0:0	6	p_samples
arg	43:53	43:66	5	&p_sys->bits
op	43:53	0:0	6	&
water	43:54	0:0	6	p_sys
op	43:59	0:0	6	->
water	43:61	0:0	6	bits
water	43:67	0:0	4	;
water	44:8	0:0	4	p_buffer
op	44:17	0:0	4	+=
water	44:20	0:0	4	p_sys
op	44:25	0:0	4	->
water	44:27	0:0	4	i_frame_size
water	44:39	0:0	4	;
water	45:8	0:0	4	p_sys
op	45:13	0:0	4	->
water	45:15	0:0	4	i_samples_delay
op	45:31	0:0	4	-=
water	45:34	0:0	4	p_sys
op	45:39	0:0	4	->
water	45:41	0:0	4	i_frame_length
water	45:55	0:0	4	;
water	46:8	0:0	4	i_samples
op	46:18	0:0	4	-=
water	46:21	0:0	4	p_sys
op	46:26	0:0	4	->
water	46:28	0:0	4	i_frame_length
water	46:42	0:0	4	;
water	47:8	0:0	4	p_sys
op	47:13	0:0	4	->
water	47:15	0:0	4	i_frames_in_packet
op	47:33	0:0	4	++
water	47:35	0:0	4	;
if	48:8	49:20	4	(p_sys -> i_frames_in_packet < p_sys -> header . frames_per_packet)
cond	48:12	48:54	5	p_sys -> i_frames_in_packet < p_sys -> header . frames_per_packet
water	48:12	0:0	6	p_sys
op	48:17	0:0	6	->
water	48:19	0:0	6	i_frames_in_packet
op	48:38	0:0	6	<
water	48:40	0:0	6	p_sys
op	48:45	0:0	6	->
water	48:47	0:0	6	header
op	48:53	0:0	6	.
water	48:54	0:0	6	frames_per_packet
stmts	49:12	49:20	5	
continue	49:12	49:20	6	
water	50:8	0:0	4	p_sys
op	50:13	0:0	4	->
water	50:15	0:0	4	i_frames_in_packet
op	50:34	0:0	4	=
water	50:36	0:0	4	0
water	50:37	0:0	4	;
call	51:8	51:51	4	speex_bits_insert_terminator
arg	51:38	51:51	5	&p_sys->bits
op	51:38	0:0	6	&
water	51:39	0:0	6	p_sys
op	51:44	0:0	6	->
water	51:46	0:0	6	bits
water	51:52	0:0	4	;
water	52:8	0:0	4	i_out
op	52:14	0:0	4	=
call	52:16	53:50	4	speex_bits_write
arg	52:34	52:46	5	&p_sys->bits
op	52:34	0:0	6	&
water	52:35	0:0	6	p_sys
op	52:40	0:0	6	->
water	52:42	0:0	6	bits
arg	52:48	52:67	5	p_sys->p_buffer_out
water	52:48	0:0	6	p_sys
op	52:53	0:0	6	->
water	52:55	0:0	6	p_buffer_out
arg	53:34	53:50	5	MAX_FRAME_BYTES
water	53:34	0:0	6	MAX_FRAME_BYTES
water	53:51	0:0	4	;
call	54:8	54:39	4	speex_bits_reset
arg	54:26	54:39	5	&p_sys->bits
op	54:26	0:0	6	&
water	54:27	0:0	6	p_sys
op	54:32	0:0	6	->
water	54:34	0:0	6	bits
water	54:40	0:0	4	;
water	55:8	0:0	4	p_block
op	55:16	0:0	4	=
call	55:18	55:37	4	block_Alloc
arg	55:31	55:37	5	i_out
water	55:31	0:0	6	i_out
water	55:38	0:0	4	;
call	56:8	56:62	4	memcpy
arg	56:16	56:33	5	p_block->p_buffer
water	56:16	0:0	6	p_block
op	56:23	0:0	6	->
water	56:25	0:0	6	p_buffer
arg	56:35	56:54	5	p_sys->p_buffer_out
water	56:35	0:0	6	p_sys
op	56:40	0:0	6	->
water	56:42	0:0	6	p_buffer_out
arg	56:56	56:62	5	i_out
water	56:56	0:0	6	i_out
water	56:63	0:0	4	;
water	57:8	0:0	4	p_block
op	57:15	0:0	4	->
water	57:17	0:0	4	i_length
op	57:26	0:0	4	=
water	57:28	0:0	4	(
water	57:29	0:0	4	mtime_t
water	57:36	0:0	4	)
water	57:37	0:0	4	1000000
op	57:45	0:0	4	*
water	58:12	0:0	4	(
water	58:13	0:0	4	mtime_t
water	58:20	0:0	4	)
water	58:21	0:0	4	p_sys
op	58:26	0:0	4	->
water	58:28	0:0	4	i_frame_length
op	58:43	0:0	4	*
water	58:45	0:0	4	p_sys
op	58:50	0:0	4	->
water	58:52	0:0	4	header
op	58:58	0:0	4	.
water	58:59	0:0	4	frames_per_packet
op	58:77	0:0	4	/
water	59:12	0:0	4	(
water	59:13	0:0	4	mtime_t
water	59:20	0:0	4	)
water	59:21	0:0	4	p_enc
op	59:26	0:0	4	->
water	59:28	0:0	4	fmt_in
op	59:34	0:0	4	.
water	59:35	0:0	4	audio
op	59:40	0:0	4	.
water	59:41	0:0	4	i_rate
water	59:47	0:0	4	;
water	60:8	0:0	4	p_block
op	60:15	0:0	4	->
water	60:17	0:0	4	i_dts
op	60:23	0:0	4	=
water	60:25	0:0	4	p_block
op	60:32	0:0	4	->
water	60:34	0:0	4	i_pts
op	60:40	0:0	4	=
water	60:42	0:0	4	i_pts
water	60:47	0:0	4	;
water	62:8	0:0	4	i_pts
op	62:14	0:0	4	+=
water	62:17	0:0	4	p_block
op	62:24	0:0	4	->
water	62:26	0:0	4	i_length
water	62:34	0:0	4	;
call	63:8	63:45	4	block_ChainAppend
arg	63:27	63:35	5	&p_chain
op	63:27	0:0	6	&
water	63:28	0:0	6	p_chain
arg	63:37	63:45	5	p_block
water	63:37	0:0	6	p_block
water	63:46	0:0	4	;
water	64:4	0:0	4	}
if	66:4	71:4	2	(i_samples)
cond	66:8	66:8	3	i_samples
water	66:8	0:0	4	i_samples
stmts	67:4	71:4	3	
water	67:4	0:0	4	{
call	68:8	70:63	4	memcpy
arg	68:16	69:46	5	p_sys->p_buffer+i_samples_delay*2*p_enc->fmt_in.audio.i_channels
water	68:16	0:0	6	p_sys
op	68:21	0:0	6	->
water	68:23	0:0	6	p_buffer
op	68:32	0:0	6	+
water	68:34	0:0	6	i_samples_delay
op	68:50	0:0	6	*
water	68:52	0:0	6	2
op	68:54	0:0	6	*
water	69:16	0:0	6	p_enc
op	69:21	0:0	6	->
water	69:23	0:0	6	fmt_in
op	69:29	0:0	6	.
water	69:30	0:0	6	audio
op	69:35	0:0	6	.
water	69:36	0:0	6	i_channels
arg	69:48	69:56	5	p_buffer
water	69:48	0:0	6	p_buffer
arg	70:16	70:63	5	i_samples*2*p_enc->fmt_in.audio.i_channels
water	70:16	0:0	6	i_samples
op	70:26	0:0	6	*
water	70:28	0:0	6	2
op	70:30	0:0	6	*
water	70:32	0:0	6	p_enc
op	70:37	0:0	6	->
water	70:39	0:0	6	fmt_in
op	70:45	0:0	6	.
water	70:46	0:0	6	audio
op	70:51	0:0	6	.
water	70:52	0:0	6	i_channels
water	70:64	0:0	4	;
water	71:4	0:0	4	}
return	72:4	72:18	2	p_chain
water	72:11	0:0	3	p_chain
