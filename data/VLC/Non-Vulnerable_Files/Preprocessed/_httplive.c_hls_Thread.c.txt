func	2:0	82:0	0	static void *	hls_Thread
params	2:23	0:0	1	
param	2:24	2:36	2	void *	p_this
stmnts	0:0	81:15	1	
decl	4:4	4:36	2	stream_t	*s
op	4:16	0:0	2	=
water	4:18	0:0	2	(
water	4:19	0:0	2	stream_t
op	4:28	0:0	2	*
water	4:29	0:0	2	)
water	4:30	0:0	2	p_this
decl	5:4	5:34	2	stream_sys_t	*p_sys
op	5:24	0:0	2	=
water	5:26	0:0	2	s
op	5:27	0:0	2	->
water	5:29	0:0	2	p_sys
for	6:4	80:4	2	(;;)
forinit	6:9	6:9	3	;
water	6:9	0:0	4	;
cond	0:0	0:0	3	
forexpr	0:0	0:0	3	
stmts	7:4	80:4	3	
water	7:4	0:0	4	{
decl	8:8	8:78	4	hls_stream_t	*hls
op	8:26	0:0	4	=
call	8:28	8:77	5	hls_Get
arg	8:36	8:53	6	p_sys->hls_stream
water	8:36	0:0	7	p_sys
op	8:41	0:0	7	->
water	8:43	0:0	7	hls_stream
arg	8:55	8:77	6	p_sys->download.stream
water	8:55	0:0	7	p_sys
op	8:60	0:0	7	->
water	8:62	0:0	7	download
op	8:70	0:0	7	.
water	8:71	0:0	7	stream
call	9:8	9:18	4	assert
arg	9:15	9:18	5	hls
water	9:15	0:0	6	hls
water	9:19	0:0	4	;
call	11:8	11:33	4	vlc_mutex_lock
arg	11:23	11:33	5	&hls->lock
op	11:23	0:0	6	&
water	11:24	0:0	6	hls
op	11:27	0:0	6	->
water	11:29	0:0	6	lock
water	11:34	0:0	4	;
decl	12:8	12:50	4	int	count
op	12:18	0:0	4	=
call	12:20	12:49	5	vlc_array_count
arg	12:36	12:49	6	hls->segments
water	12:36	0:0	7	hls
op	12:39	0:0	7	->
water	12:41	0:0	7	segments
call	13:8	13:35	4	vlc_mutex_unlock
arg	13:25	13:35	5	&hls->lock
op	13:25	0:0	6	&
water	13:26	0:0	6	hls
op	13:29	0:0	6	->
water	13:31	0:0	6	lock
water	13:36	0:0	4	;
if	15:8	43:8	4	(( ! p_sys -> b_live && ( p_sys -> playback . segment < ( count - 6 ) ) ) || ( p_sys -> download . segment >= count ))
cond	15:12	16:45	5	( ! p_sys -> b_live && ( p_sys -> playback . segment < ( count - 6 ) ) ) || ( p_sys -> download . segment >= count )
water	15:12	0:0	6	(
op	15:13	0:0	6	!
water	15:14	0:0	6	p_sys
op	15:19	0:0	6	->
water	15:21	0:0	6	b_live
op	15:28	0:0	6	&&
water	15:31	0:0	6	(
water	15:32	0:0	6	p_sys
op	15:37	0:0	6	->
water	15:39	0:0	6	playback
op	15:47	0:0	6	.
water	15:48	0:0	6	segment
op	15:56	0:0	6	<
water	15:58	0:0	6	(
water	15:59	0:0	6	count
op	15:65	0:0	6	-
water	15:67	0:0	6	6
water	15:68	0:0	6	)
water	15:69	0:0	6	)
water	15:70	0:0	6	)
op	15:72	0:0	6	||
water	16:12	0:0	6	(
water	16:13	0:0	6	p_sys
op	16:18	0:0	6	->
water	16:20	0:0	6	download
op	16:28	0:0	6	.
water	16:29	0:0	6	segment
op	16:37	0:0	6	>=
water	16:40	0:0	6	count
water	16:45	0:0	6	)
stmts	17:8	43:8	5	
water	17:8	0:0	6	{
call	19:12	19:53	6	vlc_mutex_lock
arg	19:27	19:53	7	&p_sys->download.lock_wait
op	19:27	0:0	8	&
water	19:28	0:0	8	p_sys
op	19:33	0:0	8	->
water	19:35	0:0	8	download
op	19:43	0:0	8	.
water	19:44	0:0	8	lock_wait
water	19:54	0:0	6	;
call	20:12	20:57	6	mutex_cleanup_push
arg	20:31	20:57	7	&p_sys->download.lock_wait
op	20:31	0:0	8	&
water	20:32	0:0	8	p_sys
op	20:37	0:0	8	->
water	20:39	0:0	8	download
op	20:47	0:0	8	.
water	20:48	0:0	8	lock_wait
water	20:58	0:0	6	;
while	21:12	33:12	6	(( ( p_sys -> download . segment - p_sys -> playback . segment > 6 ) || ( p_sys -> download . segment >= count ) ) && ( p_sys -> download . seek == - 1 ))
cond	21:19	23:46	7	( ( p_sys -> download . segment - p_sys -> playback . segment > 6 ) || ( p_sys -> download . segment >= count ) ) && ( p_sys -> download . seek == - 1 )
water	21:19	0:0	8	(
water	21:20	0:0	8	(
water	21:21	0:0	8	p_sys
op	21:26	0:0	8	->
water	21:28	0:0	8	download
op	21:36	0:0	8	.
water	21:37	0:0	8	segment
op	21:45	0:0	8	-
water	21:47	0:0	8	p_sys
op	21:52	0:0	8	->
water	21:54	0:0	8	playback
op	21:62	0:0	8	.
water	21:63	0:0	8	segment
op	21:71	0:0	8	>
water	21:73	0:0	8	6
water	21:74	0:0	8	)
op	21:76	0:0	8	||
water	22:20	0:0	8	(
water	22:21	0:0	8	p_sys
op	22:26	0:0	8	->
water	22:28	0:0	8	download
op	22:36	0:0	8	.
water	22:37	0:0	8	segment
op	22:45	0:0	8	>=
water	22:48	0:0	8	count
water	22:53	0:0	8	)
water	22:54	0:0	8	)
op	22:56	0:0	8	&&
water	23:19	0:0	8	(
water	23:20	0:0	8	p_sys
op	23:25	0:0	8	->
water	23:27	0:0	8	download
op	23:35	0:0	8	.
water	23:36	0:0	8	seek
op	23:41	0:0	8	==
op	23:44	0:0	8	-
water	23:45	0:0	8	1
water	23:46	0:0	8	)
stmts	24:12	33:12	7	
water	24:12	0:0	8	{
if	25:16	29:16	8	(! p_sys -> b_live && p_sys -> download . segment >= count)
cond	25:19	25:64	9	! p_sys -> b_live && p_sys -> download . segment >= count
op	25:19	0:0	10	!
water	25:20	0:0	10	p_sys
op	25:25	0:0	10	->
water	25:27	0:0	10	b_live
op	25:34	0:0	10	&&
water	25:37	0:0	10	p_sys
op	25:42	0:0	10	->
water	25:44	0:0	10	download
op	25:52	0:0	10	.
water	25:53	0:0	10	segment
op	25:61	0:0	10	>=
water	25:64	0:0	10	count
stmts	26:16	29:16	9	
water	26:16	0:0	10	{
call	28:20	28:50	10	atomic_store
arg	28:33	28:44	11	&p_sys->eof
op	28:33	0:0	12	&
water	28:34	0:0	12	p_sys
op	28:39	0:0	12	->
water	28:41	0:0	12	eof
arg	28:46	28:50	11	true
water	28:46	0:0	12	true
water	28:51	0:0	10	;
water	29:16	0:0	10	}
call	30:16	30:79	8	vlc_cond_wait
arg	30:30	30:51	9	&p_sys->download.wait
op	30:30	0:0	10	&
water	30:31	0:0	10	p_sys
op	30:36	0:0	10	->
water	30:38	0:0	10	download
op	30:46	0:0	10	.
water	30:47	0:0	10	wait
arg	30:53	30:79	9	&p_sys->download.lock_wait
op	30:53	0:0	10	&
water	30:54	0:0	10	p_sys
op	30:59	0:0	10	->
water	30:61	0:0	10	download
op	30:69	0:0	10	.
water	30:70	0:0	10	lock_wait
water	30:80	0:0	8	;
if	31:16	32:25	8	(p_sys -> b_live)
cond	31:20	31:27	9	p_sys -> b_live
water	31:20	0:0	10	p_sys
op	31:25	0:0	10	->
water	31:27	0:0	10	b_live
stmts	32:20	32:25	9	
break	32:20	32:25	10	
water	33:12	0:0	8	}
call	34:12	34:29	6	vlc_cleanup_pop
water	34:30	0:0	6	;
if	36:12	41:12	6	(p_sys -> download . seek >= 0)
cond	36:16	36:40	7	p_sys -> download . seek >= 0
water	36:16	0:0	8	p_sys
op	36:21	0:0	8	->
water	36:23	0:0	8	download
op	36:31	0:0	8	.
water	36:32	0:0	8	seek
op	36:37	0:0	8	>=
water	36:40	0:0	8	0
stmts	37:12	41:12	7	
water	37:12	0:0	8	{
water	38:16	0:0	8	p_sys
op	38:21	0:0	8	->
water	38:23	0:0	8	download
op	38:31	0:0	8	.
water	38:32	0:0	8	segment
op	38:40	0:0	8	=
water	38:42	0:0	8	p_sys
op	38:47	0:0	8	->
water	38:49	0:0	8	download
op	38:57	0:0	8	.
water	38:58	0:0	8	seek
water	38:62	0:0	8	;
water	39:16	0:0	8	p_sys
op	39:21	0:0	8	->
water	39:23	0:0	8	download
op	39:31	0:0	8	.
water	39:32	0:0	8	seek
op	39:37	0:0	8	=
op	39:39	0:0	8	-
water	39:40	0:0	8	1
water	39:41	0:0	8	;
call	40:16	40:47	8	atomic_store
arg	40:29	40:40	9	&p_sys->eof
op	40:29	0:0	10	&
water	40:30	0:0	10	p_sys
op	40:35	0:0	10	->
water	40:37	0:0	10	eof
arg	40:42	40:47	9	false
water	40:42	0:0	10	false
water	40:48	0:0	8	;
water	41:12	0:0	8	}
call	42:12	42:55	6	vlc_mutex_unlock
arg	42:29	42:55	7	&p_sys->download.lock_wait
op	42:29	0:0	8	&
water	42:30	0:0	8	p_sys
op	42:35	0:0	8	->
water	42:37	0:0	8	download
op	42:45	0:0	8	.
water	42:46	0:0	8	lock_wait
water	42:56	0:0	6	;
water	43:8	0:0	6	}
call	44:8	44:35	4	vlc_mutex_lock
arg	44:23	44:35	5	&p_sys->lock
op	44:23	0:0	6	&
water	44:24	0:0	6	p_sys
op	44:29	0:0	6	->
water	44:31	0:0	6	lock
water	44:36	0:0	4	;
call	45:8	45:39	4	mutex_cleanup_push
arg	45:27	45:39	5	&p_sys->lock
op	45:27	0:0	6	&
water	45:28	0:0	6	p_sys
op	45:33	0:0	6	->
water	45:35	0:0	6	lock
water	45:40	0:0	4	;
while	46:8	47:53	4	(p_sys -> paused)
cond	46:15	46:22	5	p_sys -> paused
water	46:15	0:0	6	p_sys
op	46:20	0:0	6	->
water	46:22	0:0	6	paused
stmts	47:12	47:53	5	
call	47:12	47:52	6	vlc_cond_wait
arg	47:26	47:38	7	&p_sys->wait
op	47:26	0:0	8	&
water	47:27	0:0	8	p_sys
op	47:32	0:0	8	->
water	47:34	0:0	8	wait
arg	47:40	47:52	7	&p_sys->lock
op	47:40	0:0	8	&
water	47:41	0:0	8	p_sys
op	47:46	0:0	8	->
water	47:48	0:0	8	lock
water	47:53	0:0	6	;
call	48:8	48:25	4	vlc_cleanup_run
water	48:26	0:0	4	;
call	49:8	49:33	4	vlc_mutex_lock
arg	49:23	49:33	5	&hls->lock
op	49:23	0:0	6	&
water	49:24	0:0	6	hls
op	49:27	0:0	6	->
water	49:29	0:0	6	lock
water	49:34	0:0	4	;
decl	50:8	50:77	4	segment_t	*segment
op	50:27	0:0	4	=
call	50:29	50:76	5	segment_GetSegment
arg	50:48	50:51	6	hls
water	50:48	0:0	7	hls
arg	50:53	50:76	6	p_sys->download.segment
water	50:53	0:0	7	p_sys
op	50:58	0:0	7	->
water	50:60	0:0	7	download
op	50:68	0:0	7	.
water	50:69	0:0	7	segment
call	51:8	51:35	4	vlc_mutex_unlock
arg	51:25	51:35	5	&hls->lock
op	51:25	0:0	6	&
water	51:26	0:0	6	hls
op	51:29	0:0	6	->
water	51:31	0:0	6	lock
water	51:36	0:0	4	;
decl	52:8	52:37	4	int	i_canc
op	52:19	0:0	4	=
call	52:21	52:36	5	vlc_savecancel
if	53:8	61:8	4	(( segment != NULL ) && (hls_DownloadSegmentData (s ,hls ,segment ,& p_sys -> download . stream ) != VLC_SUCCESS ))
cond	53:12	54:93	5	( segment != NULL ) && (hls_DownloadSegmentData (s ,hls ,segment ,& p_sys -> download . stream ) != VLC_SUCCESS )
water	53:12	0:0	6	(
water	53:13	0:0	6	segment
op	53:21	0:0	6	!=
water	53:24	0:0	6	NULL
water	53:28	0:0	6	)
op	53:30	0:0	6	&&
water	54:12	0:0	6	(
call	54:13	54:77	6	hls_DownloadSegmentData
arg	54:37	54:38	7	s
water	54:37	0:0	8	s
arg	54:40	54:43	7	hls
water	54:40	0:0	8	hls
arg	54:45	54:52	7	segment
water	54:45	0:0	8	segment
arg	54:54	54:77	7	&p_sys->download.stream
op	54:54	0:0	8	&
water	54:55	0:0	8	p_sys
op	54:60	0:0	8	->
water	54:62	0:0	8	download
op	54:70	0:0	8	.
water	54:71	0:0	8	stream
op	54:79	0:0	6	!=
water	54:82	0:0	6	VLC_SUCCESS
water	54:93	0:0	6	)
stmts	55:8	61:8	5	
water	55:8	0:0	6	{
if	56:12	60:12	6	(! p_sys -> b_live)
cond	56:16	56:24	7	! p_sys -> b_live
op	56:16	0:0	8	!
water	56:17	0:0	8	p_sys
op	56:22	0:0	8	->
water	56:24	0:0	8	b_live
stmts	57:12	60:12	7	
water	57:12	0:0	8	{
water	58:16	0:0	8	p_sys
op	58:21	0:0	8	->
water	58:23	0:0	8	b_error
op	58:31	0:0	8	=
water	58:33	0:0	8	true
water	58:37	0:0	8	;
break	59:16	59:21	8	
water	60:12	0:0	8	}
water	61:8	0:0	6	}
call	62:8	62:32	4	vlc_restorecancel
arg	62:26	62:32	5	i_canc
water	62:26	0:0	6	i_canc
water	62:33	0:0	4	;
call	65:8	65:49	4	vlc_mutex_lock
arg	65:23	65:49	5	&p_sys->download.lock_wait
op	65:23	0:0	6	&
water	65:24	0:0	6	p_sys
op	65:29	0:0	6	->
water	65:31	0:0	6	download
op	65:39	0:0	6	.
water	65:40	0:0	6	lock_wait
water	65:50	0:0	4	;
if	66:8	70:8	4	(p_sys -> download . seek >= 0)
cond	66:12	66:36	5	p_sys -> download . seek >= 0
water	66:12	0:0	6	p_sys
op	66:17	0:0	6	->
water	66:19	0:0	6	download
op	66:27	0:0	6	.
water	66:28	0:0	6	seek
op	66:33	0:0	6	>=
water	66:36	0:0	6	0
stmts	67:8	70:8	5	
water	67:8	0:0	6	{
water	68:12	0:0	6	p_sys
op	68:17	0:0	6	->
water	68:19	0:0	6	download
op	68:27	0:0	6	.
water	68:28	0:0	6	segment
op	68:36	0:0	6	=
water	68:38	0:0	6	p_sys
op	68:43	0:0	6	->
water	68:45	0:0	6	download
op	68:53	0:0	6	.
water	68:54	0:0	6	seek
water	68:58	0:0	6	;
water	69:12	0:0	6	p_sys
op	69:17	0:0	6	->
water	69:19	0:0	6	download
op	69:27	0:0	6	.
water	69:28	0:0	6	seek
op	69:33	0:0	6	=
op	69:35	0:0	6	-
water	69:36	0:0	6	1
water	69:37	0:0	6	;
water	70:8	0:0	6	}
else	71:8	72:37	4
stmts	71:13	72:37	5	
if	71:13	72:37	6	(p_sys -> download . segment < count)
cond	71:17	71:43	7	p_sys -> download . segment < count
water	71:17	0:0	8	p_sys
op	71:22	0:0	8	->
water	71:24	0:0	8	download
op	71:32	0:0	8	.
water	71:33	0:0	8	segment
op	71:41	0:0	8	<
water	71:43	0:0	8	count
stmts	72:12	72:37	7	
water	72:12	0:0	8	p_sys
op	72:17	0:0	8	->
water	72:19	0:0	8	download
op	72:27	0:0	8	.
water	72:28	0:0	8	segment
op	72:35	0:0	8	++
water	72:37	0:0	8	;
call	73:8	73:45	4	vlc_cond_signal
arg	73:24	73:45	5	&p_sys->download.wait
op	73:24	0:0	6	&
water	73:25	0:0	6	p_sys
op	73:30	0:0	6	->
water	73:32	0:0	6	download
op	73:40	0:0	6	.
water	73:41	0:0	6	wait
water	73:46	0:0	4	;
call	74:8	74:51	4	vlc_mutex_unlock
arg	74:25	74:51	5	&p_sys->download.lock_wait
op	74:25	0:0	6	&
water	74:26	0:0	6	p_sys
op	74:31	0:0	6	->
water	74:33	0:0	6	download
op	74:41	0:0	6	.
water	74:42	0:0	6	lock_wait
water	74:52	0:0	4	;
call	76:8	76:45	4	vlc_mutex_lock
arg	76:23	76:45	5	&p_sys->read.lock_wait
op	76:23	0:0	6	&
water	76:24	0:0	6	p_sys
op	76:29	0:0	6	->
water	76:31	0:0	6	read
op	76:35	0:0	6	.
water	76:36	0:0	6	lock_wait
water	76:46	0:0	4	;
call	77:8	77:41	4	vlc_cond_signal
arg	77:24	77:41	5	&p_sys->read.wait
op	77:24	0:0	6	&
water	77:25	0:0	6	p_sys
op	77:30	0:0	6	->
water	77:32	0:0	6	read
op	77:36	0:0	6	.
water	77:37	0:0	6	wait
water	77:42	0:0	4	;
call	78:8	78:47	4	vlc_mutex_unlock
arg	78:25	78:47	5	&p_sys->read.lock_wait
op	78:25	0:0	6	&
water	78:26	0:0	6	p_sys
op	78:31	0:0	6	->
water	78:33	0:0	6	read
op	78:37	0:0	6	.
water	78:38	0:0	6	lock_wait
water	78:48	0:0	4	;
call	79:8	79:23	4	vlc_testcancel
water	79:24	0:0	4	;
water	80:4	0:0	4	}
return	81:4	81:15	2	NULL
water	81:11	0:0	3	NULL
