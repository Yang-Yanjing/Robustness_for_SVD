func	2:0	44:0	0	static int	AddSource
params	2:21	0:0	1	
param	2:22	2:46	2	services_discovery_t *	sd
param	2:48	2:74	2	const pa_source_info *	info
stmnts	0:0	43:12	1	
decl	4:4	4:45	2	services_discovery_sys_t	*sys
op	4:34	0:0	2	=
water	4:36	0:0	2	sd
op	4:38	0:0	2	->
water	4:40	0:0	2	p_sys
call	5:4	5:64	2	msg_Dbg
arg	5:13	5:15	3	sd
water	5:13	0:0	4	sd
arg	5:17	5:33	3	"adding %s (%s)"
water	5:17	0:0	4	"adding %s (%s)"
arg	5:35	5:45	3	info->name
water	5:35	0:0	4	info
op	5:39	0:0	4	->
water	5:41	0:0	4	name
arg	5:47	5:64	3	info->description
water	5:47	0:0	4	info
op	5:51	0:0	4	->
water	5:53	0:0	4	description
water	5:65	0:0	2	;
decl	6:4	6:13	2	char	*mrl
if	7:4	8:17	2	(unlikely (asprintf (& mrl ,"pulse://%s" ,info -> name ) == - 1 ))
cond	7:8	7:64	3	unlikely (asprintf (& mrl ,"pulse://%s" ,info -> name ) == - 1 )
call	7:8	7:64	4	unlikely
arg	7:17	7:64	5	asprintf(&mrl,"pulse://%s",info->name)==-1
call	7:17	7:57	6	asprintf
arg	7:27	7:31	7	&mrl
op	7:27	0:0	8	&
water	7:28	0:0	8	mrl
arg	7:33	7:45	7	"pulse://%s"
water	7:33	0:0	8	"pulse://%s"
arg	7:47	7:57	7	info->name
water	7:47	0:0	8	info
op	7:51	0:0	8	->
water	7:53	0:0	8	name
op	7:59	0:0	6	==
op	7:62	0:0	6	-
water	7:63	0:0	6	1
stmts	8:8	8:17	3	
return	8:8	8:17	4	-1
op	8:15	0:0	5	-
water	8:16	0:0	5	1
decl	9:4	11:64	2	input_item_t	*item
op	9:23	0:0	2	=
call	9:25	11:63	3	input_item_NewWithType
arg	9:49	9:52	4	mrl
water	9:49	0:0	5	mrl
arg	9:54	9:71	4	info->description
water	9:54	0:0	5	info
op	9:58	0:0	5	->
water	9:60	0:0	5	description
arg	10:49	10:50	4	0
water	10:49	0:0	5	0
arg	10:52	10:56	4	NULL
water	10:52	0:0	5	NULL
arg	10:58	10:59	4	0
water	10:58	0:0	5	0
arg	10:61	10:63	4	-1
op	10:61	0:0	5	-
water	10:62	0:0	5	1
arg	11:49	11:63	4	ITEM_TYPE_CARD
water	11:49	0:0	5	ITEM_TYPE_CARD
call	12:4	12:13	2	free
arg	12:10	12:13	3	mrl
water	12:10	0:0	4	mrl
water	12:14	0:0	2	;
if	13:4	14:17	2	(unlikely (item == NULL ))
cond	13:8	13:29	3	unlikely (item == NULL )
call	13:8	13:29	4	unlikely
arg	13:17	13:29	5	item==NULL
water	13:17	0:0	6	item
op	13:22	0:0	6	==
water	13:25	0:0	6	NULL
stmts	14:8	14:17	3	
return	14:8	14:17	4	-1
op	14:15	0:0	5	-
water	14:16	0:0	5	1
decl	15:4	15:43	2	struct device	*d
op	15:21	0:0	2	=
call	15:23	15:42	3	malloc
arg	15:31	15:42	4	sizeof(*d)
op	15:31	0:0	5	sizeof
water	15:38	0:0	5	(
op	15:39	0:0	5	*
water	15:40	0:0	5	d
water	15:41	0:0	5	)
if	16:4	20:4	2	(unlikely (d == NULL ))
cond	16:8	16:26	3	unlikely (d == NULL )
call	16:8	16:26	4	unlikely
arg	16:17	16:26	5	d==NULL
water	16:17	0:0	6	d
op	16:19	0:0	6	==
water	16:22	0:0	6	NULL
stmts	17:4	20:4	3	
water	17:4	0:0	4	{
call	18:8	18:27	4	vlc_gc_decref
arg	18:23	18:27	5	item
water	18:23	0:0	6	item
water	18:28	0:0	4	;
return	19:8	19:17	4	-1
op	19:15	0:0	5	-
water	19:16	0:0	5	1
water	20:4	0:0	4	}
water	21:4	0:0	2	d
op	21:5	0:0	2	->
water	21:7	0:0	2	index
op	21:13	0:0	2	=
water	21:15	0:0	2	info
op	21:19	0:0	2	->
water	21:21	0:0	2	index
water	21:26	0:0	2	;
water	22:4	0:0	2	d
op	22:5	0:0	2	->
water	22:7	0:0	2	item
op	22:12	0:0	2	=
water	22:14	0:0	2	item
water	22:18	0:0	2	;
decl	23:4	23:56	2	struct device	**dp
op	23:23	0:0	2	=
call	23:25	23:55	3	tsearch
arg	23:34	23:35	4	d
water	23:34	0:0	5	d
arg	23:37	23:47	4	&sys->root
op	23:37	0:0	5	&
water	23:38	0:0	5	sys
op	23:41	0:0	5	->
water	23:43	0:0	5	root
arg	23:49	23:55	4	cmpsrc
water	23:49	0:0	5	cmpsrc
if	24:4	29:4	2	(dp == NULL)
cond	24:8	24:14	3	dp == NULL
water	24:8	0:0	4	dp
op	24:11	0:0	4	==
water	24:14	0:0	4	NULL
stmts	25:4	29:4	3	
water	25:4	0:0	4	{
call	26:8	26:15	4	free
arg	26:14	26:15	5	d
water	26:14	0:0	6	d
water	26:16	0:0	4	;
call	27:8	27:27	4	vlc_gc_decref
arg	27:23	27:27	5	item
water	27:23	0:0	6	item
water	27:28	0:0	4	;
return	28:8	28:17	4	-1
op	28:15	0:0	5	-
water	28:16	0:0	5	1
water	29:4	0:0	4	}
if	30:4	38:4	2	(* dp != d)
cond	30:8	30:15	3	* dp != d
op	30:8	0:0	4	*
water	30:9	0:0	4	dp
op	30:12	0:0	4	!=
water	30:15	0:0	4	d
stmts	31:4	38:4	3	
water	31:4	0:0	4	{
call	32:8	32:15	4	free
arg	32:14	32:15	5	d
water	32:14	0:0	6	d
water	32:16	0:0	4	;
water	33:8	0:0	4	d
op	33:10	0:0	4	=
op	33:12	0:0	4	*
water	33:13	0:0	4	dp
water	33:15	0:0	4	;
call	34:8	34:49	4	input_item_SetURI
arg	34:27	34:34	5	d->item
water	34:27	0:0	6	d
op	34:28	0:0	6	->
water	34:30	0:0	6	item
arg	34:36	34:49	5	item->psz_uri
water	34:36	0:0	6	item
op	34:40	0:0	6	->
water	34:42	0:0	6	psz_uri
water	34:50	0:0	4	;
call	35:8	35:51	4	input_item_SetName
arg	35:28	35:35	5	d->item
water	35:28	0:0	6	d
op	35:29	0:0	6	->
water	35:31	0:0	6	item
arg	35:37	35:51	5	item->psz_name
water	35:37	0:0	6	item
op	35:41	0:0	6	->
water	35:43	0:0	6	psz_name
water	35:52	0:0	4	;
call	36:8	36:27	4	vlc_gc_decref
arg	36:23	36:27	5	item
water	36:23	0:0	6	item
water	36:28	0:0	4	;
return	37:8	37:16	4	0
water	37:15	0:0	5	0
water	38:4	0:0	4	}
decl	39:4	39:78	2	const char	*card
op	39:21	0:0	2	=
call	39:23	39:77	3	pa_proplist_gets
arg	39:40	39:54	4	info->proplist
water	39:40	0:0	5	info
op	39:44	0:0	5	->
water	39:46	0:0	5	proplist
arg	39:56	39:77	4	"device.product.name"
water	39:56	0:0	5	"device.product.name"
call	40:4	41:69	2	services_discovery_AddItem
arg	40:32	40:34	3	sd
water	40:32	0:0	4	sd
arg	40:36	40:40	3	item
water	40:36	0:0	4	item
arg	41:32	41:69	3	(card!=NULL)?card:N_("Generic")
water	41:32	0:0	4	(
water	41:33	0:0	4	card
op	41:38	0:0	4	!=
water	41:41	0:0	4	NULL
water	41:45	0:0	4	)
water	41:47	0:0	4	?
water	41:49	0:0	4	card
water	41:54	0:0	4	:
call	41:56	41:68	4	N_
arg	41:59	41:68	5	"Generic"
water	41:59	0:0	6	"Generic"
water	41:70	0:0	2	;
water	42:4	0:0	2	d
op	42:5	0:0	2	->
water	42:7	0:0	2	sd
op	42:10	0:0	2	=
water	42:12	0:0	2	sd
water	42:14	0:0	2	;
return	43:4	43:12	2	0
water	43:11	0:0	3	0
