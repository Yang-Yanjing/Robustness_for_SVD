func	2:0	132:0	0	static int	DxCreateVideoDecoder
params	2:31	0:0	1	
param	2:32	2:44	2	vlc_va_t *	va
param	3:32	3:44	2	int	codec_id
param	3:46	3:71	2	const video_format_t *	fmt
stmnts	0:0	131:22	1	
decl	5:4	5:31	2	vlc_va_sys_t	*sys
op	5:22	0:0	2	=
water	5:24	0:0	2	va
op	5:26	0:0	2	->
water	5:28	0:0	2	sys
call	7:4	8:49	2	msg_Dbg
arg	7:12	7:14	3	va
water	7:12	0:0	4	va
arg	7:16	7:50	3	"DxCreateVideoDecoder id %d %dx%d"
water	7:16	0:0	4	"DxCreateVideoDecoder id %d %dx%d"
arg	8:12	8:20	3	codec_id
water	8:12	0:0	4	codec_id
arg	8:22	8:34	3	fmt->i_width
water	8:22	0:0	4	fmt
op	8:25	0:0	4	->
water	8:27	0:0	4	i_width
arg	8:36	8:49	3	fmt->i_height
water	8:36	0:0	4	fmt
op	8:39	0:0	4	->
water	8:41	0:0	4	i_height
water	8:50	0:0	2	;
water	9:4	0:0	2	sys
op	9:7	0:0	2	->
water	9:9	0:0	2	width
op	9:16	0:0	2	=
water	9:18	0:0	2	fmt
op	9:21	0:0	2	->
water	9:23	0:0	2	i_width
water	9:30	0:0	2	;
water	10:4	0:0	2	sys
op	10:7	0:0	2	->
water	10:9	0:0	2	height
op	10:16	0:0	2	=
water	10:18	0:0	2	fmt
op	10:21	0:0	2	->
water	10:23	0:0	2	i_height
water	10:31	0:0	2	;
water	12:4	0:0	2	sys
op	12:7	0:0	2	->
water	12:9	0:0	2	surface_width
op	12:24	0:0	2	=
water	12:26	0:0	2	(
water	12:27	0:0	2	fmt
op	12:30	0:0	2	->
water	12:32	0:0	2	i_width
op	12:41	0:0	2	+
water	12:43	0:0	2	15
water	12:45	0:0	2	)
op	12:47	0:0	2	&
water	12:49	0:0	2	~15
water	12:52	0:0	2	;
water	13:4	0:0	2	sys
op	13:7	0:0	2	->
water	13:9	0:0	2	surface_height
op	13:24	0:0	2	=
water	13:26	0:0	2	(
water	13:27	0:0	2	fmt
op	13:30	0:0	2	->
water	13:32	0:0	2	i_height
op	13:41	0:0	2	+
water	13:43	0:0	2	15
water	13:45	0:0	2	)
op	13:47	0:0	2	&
water	13:49	0:0	2	~15
water	13:52	0:0	2	;
decl	14:4	14:21	2	int	surface_count
switch	15:4	26:4	2	(codec_id)
cond	15:12	15:12	3	codec_id
water	15:12	0:0	4	codec_id
stmts	15:22	26:4	3	
water	15:22	0:0	4	{
label	16:4	16:25	4	case AV_CODEC_ID_H264 :
water	17:8	0:0	4	surface_count
op	17:22	0:0	4	=
water	17:24	0:0	4	16
op	17:27	0:0	4	+
water	17:29	0:0	4	sys
op	17:32	0:0	4	->
water	17:34	0:0	4	thread_count
op	17:47	0:0	4	+
water	17:49	0:0	4	2
water	17:50	0:0	4	;
break	18:8	18:13	4	
label	19:4	19:31	4	case AV_CODEC_ID_MPEG1VIDEO :
label	20:4	20:31	4	case AV_CODEC_ID_MPEG2VIDEO :
water	21:8	0:0	4	surface_count
op	21:22	0:0	4	=
water	21:24	0:0	4	2
op	21:26	0:0	4	+
water	21:28	0:0	4	2
water	21:29	0:0	4	;
break	22:8	22:13	4	
label	23:4	23:11	4	default :
water	24:8	0:0	4	surface_count
op	24:22	0:0	4	=
water	24:24	0:0	4	2
op	24:26	0:0	4	+
water	24:28	0:0	4	1
water	24:29	0:0	4	;
break	25:8	25:13	4	
water	26:4	0:0	4	}
if	27:4	28:27	2	(surface_count > VA_DXVA2_MAX_SURFACE_COUNT)
cond	27:8	27:24	3	surface_count > VA_DXVA2_MAX_SURFACE_COUNT
water	27:8	0:0	4	surface_count
op	27:22	0:0	4	>
water	27:24	0:0	4	VA_DXVA2_MAX_SURFACE_COUNT
stmts	28:8	28:27	3	
return	28:8	28:27	4	VLC_EGENERIC
water	28:15	0:0	5	VLC_EGENERIC
water	29:4	0:0	2	sys
op	29:7	0:0	2	->
water	29:9	0:0	2	surface_count
op	29:23	0:0	2	=
water	29:25	0:0	2	surface_count
water	29:38	0:0	2	;
if	30:4	43:4	2	(FAILED (IDirectXVideoDecoderService_CreateSurface (sys -> vs ,sys -> surface_width ,sys -> surface_height ,sys -> surface_count - 1 ,sys -> render ,D3DPOOL_DEFAULT ,0 ,DXVA2_VideoDecoderRenderTarget ,sys -> hw_surface ,NULL ) ))
cond	30:8	39:62	3	FAILED (IDirectXVideoDecoderService_CreateSurface (sys -> vs ,sys -> surface_width ,sys -> surface_height ,sys -> surface_count - 1 ,sys -> render ,D3DPOOL_DEFAULT ,0 ,DXVA2_VideoDecoderRenderTarget ,sys -> hw_surface ,NULL ) )
call	30:8	39:62	4	FAILED
arg	30:15	39:62	5	IDirectXVideoDecoderService_CreateSurface(sys->vs,sys->surface_width,sys->surface_height,sys->surface_count-1,sys->render,D3DPOOL_DEFAULT,0,DXVA2_VideoDecoderRenderTarget,sys->hw_surface,NULL)
call	30:15	39:61	6	IDirectXVideoDecoderService_CreateSurface
arg	30:57	30:64	7	sys->vs
water	30:57	0:0	8	sys
op	30:60	0:0	8	->
water	30:62	0:0	8	vs
arg	31:57	31:75	7	sys->surface_width
water	31:57	0:0	8	sys
op	31:60	0:0	8	->
water	31:62	0:0	8	surface_width
arg	32:57	32:76	7	sys->surface_height
water	32:57	0:0	8	sys
op	32:60	0:0	8	->
water	32:62	0:0	8	surface_height
arg	33:57	33:79	7	sys->surface_count-1
water	33:57	0:0	8	sys
op	33:60	0:0	8	->
water	33:62	0:0	8	surface_count
op	33:76	0:0	8	-
water	33:78	0:0	8	1
arg	34:57	34:68	7	sys->render
water	34:57	0:0	8	sys
op	34:60	0:0	8	->
water	34:62	0:0	8	render
arg	35:57	35:72	7	D3DPOOL_DEFAULT
water	35:57	0:0	8	D3DPOOL_DEFAULT
arg	36:57	36:58	7	0
water	36:57	0:0	8	0
arg	37:57	37:87	7	DXVA2_VideoDecoderRenderTarget
water	37:57	0:0	8	DXVA2_VideoDecoderRenderTarget
arg	38:57	38:72	7	sys->hw_surface
water	38:57	0:0	8	sys
op	38:60	0:0	8	->
water	38:62	0:0	8	hw_surface
arg	39:57	39:61	7	NULL
water	39:57	0:0	8	NULL
stmts	39:65	43:4	3	
water	39:65	0:0	4	{
call	40:8	40:75	4	msg_Err
arg	40:16	40:18	5	va
water	40:16	0:0	6	va
arg	40:20	40:75	5	"IDirectXVideoAccelerationService_CreateSurface failed"
water	40:20	0:0	6	"IDirectXVideoAccelerationService_CreateSurface failed"
water	40:76	0:0	4	;
water	41:8	0:0	4	sys
op	41:11	0:0	4	->
water	41:13	0:0	4	surface_count
op	41:27	0:0	4	=
water	41:29	0:0	4	0
water	41:30	0:0	4	;
return	42:8	42:27	4	VLC_EGENERIC
water	42:15	0:0	5	VLC_EGENERIC
water	43:4	0:0	4	}
for	44:4	49:4	2	(unsigned i = 0 ;i < sys -> surface_count;i ++)
forinit	44:9	44:23	3	unsigned i = 0 ;
water	44:9	0:0	4	unsigned
water	44:18	0:0	4	i
op	44:20	0:0	4	=
water	44:22	0:0	4	0
water	44:23	0:0	4	;
cond	44:25	44:34	3	i < sys -> surface_count
water	44:25	0:0	4	i
op	44:27	0:0	4	<
water	44:29	0:0	4	sys
op	44:32	0:0	4	->
water	44:34	0:0	4	surface_count
forexpr	44:49	44:50	3	i ++
water	44:49	0:0	4	i
op	44:50	0:0	4	++
stmts	44:54	49:4	3	
water	44:54	0:0	4	{
decl	45:8	45:52	4	vlc_va_surface_t	*surface
op	45:34	0:0	4	=
op	45:36	0:0	4	&
water	45:37	0:0	4	sys
op	45:40	0:0	4	->
water	45:42	0:0	4	surface
op	45:49	0:0	4	[
water	45:50	0:0	4	i
op	45:51	0:0	4	]
water	46:8	0:0	4	surface
op	46:15	0:0	4	->
water	46:17	0:0	4	d3d
op	46:21	0:0	4	=
water	46:23	0:0	4	sys
op	46:26	0:0	4	->
water	46:28	0:0	4	hw_surface
op	46:38	0:0	4	[
water	46:39	0:0	4	i
op	46:40	0:0	4	]
water	46:41	0:0	4	;
water	47:8	0:0	4	surface
op	47:15	0:0	4	->
water	47:17	0:0	4	refcount
op	47:26	0:0	4	=
water	47:28	0:0	4	0
water	47:29	0:0	4	;
water	48:8	0:0	4	surface
op	48:15	0:0	4	->
water	48:17	0:0	4	order
op	48:23	0:0	4	=
water	48:25	0:0	4	0
water	48:26	0:0	4	;
water	49:4	0:0	4	}
call	50:4	51:59	2	msg_Dbg
arg	50:12	50:14	3	va
water	50:12	0:0	4	va
arg	50:16	50:97	3	"IDirectXVideoAccelerationService_CreateSurface succeed with %d surfaces (%dx%d)"
water	50:16	0:0	4	"IDirectXVideoAccelerationService_CreateSurface succeed with %d surfaces (%dx%d)"
arg	51:12	51:30	3	sys->surface_count
water	51:12	0:0	4	sys
op	51:15	0:0	4	->
water	51:17	0:0	4	surface_count
arg	51:32	51:44	3	fmt->i_width
water	51:32	0:0	4	fmt
op	51:35	0:0	4	->
water	51:37	0:0	4	i_width
arg	51:46	51:59	3	fmt->i_height
water	51:46	0:0	4	fmt
op	51:49	0:0	4	->
water	51:51	0:0	4	i_height
water	51:60	0:0	2	;
decl	53:4	53:23	2	DXVA2_VideoDesc	dsc
call	54:4	54:32	2	ZeroMemory
arg	54:15	54:19	3	&dsc
op	54:15	0:0	4	&
water	54:16	0:0	4	dsc
arg	54:21	54:32	3	sizeof(dsc)
op	54:21	0:0	4	sizeof
water	54:27	0:0	4	(
water	54:28	0:0	4	dsc
water	54:31	0:0	4	)
water	54:33	0:0	2	;
water	55:4	0:0	2	dsc
op	55:7	0:0	2	.
water	55:8	0:0	2	SampleWidth
op	55:24	0:0	2	=
water	55:26	0:0	2	fmt
op	55:29	0:0	2	->
water	55:31	0:0	2	i_width
water	55:38	0:0	2	;
water	56:4	0:0	2	dsc
op	56:7	0:0	2	.
water	56:8	0:0	2	SampleHeight
op	56:24	0:0	2	=
water	56:26	0:0	2	fmt
op	56:29	0:0	2	->
water	56:31	0:0	2	i_height
water	56:39	0:0	2	;
water	57:4	0:0	2	dsc
op	57:7	0:0	2	.
water	57:8	0:0	2	Format
op	57:24	0:0	2	=
water	57:26	0:0	2	sys
op	57:29	0:0	2	->
water	57:31	0:0	2	render
water	57:37	0:0	2	;
if	58:4	61:4	2	(fmt -> i_frame_rate > 0 && fmt -> i_frame_rate_base > 0)
cond	58:8	58:58	3	fmt -> i_frame_rate > 0 && fmt -> i_frame_rate_base > 0
water	58:8	0:0	4	fmt
op	58:11	0:0	4	->
water	58:13	0:0	4	i_frame_rate
op	58:26	0:0	4	>
water	58:28	0:0	4	0
op	58:30	0:0	4	&&
water	58:33	0:0	4	fmt
op	58:36	0:0	4	->
water	58:38	0:0	4	i_frame_rate_base
op	58:56	0:0	4	>
water	58:58	0:0	4	0
stmts	58:61	61:4	3	
water	58:61	0:0	4	{
water	59:8	0:0	4	dsc
op	59:11	0:0	4	.
water	59:12	0:0	4	InputSampleFreq
op	59:27	0:0	4	.
water	59:28	0:0	4	Numerator
op	59:40	0:0	4	=
water	59:42	0:0	4	fmt
op	59:45	0:0	4	->
water	59:47	0:0	4	i_frame_rate
water	59:59	0:0	4	;
water	60:8	0:0	4	dsc
op	60:11	0:0	4	.
water	60:12	0:0	4	InputSampleFreq
op	60:27	0:0	4	.
water	60:28	0:0	4	Denominator
op	60:40	0:0	4	=
water	60:42	0:0	4	fmt
op	60:45	0:0	4	->
water	60:47	0:0	4	i_frame_rate_base
water	60:64	0:0	4	;
water	61:4	0:0	4	}
else	61:6	64:4	2
stmts	61:11	64:4	3	
water	61:11	0:0	4	{
water	62:8	0:0	4	dsc
op	62:11	0:0	4	.
water	62:12	0:0	4	InputSampleFreq
op	62:27	0:0	4	.
water	62:28	0:0	4	Numerator
op	62:40	0:0	4	=
water	62:42	0:0	4	0
water	62:43	0:0	4	;
water	63:8	0:0	4	dsc
op	63:11	0:0	4	.
water	63:12	0:0	4	InputSampleFreq
op	63:27	0:0	4	.
water	63:28	0:0	4	Denominator
op	63:40	0:0	4	=
water	63:42	0:0	4	0
water	63:43	0:0	4	;
water	64:4	0:0	4	}
water	65:4	0:0	2	dsc
op	65:7	0:0	2	.
water	65:8	0:0	2	OutputFrameFreq
op	65:24	0:0	2	=
water	65:26	0:0	2	dsc
op	65:29	0:0	2	.
water	65:30	0:0	2	InputSampleFreq
water	65:45	0:0	2	;
water	66:4	0:0	2	dsc
op	66:7	0:0	2	.
water	66:8	0:0	2	UABProtectionLevel
op	66:27	0:0	2	=
water	66:29	0:0	2	FALSE
water	66:34	0:0	2	;
water	67:4	0:0	2	dsc
op	67:7	0:0	2	.
water	67:8	0:0	2	Reserved
op	67:17	0:0	2	=
water	67:19	0:0	2	0
water	67:20	0:0	2	;
decl	69:4	69:49	2	DXVA2_ExtendedFormat	*ext
op	69:30	0:0	2	=
op	69:32	0:0	2	&
water	69:33	0:0	2	dsc
op	69:36	0:0	2	.
water	69:37	0:0	2	SampleFormat
water	70:4	0:0	2	ext
op	70:7	0:0	2	->
water	70:9	0:0	2	SampleFormat
op	70:22	0:0	2	=
water	70:24	0:0	2	0
water	70:25	0:0	2	;
water	71:4	0:0	2	ext
op	71:7	0:0	2	->
water	71:9	0:0	2	VideoChromaSubsampling
op	71:32	0:0	2	=
water	71:34	0:0	2	0
water	71:35	0:0	2	;
water	72:4	0:0	2	ext
op	72:7	0:0	2	->
water	72:9	0:0	2	NominalRange
op	72:22	0:0	2	=
water	72:24	0:0	2	0
water	72:25	0:0	2	;
water	73:4	0:0	2	ext
op	73:7	0:0	2	->
water	73:9	0:0	2	VideoTransferMatrix
op	73:29	0:0	2	=
water	73:31	0:0	2	0
water	73:32	0:0	2	;
water	74:4	0:0	2	ext
op	74:7	0:0	2	->
water	74:9	0:0	2	VideoLighting
op	74:23	0:0	2	=
water	74:25	0:0	2	0
water	74:26	0:0	2	;
water	75:4	0:0	2	ext
op	75:7	0:0	2	->
water	75:9	0:0	2	VideoPrimaries
op	75:24	0:0	2	=
water	75:26	0:0	2	0
water	75:27	0:0	2	;
water	76:4	0:0	2	ext
op	76:7	0:0	2	->
water	76:9	0:0	2	VideoTransferFunction
op	76:31	0:0	2	=
water	76:33	0:0	2	0
water	76:34	0:0	2	;
decl	78:4	78:43	2	UINT	cfg_count
op	78:40	0:0	2	=
water	78:42	0:0	2	0
decl	79:4	79:46	2	DXVA2_ConfigPictureDecode	*cfg_list
op	79:40	0:0	2	=
water	79:42	0:0	2	NULL
if	80:4	88:4	2	(FAILED (IDirectXVideoDecoderService_GetDecoderConfigurations (sys -> vs ,& sys -> input ,& dsc ,NULL ,& cfg_count ,& cfg_list ) ))
cond	80:8	85:78	3	FAILED (IDirectXVideoDecoderService_GetDecoderConfigurations (sys -> vs ,& sys -> input ,& dsc ,NULL ,& cfg_count ,& cfg_list ) )
call	80:8	85:78	4	FAILED
arg	80:15	85:78	5	IDirectXVideoDecoderService_GetDecoderConfigurations(sys->vs,&sys->input,&dsc,NULL,&cfg_count,&cfg_list)
call	80:15	85:77	6	IDirectXVideoDecoderService_GetDecoderConfigurations
arg	80:68	80:75	7	sys->vs
water	80:68	0:0	8	sys
op	80:71	0:0	8	->
water	80:73	0:0	8	vs
arg	81:68	81:79	7	&sys->input
op	81:68	0:0	8	&
water	81:69	0:0	8	sys
op	81:72	0:0	8	->
water	81:74	0:0	8	input
arg	82:68	82:72	7	&dsc
op	82:68	0:0	8	&
water	82:69	0:0	8	dsc
arg	83:68	83:72	7	NULL
water	83:68	0:0	8	NULL
arg	84:68	84:78	7	&cfg_count
op	84:68	0:0	8	&
water	84:69	0:0	8	cfg_count
arg	85:68	85:77	7	&cfg_list
op	85:68	0:0	8	&
water	85:69	0:0	8	cfg_list
stmts	85:81	88:4	3	
water	85:81	0:0	4	{
call	86:8	86:81	4	msg_Err
arg	86:16	86:18	5	va
water	86:16	0:0	6	va
arg	86:20	86:81	5	"IDirectXVideoDecoderService_GetDecoderConfigurations failed"
water	86:20	0:0	6	"IDirectXVideoDecoderService_GetDecoderConfigurations failed"
water	86:82	0:0	4	;
return	87:8	87:27	4	VLC_EGENERIC
water	87:15	0:0	5	VLC_EGENERIC
water	88:4	0:0	4	}
call	89:4	89:61	2	msg_Dbg
arg	89:12	89:14	3	va
water	89:12	0:0	4	va
arg	89:16	89:50	3	"we got %d decoder configurations"
water	89:16	0:0	4	"we got %d decoder configurations"
arg	89:52	89:61	3	cfg_count
water	89:52	0:0	4	cfg_count
water	89:62	0:0	2	;
decl	91:4	91:21	2	int	cfg_score
op	91:18	0:0	2	=
water	91:20	0:0	2	0
for	92:4	111:4	2	(unsigned i = 0 ;i < cfg_count;i ++)
forinit	92:9	92:23	3	unsigned i = 0 ;
water	92:9	0:0	4	unsigned
water	92:18	0:0	4	i
op	92:20	0:0	4	=
water	92:22	0:0	4	0
water	92:23	0:0	4	;
cond	92:25	92:29	3	i < cfg_count
water	92:25	0:0	4	i
op	92:27	0:0	4	<
water	92:29	0:0	4	cfg_count
forexpr	92:40	92:41	3	i ++
water	92:40	0:0	4	i
op	92:41	0:0	4	++
stmts	92:45	111:4	3	
water	92:45	0:0	4	{
decl	93:8	93:59	4	const DXVA2_ConfigPictureDecode	*cfg
op	93:45	0:0	4	=
op	93:47	0:0	4	&
water	93:48	0:0	4	cfg_list
op	93:56	0:0	4	[
water	93:57	0:0	4	i
op	93:58	0:0	4	]
call	95:8	96:42	4	msg_Dbg
arg	95:16	95:18	5	va
water	95:16	0:0	6	va
arg	95:20	95:61	5	"configuration[%d] ConfigBitstreamRaw %d"
water	95:20	0:0	6	"configuration[%d] ConfigBitstreamRaw %d"
arg	96:16	96:17	5	i
water	96:16	0:0	6	i
arg	96:19	96:42	5	cfg->ConfigBitstreamRaw
water	96:19	0:0	6	cfg
op	96:22	0:0	6	->
water	96:24	0:0	6	ConfigBitstreamRaw
water	96:43	0:0	4	;
decl	98:8	98:17	4	int	score
if	99:8	100:21	4	(cfg -> ConfigBitstreamRaw == 1)
cond	99:12	99:39	5	cfg -> ConfigBitstreamRaw == 1
water	99:12	0:0	6	cfg
op	99:15	0:0	6	->
water	99:17	0:0	6	ConfigBitstreamRaw
op	99:36	0:0	6	==
water	99:39	0:0	6	1
stmts	100:12	100:21	5	
water	100:12	0:0	6	score
op	100:18	0:0	6	=
water	100:20	0:0	6	1
water	100:21	0:0	6	;
else	101:8	102:21	4
stmts	101:13	102:21	5	
if	101:13	102:21	6	(codec_id == AV_CODEC_ID_H264 && cfg -> ConfigBitstreamRaw == 2)
cond	101:17	101:76	7	codec_id == AV_CODEC_ID_H264 && cfg -> ConfigBitstreamRaw == 2
water	101:17	0:0	8	codec_id
op	101:26	0:0	8	==
water	101:29	0:0	8	AV_CODEC_ID_H264
op	101:46	0:0	8	&&
water	101:49	0:0	8	cfg
op	101:52	0:0	8	->
water	101:54	0:0	8	ConfigBitstreamRaw
op	101:73	0:0	8	==
water	101:76	0:0	8	2
stmts	102:12	102:21	7	
water	102:12	0:0	8	score
op	102:18	0:0	8	=
water	102:20	0:0	8	2
water	102:21	0:0	8	;
else	103:8	104:20	4
stmts	104:12	104:20	5	
continue	104:12	104:20	6	
if	105:8	106:23	4	(IsEqualGUID (& cfg -> guidConfigBitstreamEncryption ,& DXVA_NoEncrypt ))
cond	105:12	105:76	5	IsEqualGUID (& cfg -> guidConfigBitstreamEncryption ,& DXVA_NoEncrypt )
call	105:12	105:76	6	IsEqualGUID
arg	105:24	105:59	7	&cfg->guidConfigBitstreamEncryption
op	105:24	0:0	8	&
water	105:25	0:0	8	cfg
op	105:28	0:0	8	->
water	105:30	0:0	8	guidConfigBitstreamEncryption
arg	105:61	105:76	7	&DXVA_NoEncrypt
op	105:61	0:0	8	&
water	105:62	0:0	8	DXVA_NoEncrypt
stmts	106:12	106:23	5	
water	106:12	0:0	6	score
op	106:18	0:0	6	+=
water	106:21	0:0	6	16
water	106:23	0:0	6	;
if	107:8	110:8	4	(cfg_score < score)
cond	107:12	107:24	5	cfg_score < score
water	107:12	0:0	6	cfg_score
op	107:22	0:0	6	<
water	107:24	0:0	6	score
stmts	107:31	110:8	5	
water	107:31	0:0	6	{
water	108:12	0:0	6	sys
op	108:15	0:0	6	->
water	108:17	0:0	6	cfg
op	108:21	0:0	6	=
op	108:23	0:0	6	*
water	108:24	0:0	6	cfg
water	108:27	0:0	6	;
water	109:12	0:0	6	cfg_score
op	109:22	0:0	6	=
water	109:24	0:0	6	score
water	109:29	0:0	6	;
water	110:8	0:0	6	}
water	111:4	0:0	4	}
call	112:4	112:26	2	CoTaskMemFree
arg	112:18	112:26	3	cfg_list
water	112:18	0:0	4	cfg_list
water	112:27	0:0	2	;
if	113:4	116:4	2	(cfg_score <= 0)
cond	113:8	113:21	3	cfg_score <= 0
water	113:8	0:0	4	cfg_score
op	113:18	0:0	4	<=
water	113:21	0:0	4	0
stmts	113:24	116:4	3	
water	113:24	0:0	4	{
call	114:8	114:70	4	msg_Err
arg	114:16	114:18	5	va
water	114:16	0:0	6	va
arg	114:20	114:70	5	"Failed to find a supported decoder configuration"
water	114:20	0:0	6	"Failed to find a supported decoder configuration"
water	114:71	0:0	4	;
return	115:8	115:27	4	VLC_EGENERIC
water	115:15	0:0	5	VLC_EGENERIC
water	116:4	0:0	4	}
decl	118:4	118:33	2	IDirectXVideoDecoder	*decoder
if	119:4	128:4	2	(FAILED (IDirectXVideoDecoderService_CreateVideoDecoder (sys -> vs ,& sys -> input ,& dsc ,& sys -> cfg ,sys -> hw_surface ,sys -> surface_count ,& decoder ) ))
cond	119:8	125:71	3	FAILED (IDirectXVideoDecoderService_CreateVideoDecoder (sys -> vs ,& sys -> input ,& dsc ,& sys -> cfg ,sys -> hw_surface ,sys -> surface_count ,& decoder ) )
call	119:8	125:71	4	FAILED
arg	119:15	125:71	5	IDirectXVideoDecoderService_CreateVideoDecoder(sys->vs,&sys->input,&dsc,&sys->cfg,sys->hw_surface,sys->surface_count,&decoder)
call	119:15	125:70	6	IDirectXVideoDecoderService_CreateVideoDecoder
arg	119:62	119:69	7	sys->vs
water	119:62	0:0	8	sys
op	119:65	0:0	8	->
water	119:67	0:0	8	vs
arg	120:62	120:73	7	&sys->input
op	120:62	0:0	8	&
water	120:63	0:0	8	sys
op	120:66	0:0	8	->
water	120:68	0:0	8	input
arg	121:62	121:66	7	&dsc
op	121:62	0:0	8	&
water	121:63	0:0	8	dsc
arg	122:62	122:71	7	&sys->cfg
op	122:62	0:0	8	&
water	122:63	0:0	8	sys
op	122:66	0:0	8	->
water	122:68	0:0	8	cfg
arg	123:62	123:77	7	sys->hw_surface
water	123:62	0:0	8	sys
op	123:65	0:0	8	->
water	123:67	0:0	8	hw_surface
arg	124:62	124:80	7	sys->surface_count
water	124:62	0:0	8	sys
op	124:65	0:0	8	->
water	124:67	0:0	8	surface_count
arg	125:62	125:70	7	&decoder
op	125:62	0:0	8	&
water	125:63	0:0	8	decoder
stmts	125:74	128:4	3	
water	125:74	0:0	4	{
call	126:8	126:75	4	msg_Err
arg	126:16	126:18	5	va
water	126:16	0:0	6	va
arg	126:20	126:75	5	"IDirectXVideoDecoderService_CreateVideoDecoder failed"
water	126:20	0:0	6	"IDirectXVideoDecoderService_CreateVideoDecoder failed"
water	126:76	0:0	4	;
return	127:8	127:27	4	VLC_EGENERIC
water	127:15	0:0	5	VLC_EGENERIC
water	128:4	0:0	4	}
water	129:4	0:0	2	sys
op	129:7	0:0	2	->
water	129:9	0:0	2	decoder
op	129:17	0:0	2	=
water	129:19	0:0	2	decoder
water	129:26	0:0	2	;
call	130:4	130:72	2	msg_Dbg
arg	130:12	130:14	3	va
water	130:12	0:0	4	va
arg	130:16	130:72	3	"IDirectXVideoDecoderService_CreateVideoDecoder succeed"
water	130:16	0:0	4	"IDirectXVideoDecoderService_CreateVideoDecoder succeed"
water	130:73	0:0	2	;
return	131:4	131:22	2	VLC_SUCCESS
water	131:11	0:0	3	VLC_SUCCESS
