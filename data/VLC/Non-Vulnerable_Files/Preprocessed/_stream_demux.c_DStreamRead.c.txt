func	2:0	36:0	0	static int	DStreamRead
params	2:22	0:0	1	
param	2:24	2:35	2	stream_t *	s
param	2:37	2:49	2	void *	p_read
param	2:51	2:71	2	unsigned int	i_read
stmnts	0:0	35:16	1	
decl	4:4	4:34	2	stream_sys_t	*p_sys
op	4:24	0:0	2	=
water	4:26	0:0	2	s
op	4:27	0:0	2	->
water	4:29	0:0	2	p_sys
decl	5:4	5:27	2	uint8_t	*p_out
op	5:19	0:0	2	=
water	5:21	0:0	2	p_read
decl	6:4	6:17	2	int	i_out
op	6:14	0:0	2	=
water	6:16	0:0	2	0
while	8:4	33:4	2	(atomic_load (& p_sys -> active ) && ! s -> b_error && i_read)
cond	8:11	8:59	3	atomic_load (& p_sys -> active ) && ! s -> b_error && i_read
call	8:11	8:39	4	atomic_load
arg	8:24	8:39	5	&p_sys->active
op	8:24	0:0	6	&
water	8:25	0:0	6	p_sys
op	8:30	0:0	6	->
water	8:32	0:0	6	active
op	8:41	0:0	4	&&
op	8:44	0:0	4	!
water	8:45	0:0	4	s
op	8:46	0:0	4	->
water	8:48	0:0	4	b_error
op	8:56	0:0	4	&&
water	8:59	0:0	4	i_read
stmts	9:4	33:4	3	
water	9:4	0:0	4	{
decl	10:8	10:41	4	block_t	*p_block
op	10:25	0:0	4	=
water	10:27	0:0	4	p_sys
op	10:32	0:0	4	->
water	10:34	0:0	4	p_block
decl	11:8	11:18	4	int	i_copy
if	12:8	17:8	4	(! p_block)
cond	12:12	12:13	5	! p_block
op	12:12	0:0	6	!
water	12:13	0:0	6	p_block
stmts	13:8	17:8	5	
water	13:8	0:0	6	{
water	14:12	0:0	6	p_block
op	14:20	0:0	6	=
call	14:22	14:51	6	block_FifoGet
arg	14:37	14:51	7	p_sys->p_fifo
water	14:37	0:0	8	p_sys
op	14:42	0:0	8	->
water	14:44	0:0	8	p_fifo
water	14:52	0:0	6	;
if	15:12	15:41	6	(! p_block)
cond	15:16	15:17	7	! p_block
op	15:16	0:0	8	!
water	15:17	0:0	8	p_block
stmts	15:27	15:41	7	
water	15:27	0:0	8	s
op	15:28	0:0	8	->
water	15:30	0:0	8	b_error
op	15:38	0:0	8	=
water	15:40	0:0	8	1
water	15:41	0:0	8	;
water	16:12	0:0	6	p_sys
op	16:17	0:0	6	->
water	16:19	0:0	6	p_block
op	16:27	0:0	6	=
water	16:29	0:0	6	p_block
water	16:36	0:0	6	;
water	17:8	0:0	6	}
if	18:8	32:8	4	(p_block && i_read)
cond	18:12	18:23	5	p_block && i_read
water	18:12	0:0	6	p_block
op	18:20	0:0	6	&&
water	18:23	0:0	6	i_read
stmts	19:8	32:8	5	
water	19:8	0:0	6	{
water	20:12	0:0	6	i_copy
op	20:19	0:0	6	=
call	20:21	20:54	6	__MIN
arg	20:28	20:34	7	i_read
water	20:28	0:0	8	i_read
arg	20:36	20:54	7	p_block->i_buffer
water	20:36	0:0	8	p_block
op	20:43	0:0	8	->
water	20:45	0:0	8	i_buffer
water	20:55	0:0	6	;
if	21:12	21:76	6	(p_out && i_copy)
cond	21:16	21:25	7	p_out && i_copy
water	21:16	0:0	8	p_out
op	21:22	0:0	8	&&
water	21:25	0:0	8	i_copy
stmts	21:34	21:76	7	
call	21:34	21:75	8	memcpy
arg	21:42	21:47	9	p_out
water	21:42	0:0	10	p_out
arg	21:49	21:66	9	p_block->p_buffer
water	21:49	0:0	10	p_block
op	21:56	0:0	10	->
water	21:58	0:0	10	p_buffer
arg	21:68	21:75	9	i_copy
water	21:68	0:0	10	i_copy
water	21:76	0:0	8	;
water	22:12	0:0	6	i_read
op	22:19	0:0	6	-=
water	22:22	0:0	6	i_copy
water	22:28	0:0	6	;
water	23:12	0:0	6	p_out
op	23:18	0:0	6	+=
water	23:21	0:0	6	i_copy
water	23:27	0:0	6	;
water	24:12	0:0	6	i_out
op	24:18	0:0	6	+=
water	24:21	0:0	6	i_copy
water	24:27	0:0	6	;
water	25:12	0:0	6	p_block
op	25:19	0:0	6	->
water	25:21	0:0	6	i_buffer
op	25:30	0:0	6	-=
water	25:33	0:0	6	i_copy
water	25:39	0:0	6	;
water	26:12	0:0	6	p_block
op	26:19	0:0	6	->
water	26:21	0:0	6	p_buffer
op	26:30	0:0	6	+=
water	26:33	0:0	6	i_copy
water	26:39	0:0	6	;
if	27:12	31:12	6	(! p_block -> i_buffer)
cond	27:16	27:26	7	! p_block -> i_buffer
op	27:16	0:0	8	!
water	27:17	0:0	8	p_block
op	27:24	0:0	8	->
water	27:26	0:0	8	i_buffer
stmts	28:12	31:12	7	
water	28:12	0:0	8	{
call	29:16	29:39	8	block_Release
arg	29:31	29:39	9	p_block
water	29:31	0:0	10	p_block
water	29:40	0:0	8	;
water	30:16	0:0	8	p_sys
op	30:21	0:0	8	->
water	30:23	0:0	8	p_block
op	30:31	0:0	8	=
water	30:33	0:0	8	NULL
water	30:37	0:0	8	;
water	31:12	0:0	8	}
water	32:8	0:0	6	}
water	33:4	0:0	4	}
water	34:4	0:0	2	p_sys
op	34:9	0:0	2	->
water	34:11	0:0	2	i_pos
op	34:17	0:0	2	+=
water	34:20	0:0	2	i_out
water	34:25	0:0	2	;
return	35:4	35:16	2	i_out
water	35:11	0:0	3	i_out
