func	2:0	85:0	0	static lua_State *	GetLuaState
params	2:29	0:0	1	
param	2:31	2:58	2	extensions_manager_t *	p_mgr
param	3:31	3:50	2	extension_t *	p_ext
stmnts	0:0	84:12	1	
decl	5:4	5:23	2	lua_State	*L
op	5:17	0:0	2	=
water	5:19	0:0	2	NULL
if	6:4	7:27	2	(p_ext)
cond	6:8	6:8	3	p_ext
water	6:8	0:0	4	p_ext
stmts	7:8	7:27	3	
water	7:8	0:0	4	L
op	7:10	0:0	4	=
water	7:12	0:0	4	p_ext
op	7:17	0:0	4	->
water	7:19	0:0	4	p_sys
op	7:24	0:0	4	->
water	7:26	0:0	4	L
water	7:27	0:0	4	;
if	8:4	83:4	2	(! L)
cond	8:8	8:9	3	! L
op	8:8	0:0	4	!
water	8:9	0:0	4	L
stmts	9:4	83:4	3	
water	9:4	0:0	4	{
water	10:8	0:0	4	L
op	10:10	0:0	4	=
call	10:12	10:26	4	luaL_newstate
water	10:27	0:0	4	;
if	11:8	15:8	4	(! L)
cond	11:12	11:13	5	! L
op	11:12	0:0	6	!
water	11:13	0:0	6	L
stmts	12:8	15:8	5	
water	12:8	0:0	6	{
call	13:12	13:61	6	msg_Err
arg	13:21	13:26	7	p_mgr
water	13:21	0:0	8	p_mgr
arg	13:28	13:61	7	"Could not create new Lua State"
water	13:28	0:0	8	"Could not create new Lua State"
water	13:62	0:0	6	;
return	14:12	14:23	6	NULL
water	14:19	0:0	7	NULL
water	15:8	0:0	6	}
call	16:8	16:34	4	vlclua_set_this
arg	16:25	16:26	5	L
water	16:25	0:0	6	L
arg	16:28	16:34	5	p_mgr
water	16:28	0:0	6	p_mgr
water	16:35	0:0	4	;
call	17:8	18:55	4	vlclua_set_playlist_internal
arg	17:38	17:39	5	L
water	17:38	0:0	6	L
arg	18:12	18:55	5	pl_Get((intf_thread_t*)(p_mgr->p_parent))
call	18:12	18:53	6	pl_Get
arg	18:19	18:53	7	(intf_thread_t*)(p_mgr->p_parent)
call	18:19	18:52	8	(intf_thread_t*)
arg	18:37	18:52	9	p_mgr->p_parent
water	18:37	0:0	10	p_mgr
op	18:42	0:0	10	->
water	18:44	0:0	10	p_parent
water	18:56	0:0	4	;
call	19:8	19:39	4	vlclua_extension_set
arg	19:30	19:31	5	L
water	19:30	0:0	6	L
arg	19:33	19:39	5	p_ext
water	19:33	0:0	6	p_ext
water	19:40	0:0	4	;
call	20:8	20:25	4	luaL_openlibs
arg	20:23	20:25	5	L
water	20:23	0:0	6	L
water	20:26	0:0	4	;
call	21:8	21:39	4	luaL_register
arg	21:23	21:24	5	L
water	21:23	0:0	6	L
arg	21:26	21:31	5	"vlc"
water	21:26	0:0	6	"vlc"
arg	21:33	21:39	5	p_reg
water	21:33	0:0	6	p_reg
water	21:40	0:0	4	;
call	22:8	22:23	4	luaopen_msg
arg	22:21	22:23	5	L
water	22:21	0:0	6	L
water	22:24	0:0	4	;
if	23:8	82:8	4	(p_ext)
cond	23:12	23:12	5	p_ext
water	23:12	0:0	6	p_ext
stmts	24:8	82:8	5	
water	24:8	0:0	6	{
call	26:12	26:30	6	luaopen_config
arg	26:28	26:30	7	L
water	26:28	0:0	8	L
water	26:31	0:0	6	;
call	27:12	27:37	6	luaopen_dialog
arg	27:28	27:29	7	L
water	27:28	0:0	8	L
arg	27:31	27:37	7	p_ext
water	27:31	0:0	8	p_ext
water	27:38	0:0	6	;
call	28:12	28:29	6	luaopen_input
arg	28:27	28:29	7	L
water	28:27	0:0	8	L
water	28:30	0:0	6	;
call	29:12	29:27	6	luaopen_msg
arg	29:25	29:27	7	L
water	29:25	0:0	8	L
water	29:28	0:0	6	;
if	30:12	34:12	6	(vlclua_fd_init (L ,& p_ext -> p_sys -> dtable ))
cond	30:16	30:57	7	vlclua_fd_init (L ,& p_ext -> p_sys -> dtable )
call	30:16	30:57	8	vlclua_fd_init
arg	30:32	30:33	9	L
water	30:32	0:0	10	L
arg	30:35	30:57	9	&p_ext->p_sys->dtable
op	30:35	0:0	10	&
water	30:36	0:0	10	p_ext
op	30:41	0:0	10	->
water	30:43	0:0	10	p_sys
op	30:48	0:0	10	->
water	30:50	0:0	10	dtable
stmts	31:12	34:12	7	
water	31:12	0:0	8	{
call	32:16	32:29	8	lua_close
arg	32:27	32:29	9	L
water	32:27	0:0	10	L
water	32:30	0:0	8	;
return	33:16	33:27	8	NULL
water	33:23	0:0	9	NULL
water	34:12	0:0	8	}
call	35:12	35:30	6	luaopen_object
arg	35:28	35:30	7	L
water	35:28	0:0	8	L
water	35:31	0:0	6	;
call	36:12	36:27	6	luaopen_osd
arg	36:25	36:27	7	L
water	36:25	0:0	8	L
water	36:28	0:0	6	;
call	37:12	37:32	6	luaopen_playlist
arg	37:30	37:32	7	L
water	37:30	0:0	8	L
water	37:33	0:0	6	;
call	38:12	38:31	6	luaopen_sd_intf
arg	38:29	38:31	7	L
water	38:29	0:0	8	L
water	38:32	0:0	6	;
call	39:12	39:30	6	luaopen_stream
arg	39:28	39:30	7	L
water	39:28	0:0	8	L
water	39:31	0:0	6	;
call	40:12	40:31	6	luaopen_strings
arg	40:29	40:31	7	L
water	40:29	0:0	8	L
water	40:32	0:0	6	;
call	41:12	41:33	6	luaopen_variables
arg	41:31	41:33	7	L
water	41:31	0:0	8	L
water	41:34	0:0	6	;
call	42:12	42:29	6	luaopen_video
arg	42:27	42:29	7	L
water	42:27	0:0	8	L
water	42:30	0:0	6	;
call	43:12	43:27	6	luaopen_vlm
arg	43:25	43:27	7	L
water	43:25	0:0	8	L
water	43:28	0:0	6	;
call	44:12	44:30	6	luaopen_volume
arg	44:28	44:30	7	L
water	44:28	0:0	8	L
water	44:31	0:0	6	;
call	45:12	45:27	6	luaopen_xml
arg	45:25	45:27	7	L
water	45:25	0:0	8	L
water	45:28	0:0	6	;
call	47:12	47:27	6	luaopen_win
arg	47:25	47:27	7	L
water	47:25	0:0	8	L
water	47:28	0:0	6	;
call	50:12	50:36	6	lua_getglobal
arg	50:27	50:28	7	L
water	50:27	0:0	8	L
arg	50:30	50:36	7	"vlc"
water	50:30	0:0	8	"vlc"
water	50:37	0:0	6	;
call	51:12	51:62	6	lua_pushcfunction
arg	51:31	51:32	7	L
water	51:31	0:0	8	L
arg	51:34	51:62	7	vlclua_extension_deactivate
water	51:34	0:0	8	vlclua_extension_deactivate
water	51:63	0:0	6	;
call	52:12	52:46	6	lua_setfield
arg	52:26	52:27	7	L
water	52:26	0:0	8	L
arg	52:29	52:31	7	-2
op	52:29	0:0	8	-
water	52:30	0:0	8	2
arg	52:33	52:46	7	"deactivate"
water	52:33	0:0	8	"deactivate"
water	52:47	0:0	6	;
call	53:12	53:62	6	lua_pushcfunction
arg	53:31	53:32	7	L
water	53:31	0:0	8	L
arg	53:34	53:62	7	vlclua_extension_keep_alive
water	53:34	0:0	8	vlclua_extension_keep_alive
water	53:63	0:0	6	;
call	54:12	54:46	6	lua_setfield
arg	54:26	54:27	7	L
water	54:26	0:0	8	L
arg	54:29	54:31	7	-2
op	54:29	0:0	8	-
water	54:30	0:0	8	2
arg	54:33	54:46	7	"keep_alive"
water	54:33	0:0	8	"keep_alive"
water	54:47	0:0	6	;
if	56:12	60:12	6	(!strncmp (p_ext -> psz_name ,"zip://" ,6 ))
cond	56:16	56:55	7	!strncmp (p_ext -> psz_name ,"zip://" ,6 )
op	56:16	0:0	8	!
call	56:17	56:55	8	strncmp
arg	56:26	56:41	9	p_ext->psz_name
water	56:26	0:0	10	p_ext
op	56:31	0:0	10	->
water	56:33	0:0	10	psz_name
arg	56:43	56:51	9	"zip://"
water	56:43	0:0	10	"zip://"
arg	56:53	56:55	9	6
water	56:53	0:0	10	6
stmts	57:12	60:12	7	
water	57:12	0:0	8	{
call	59:16	59:70	8	lua_register
arg	59:30	59:31	9	L
water	59:30	0:0	10	L
arg	59:33	59:42	9	"require"
water	59:33	0:0	10	"require"
arg	59:44	59:70	9	&vlclua_extension_require
op	59:44	0:0	10	&
water	59:45	0:0	10	vlclua_extension_require
water	59:71	0:0	8	;
water	60:12	0:0	8	}
else	61:12	71:12	6
stmts	62:12	71:12	7	
water	62:12	0:0	8	{
if	63:16	70:16	8	(vlclua_add_modules_path (L ,p_ext -> psz_name ))
cond	63:20	63:64	9	vlclua_add_modules_path (L ,p_ext -> psz_name )
call	63:20	63:64	10	vlclua_add_modules_path
arg	63:45	63:46	11	L
water	63:45	0:0	12	L
arg	63:48	63:64	11	p_ext->psz_name
water	63:48	0:0	12	p_ext
op	63:53	0:0	12	->
water	63:55	0:0	12	psz_name
stmts	64:16	70:16	9	
water	64:16	0:0	10	{
call	65:20	66:68	10	msg_Warn
arg	65:30	65:35	11	p_mgr
water	65:30	0:0	12	p_mgr
arg	65:37	66:50	11	"Error while setting the module ""search path for %s"
water	65:37	0:0	12	"Error while setting the module "
water	66:30	0:0	12	"search path for %s"
arg	66:52	66:68	11	p_ext->psz_name
water	66:52	0:0	12	p_ext
op	66:57	0:0	12	->
water	66:59	0:0	12	psz_name
water	66:69	0:0	10	;
call	67:20	67:61	10	vlclua_fd_cleanup
arg	67:39	67:61	11	&p_ext->p_sys->dtable
op	67:39	0:0	12	&
water	67:40	0:0	12	p_ext
op	67:45	0:0	12	->
water	67:47	0:0	12	p_sys
op	67:52	0:0	12	->
water	67:54	0:0	12	dtable
water	67:62	0:0	10	;
call	68:20	68:33	10	lua_close
arg	68:31	68:33	11	L
water	68:31	0:0	12	L
water	68:34	0:0	10	;
return	69:20	69:31	10	NULL
water	69:27	0:0	11	NULL
water	70:16	0:0	10	}
water	71:12	0:0	8	}
if	73:12	80:12	6	(vlclua_dofile (VLC_OBJECT (p_mgr ) ,L ,p_ext -> psz_name ))
cond	73:16	73:71	7	vlclua_dofile (VLC_OBJECT (p_mgr ) ,L ,p_ext -> psz_name )
call	73:16	73:71	8	vlclua_dofile
arg	73:31	73:50	9	VLC_OBJECT(p_mgr)
call	73:31	73:49	10	VLC_OBJECT
arg	73:43	73:49	11	p_mgr
water	73:43	0:0	12	p_mgr
arg	73:52	73:53	9	L
water	73:52	0:0	10	L
arg	73:55	73:71	9	p_ext->psz_name
water	73:55	0:0	10	p_ext
op	73:60	0:0	10	->
water	73:62	0:0	10	psz_name
stmts	74:12	80:12	7	
water	74:12	0:0	8	{
call	75:16	76:61	8	msg_Warn
arg	75:26	75:31	9	p_mgr
water	75:26	0:0	10	p_mgr
arg	75:33	75:62	9	"Error loading script %s: %s"
water	75:33	0:0	10	"Error loading script %s: %s"
arg	75:64	75:79	9	p_ext->psz_name
water	75:64	0:0	10	p_ext
op	75:69	0:0	10	->
water	75:71	0:0	10	psz_name
arg	76:26	76:61	9	lua_tostring(L,lua_gettop(L))
call	76:26	76:59	10	lua_tostring
arg	76:40	76:41	11	L
water	76:40	0:0	12	L
arg	76:43	76:59	11	lua_gettop(L)
call	76:43	76:57	12	lua_gettop
arg	76:55	76:57	13	L
water	76:55	0:0	14	L
water	76:62	0:0	8	;
call	77:16	77:57	8	vlclua_fd_cleanup
arg	77:35	77:57	9	&p_ext->p_sys->dtable
op	77:35	0:0	10	&
water	77:36	0:0	10	p_ext
op	77:41	0:0	10	->
water	77:43	0:0	10	p_sys
op	77:48	0:0	10	->
water	77:50	0:0	10	dtable
water	77:58	0:0	8	;
call	78:16	78:29	8	lua_close
arg	78:27	78:29	9	L
water	78:27	0:0	10	L
water	78:30	0:0	8	;
return	79:16	79:27	8	NULL
water	79:23	0:0	9	NULL
water	80:12	0:0	8	}
water	81:12	0:0	6	p_ext
op	81:17	0:0	6	->
water	81:19	0:0	6	p_sys
op	81:24	0:0	6	->
water	81:26	0:0	6	L
op	81:28	0:0	6	=
water	81:30	0:0	6	L
water	81:31	0:0	6	;
water	82:8	0:0	6	}
water	83:4	0:0	4	}
return	84:4	84:12	2	L
water	84:11	0:0	3	L
