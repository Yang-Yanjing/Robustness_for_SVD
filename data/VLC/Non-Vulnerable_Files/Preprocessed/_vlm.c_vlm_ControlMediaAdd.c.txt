func	2:0	42:0	0	static int	vlm_ControlMediaAdd
params	2:30	0:0	1	
param	2:32	2:44	2	vlm_t *	p_vlm
param	2:46	2:64	2	vlm_media_t *	p_cfg
param	2:66	2:80	2	int64_t *	p_id
stmnts	0:0	41:46	1	
decl	4:4	4:28	2	vlm_media_sys_t	*p_media
if	5:4	9:4	2	(vlm_MediaDescriptionCheck (p_vlm ,p_cfg ) ||vlm_ControlMediaGetByName (p_vlm ,p_cfg -> psz_name ))
cond	5:8	5:103	3	vlm_MediaDescriptionCheck (p_vlm ,p_cfg ) ||vlm_ControlMediaGetByName (p_vlm ,p_cfg -> psz_name )
call	5:8	5:48	4	vlm_MediaDescriptionCheck
arg	5:35	5:40	5	p_vlm
water	5:35	0:0	6	p_vlm
arg	5:42	5:48	5	p_cfg
water	5:42	0:0	6	p_cfg
op	5:50	0:0	4	||
call	5:53	5:103	4	vlm_ControlMediaGetByName
arg	5:80	5:85	5	p_vlm
water	5:80	0:0	6	p_vlm
arg	5:87	5:103	5	p_cfg->psz_name
water	5:87	0:0	6	p_cfg
op	5:92	0:0	6	->
water	5:94	0:0	6	psz_name
stmts	6:4	9:4	3	
water	6:4	0:0	4	{
call	7:8	7:52	4	msg_Err
arg	7:17	7:22	5	p_vlm
water	7:17	0:0	6	p_vlm
arg	7:24	7:52	5	"invalid media description"
water	7:24	0:0	6	"invalid media description"
water	7:53	0:0	4	;
return	8:8	8:27	4	VLC_EGENERIC
water	8:15	0:0	5	VLC_EGENERIC
water	9:4	0:0	4	}
if	11:4	25:4	2	(p_cfg -> b_vod && ! p_vlm -> p_vod)
cond	11:8	11:32	3	p_cfg -> b_vod && ! p_vlm -> p_vod
water	11:8	0:0	4	p_cfg
op	11:13	0:0	4	->
water	11:15	0:0	4	b_vod
op	11:21	0:0	4	&&
op	11:24	0:0	4	!
water	11:25	0:0	4	p_vlm
op	11:30	0:0	4	->
water	11:32	0:0	4	p_vod
stmts	12:4	25:4	3	
water	12:4	0:0	4	{
water	13:8	0:0	4	p_vlm
op	13:13	0:0	4	->
water	13:15	0:0	4	p_vod
op	13:21	0:0	4	=
call	13:23	14:55	4	vlc_custom_create
arg	13:42	13:59	5	VLC_OBJECT(p_vlm)
call	13:42	13:58	6	VLC_OBJECT
arg	13:53	13:58	7	p_vlm
water	13:53	0:0	8	p_vlm
arg	13:61	13:76	5	sizeof(vod_t)
op	13:61	0:0	6	sizeof
water	13:67	0:0	6	(
water	13:69	0:0	6	vod_t
water	13:75	0:0	6	)
arg	14:42	14:55	5	"vod server"
water	14:42	0:0	6	"vod server"
water	14:56	0:0	4	;
water	15:8	0:0	4	p_vlm
op	15:13	0:0	4	->
water	15:15	0:0	4	p_vod
op	15:20	0:0	4	->
water	15:22	0:0	4	p_module
op	15:31	0:0	4	=
call	15:33	15:95	4	module_need
arg	15:46	15:58	5	p_vlm->p_vod
water	15:46	0:0	6	p_vlm
op	15:51	0:0	6	->
water	15:53	0:0	6	p_vod
arg	15:60	15:72	5	"vod server"
water	15:60	0:0	6	"vod server"
arg	15:74	15:87	5	"$vod-server"
water	15:74	0:0	6	"$vod-server"
arg	15:89	15:95	5	false
water	15:89	0:0	6	false
water	15:96	0:0	4	;
if	16:8	22:8	4	(! p_vlm -> p_vod -> p_module)
cond	16:12	16:27	5	! p_vlm -> p_vod -> p_module
op	16:12	0:0	6	!
water	16:13	0:0	6	p_vlm
op	16:18	0:0	6	->
water	16:20	0:0	6	p_vod
op	16:25	0:0	6	->
water	16:27	0:0	6	p_module
stmts	17:8	22:8	5	
water	17:8	0:0	6	{
call	18:12	18:53	6	msg_Err
arg	18:21	18:26	7	p_vlm
water	18:21	0:0	8	p_vlm
arg	18:28	18:53	7	"cannot find vod server"
water	18:28	0:0	8	"cannot find vod server"
water	18:54	0:0	6	;
call	19:12	19:45	6	vlc_object_release
arg	19:32	19:45	7	p_vlm->p_vod
water	19:32	0:0	8	p_vlm
op	19:37	0:0	8	->
water	19:39	0:0	8	p_vod
water	19:46	0:0	6	;
water	20:12	0:0	6	p_vlm
op	20:17	0:0	6	->
water	20:19	0:0	6	p_vod
op	20:25	0:0	6	=
water	20:27	0:0	6	NULL
water	20:31	0:0	6	;
return	21:12	21:31	6	VLC_EGENERIC
water	21:19	0:0	7	VLC_EGENERIC
water	22:8	0:0	6	}
water	23:8	0:0	4	p_vlm
op	23:13	0:0	4	->
water	23:15	0:0	4	p_vod
op	23:20	0:0	4	->
water	23:22	0:0	4	p_data
op	23:29	0:0	4	=
water	23:31	0:0	4	p_vlm
water	23:36	0:0	4	;
water	24:8	0:0	4	p_vlm
op	24:13	0:0	4	->
water	24:15	0:0	4	p_vod
op	24:20	0:0	4	->
water	24:22	0:0	4	pf_media_control
op	24:39	0:0	4	=
water	24:41	0:0	4	vlm_MediaVodControl
water	24:60	0:0	4	;
water	25:4	0:0	4	}
water	26:4	0:0	2	p_media
op	26:12	0:0	2	=
call	26:14	26:51	2	calloc
arg	26:22	26:23	3	1
water	26:22	0:0	4	1
arg	26:25	26:51	3	sizeof(vlm_media_sys_t)
op	26:25	0:0	4	sizeof
water	26:31	0:0	4	(
water	26:33	0:0	4	vlm_media_sys_t
water	26:49	0:0	4	)
water	26:52	0:0	2	;
if	27:4	28:25	2	(! p_media)
cond	27:8	27:9	3	! p_media
op	27:8	0:0	4	!
water	27:9	0:0	4	p_media
stmts	28:8	28:25	3	
return	28:8	28:25	4	VLC_ENOMEM
water	28:15	0:0	5	VLC_ENOMEM
call	29:4	29:41	2	vlm_media_Copy
arg	29:20	29:33	3	&p_media->cfg
op	29:20	0:0	4	&
water	29:21	0:0	4	p_media
op	29:28	0:0	4	->
water	29:30	0:0	4	cfg
arg	29:35	29:41	3	p_cfg
water	29:35	0:0	4	p_cfg
water	29:42	0:0	2	;
water	30:4	0:0	2	p_media
op	30:11	0:0	2	->
water	30:13	0:0	2	cfg
op	30:16	0:0	2	.
water	30:17	0:0	2	id
op	30:20	0:0	2	=
water	30:22	0:0	2	p_vlm
op	30:27	0:0	2	->
water	30:29	0:0	2	i_id
op	30:33	0:0	2	++
water	30:35	0:0	2	;
water	32:4	0:0	2	p_media
op	32:11	0:0	2	->
water	32:13	0:0	2	vod
op	32:16	0:0	2	.
water	32:17	0:0	2	p_item
op	32:24	0:0	2	=
call	32:26	32:53	2	input_item_New
arg	32:42	32:46	3	NULL
water	32:42	0:0	4	NULL
arg	32:48	32:53	3	NULL
water	32:48	0:0	4	NULL
water	32:54	0:0	2	;
water	33:4	0:0	2	p_media
op	33:11	0:0	2	->
water	33:13	0:0	2	vod
op	33:16	0:0	2	.
water	33:17	0:0	2	p_media
op	33:25	0:0	2	=
water	33:27	0:0	2	NULL
water	33:31	0:0	2	;
call	34:4	34:53	2	TAB_INIT
arg	34:14	34:33	3	p_media->i_instance
water	34:14	0:0	4	p_media
op	34:21	0:0	4	->
water	34:23	0:0	4	i_instance
arg	34:35	34:53	3	p_media->instance
water	34:35	0:0	4	p_media
op	34:42	0:0	4	->
water	34:44	0:0	4	instance
water	34:54	0:0	2	;
call	36:4	36:54	2	TAB_APPEND
arg	36:16	36:30	3	p_vlm->i_media
water	36:16	0:0	4	p_vlm
op	36:21	0:0	4	->
water	36:23	0:0	4	i_media
arg	36:32	36:44	3	p_vlm->media
water	36:32	0:0	4	p_vlm
op	36:37	0:0	4	->
water	36:39	0:0	4	media
arg	36:46	36:54	3	p_media
water	36:46	0:0	4	p_media
water	36:55	0:0	2	;
if	37:4	38:31	2	(p_id)
cond	37:8	37:8	3	p_id
water	37:8	0:0	4	p_id
stmts	38:8	38:31	3	
op	38:8	0:0	4	*
water	38:9	0:0	4	p_id
op	38:14	0:0	4	=
water	38:16	0:0	4	p_media
op	38:23	0:0	4	->
water	38:25	0:0	4	cfg
op	38:28	0:0	4	.
water	38:29	0:0	4	id
water	38:31	0:0	4	;
call	40:4	40:75	2	vlm_SendEventMediaAdded
arg	40:29	40:34	3	p_vlm
water	40:29	0:0	4	p_vlm
arg	40:36	40:51	3	p_media->cfg.id
water	40:36	0:0	4	p_media
op	40:43	0:0	4	->
water	40:45	0:0	4	cfg
op	40:48	0:0	4	.
water	40:49	0:0	4	id
arg	40:53	40:75	3	p_media->cfg.psz_name
water	40:53	0:0	4	p_media
op	40:60	0:0	4	->
water	40:62	0:0	4	cfg
op	40:65	0:0	4	.
water	40:66	0:0	4	psz_name
water	40:76	0:0	2	;
return	41:4	41:46	2	vlm_OnMediaUpdate(p_vlm,p_media)
call	41:11	41:45	3	vlm_OnMediaUpdate
arg	41:30	41:35	4	p_vlm
water	41:30	0:0	5	p_vlm
arg	41:37	41:45	4	p_media
water	41:37	0:0	5	p_media
