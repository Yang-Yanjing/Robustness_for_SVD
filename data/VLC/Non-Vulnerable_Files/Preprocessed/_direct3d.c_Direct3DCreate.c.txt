func	2:0	44:0	0	static int	Direct3DCreate
params	2:25	0:0	1	
param	2:26	2:44	2	vout_display_t *	vd
stmnts	0:0	43:22	1	
decl	4:4	4:37	2	vout_display_sys_t	*sys
op	4:28	0:0	2	=
water	4:30	0:0	2	vd
op	4:32	0:0	2	->
water	4:34	0:0	2	sys
water	5:4	0:0	2	sys
op	5:7	0:0	2	->
water	5:9	0:0	2	hd3d9_dll
op	5:19	0:0	2	=
call	5:21	5:49	2	LoadLibrary
arg	5:33	5:49	3	TEXT("D3D9.DLL")
call	5:33	5:48	4	TEXT
arg	5:38	5:48	5	"D3D9.DLL"
water	5:38	0:0	6	"D3D9.DLL"
water	5:50	0:0	2	;
if	6:4	9:4	2	(! sys -> hd3d9_dll)
cond	6:8	6:14	3	! sys -> hd3d9_dll
op	6:8	0:0	4	!
water	6:9	0:0	4	sys
op	6:12	0:0	4	->
water	6:14	0:0	4	hd3d9_dll
stmts	6:25	9:4	3	
water	6:25	0:0	4	{
call	7:8	7:53	4	msg_Warn
arg	7:17	7:19	5	vd
water	7:17	0:0	6	vd
arg	7:21	7:53	5	"cannot load d3d9.dll, aborting"
water	7:21	0:0	6	"cannot load d3d9.dll, aborting"
water	7:54	0:0	4	;
return	8:8	8:27	4	VLC_EGENERIC
water	8:15	0:0	5	VLC_EGENERIC
water	9:4	0:0	4	}
call	10:4	10:43	2	LPDIRECT3D9
arg	10:17	10:43	3	WINAPI*OurDirect3DCreate9
water	10:17	0:0	4	WINAPI
op	10:24	0:0	4	*
water	10:25	0:0	4	OurDirect3DCreate9
water	10:44	0:0	2	(
water	10:45	0:0	2	UINT
water	10:50	0:0	2	SDKVersion
water	10:60	0:0	2	)
water	10:61	0:0	2	;
water	11:4	0:0	2	OurDirect3DCreate9
op	11:23	0:0	2	=
water	12:8	0:0	2	(
water	12:9	0:0	2	void
op	12:14	0:0	2	*
water	12:15	0:0	2	)
call	12:16	12:64	2	GetProcAddress
arg	12:31	12:45	3	sys->hd3d9_dll
water	12:31	0:0	4	sys
op	12:34	0:0	4	->
water	12:36	0:0	4	hd3d9_dll
arg	12:47	12:64	3	"Direct3DCreate9"
water	12:47	0:0	4	"Direct3DCreate9"
water	12:65	0:0	2	;
if	13:4	16:4	2	(! OurDirect3DCreate9)
cond	13:8	13:9	3	! OurDirect3DCreate9
op	13:8	0:0	4	!
water	13:9	0:0	4	OurDirect3DCreate9
stmts	13:29	16:4	3	
water	13:29	0:0	4	{
call	14:8	14:75	4	msg_Err
arg	14:16	14:18	5	vd
water	14:16	0:0	6	vd
arg	14:20	14:75	5	"Cannot locate reference to Direct3DCreate9 ABI in DLL"
water	14:20	0:0	6	"Cannot locate reference to Direct3DCreate9 ABI in DLL"
water	14:76	0:0	4	;
return	15:8	15:27	4	VLC_EGENERIC
water	15:15	0:0	5	VLC_EGENERIC
water	16:4	0:0	4	}
decl	18:4	18:60	2	LPDIRECT3D9	d3dobj
op	18:23	0:0	2	=
call	18:25	18:59	3	OurDirect3DCreate9
arg	18:44	18:59	4	D3D_SDK_VERSION
water	18:44	0:0	5	D3D_SDK_VERSION
if	19:4	22:4	2	(! d3dobj)
cond	19:8	19:9	3	! d3dobj
op	19:8	0:0	4	!
water	19:9	0:0	4	d3dobj
stmts	19:17	22:4	3	
water	19:17	0:0	4	{
call	20:7	20:57	4	msg_Err
arg	20:15	20:17	5	vd
water	20:15	0:0	6	vd
arg	20:19	20:57	5	"Could not create Direct3D9 instance."
water	20:19	0:0	6	"Could not create Direct3D9 instance."
water	20:58	0:0	4	;
return	21:7	21:26	4	VLC_EGENERIC
water	21:14	0:0	5	VLC_EGENERIC
water	22:4	0:0	4	}
water	23:4	0:0	2	sys
op	23:7	0:0	2	->
water	23:9	0:0	2	d3dobj
op	23:16	0:0	2	=
water	23:18	0:0	2	d3dobj
water	23:24	0:0	2	;
water	24:4	0:0	2	sys
op	24:7	0:0	2	->
water	24:9	0:0	2	hd3d9x_dll
op	24:20	0:0	2	=
call	24:22	24:48	2	Direct3DLoadShaderLibrary
water	24:49	0:0	2	;
if	25:4	26:97	2	(! sys -> hd3d9x_dll)
cond	25:8	25:14	3	! sys -> hd3d9x_dll
op	25:8	0:0	4	!
water	25:9	0:0	4	sys
op	25:12	0:0	4	->
water	25:14	0:0	4	hd3d9x_dll
stmts	26:8	26:97	3	
call	26:8	26:96	4	msg_Warn
arg	26:17	26:19	5	vd
water	26:17	0:0	6	vd
arg	26:21	26:96	5	"cannot load Direct3D Shader Library; HLSL pixel shading will be disabled."
water	26:21	0:0	6	"cannot load Direct3D Shader Library; HLSL pixel shading will be disabled."
water	26:97	0:0	4	;
call	30:4	30:50	2	ZeroMemory
arg	30:15	30:28	3	&sys->d3dcaps
op	30:15	0:0	4	&
water	30:16	0:0	4	sys
op	30:19	0:0	4	->
water	30:21	0:0	4	d3dcaps
arg	30:30	30:50	3	sizeof(sys->d3dcaps)
op	30:30	0:0	4	sizeof
water	30:36	0:0	4	(
water	30:37	0:0	4	sys
op	30:40	0:0	4	->
water	30:42	0:0	4	d3dcaps
water	30:49	0:0	4	)
water	30:51	0:0	2	;
decl	31:4	31:100	2	HRESULT	hr
op	31:15	0:0	2	=
call	31:17	31:99	3	IDirect3D9_GetDeviceCaps
arg	31:42	31:48	4	d3dobj
water	31:42	0:0	5	d3dobj
arg	31:50	31:68	4	D3DADAPTER_DEFAULT
water	31:50	0:0	5	D3DADAPTER_DEFAULT
arg	31:70	31:84	4	D3DDEVTYPE_HAL
water	31:70	0:0	5	D3DDEVTYPE_HAL
arg	31:86	31:99	4	&sys->d3dcaps
op	31:86	0:0	5	&
water	31:87	0:0	5	sys
op	31:90	0:0	5	->
water	31:92	0:0	5	d3dcaps
if	32:4	35:4	2	(FAILED (hr ))
cond	32:8	32:17	3	FAILED (hr )
call	32:8	32:17	4	FAILED
arg	32:15	32:17	5	hr
water	32:15	0:0	6	hr
stmts	32:20	35:4	3	
water	32:20	0:0	4	{
call	33:7	33:72	4	msg_Err
arg	33:15	33:17	5	vd
water	33:15	0:0	6	vd
arg	33:19	33:68	5	"Could not read adapter capabilities. (hr=0x%lX)"
water	33:19	0:0	6	"Could not read adapter capabilities. (hr=0x%lX)"
arg	33:70	33:72	5	hr
water	33:70	0:0	6	hr
water	33:73	0:0	4	;
return	34:7	34:26	4	VLC_EGENERIC
water	34:14	0:0	5	VLC_EGENERIC
water	35:4	0:0	4	}
if	37:4	42:4	2	(! ( sys -> d3dcaps . DevCaps2 & D3DDEVCAPS2_CAN_STRETCHRECT_FROM_TEXTURES ) || ! ( sys -> d3dcaps . TextureFilterCaps & ( D3DPTFILTERCAPS_MAGFLINEAR ) ) || ! ( sys -> d3dcaps . TextureFilterCaps & ( D3DPTFILTERCAPS_MINFLINEAR ) ))
cond	37:8	39:71	3	! ( sys -> d3dcaps . DevCaps2 & D3DDEVCAPS2_CAN_STRETCHRECT_FROM_TEXTURES ) || ! ( sys -> d3dcaps . TextureFilterCaps & ( D3DPTFILTERCAPS_MAGFLINEAR ) ) || ! ( sys -> d3dcaps . TextureFilterCaps & ( D3DPTFILTERCAPS_MINFLINEAR ) )
op	37:8	0:0	4	!
water	37:9	0:0	4	(
water	37:10	0:0	4	sys
op	37:13	0:0	4	->
water	37:15	0:0	4	d3dcaps
op	37:22	0:0	4	.
water	37:23	0:0	4	DevCaps2
op	37:32	0:0	4	&
water	37:34	0:0	4	D3DDEVCAPS2_CAN_STRETCHRECT_FROM_TEXTURES
water	37:75	0:0	4	)
op	37:77	0:0	4	||
op	38:8	0:0	4	!
water	38:9	0:0	4	(
water	38:10	0:0	4	sys
op	38:13	0:0	4	->
water	38:15	0:0	4	d3dcaps
op	38:22	0:0	4	.
water	38:23	0:0	4	TextureFilterCaps
op	38:41	0:0	4	&
water	38:43	0:0	4	(
water	38:44	0:0	4	D3DPTFILTERCAPS_MAGFLINEAR
water	38:70	0:0	4	)
water	38:71	0:0	4	)
op	38:73	0:0	4	||
op	39:8	0:0	4	!
water	39:9	0:0	4	(
water	39:10	0:0	4	sys
op	39:13	0:0	4	->
water	39:15	0:0	4	d3dcaps
op	39:22	0:0	4	.
water	39:23	0:0	4	TextureFilterCaps
op	39:41	0:0	4	&
water	39:43	0:0	4	(
water	39:44	0:0	4	D3DPTFILTERCAPS_MINFLINEAR
water	39:70	0:0	4	)
water	39:71	0:0	4	)
stmts	39:74	42:4	3	
water	39:74	0:0	4	{
call	40:8	40:71	4	msg_Err
arg	40:16	40:18	5	vd
water	40:16	0:0	6	vd
arg	40:20	40:71	5	"Device does not support stretching from textures."
water	40:20	0:0	6	"Device does not support stretching from textures."
water	40:72	0:0	4	;
return	41:8	41:27	4	VLC_EGENERIC
water	41:15	0:0	5	VLC_EGENERIC
water	42:4	0:0	4	}
return	43:4	43:22	2	VLC_SUCCESS
water	43:11	0:0	3	VLC_SUCCESS
