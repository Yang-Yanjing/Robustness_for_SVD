func	2:0	76:0	0	static int	Create
params	2:17	0:0	1	
param	2:19	2:40	2	vlc_object_t *	p_this
stmnts	0:0	75:22	1	
decl	4:4	4:43	2	filter_t	*p_filter
op	4:23	0:0	2	=
water	4:25	0:0	2	(
water	4:26	0:0	2	filter_t
op	4:35	0:0	2	*
water	4:36	0:0	2	)
water	4:37	0:0	2	p_this
decl	5:4	5:20	2	char	*psz_method
water	7:4	0:0	2	p_filter
op	7:12	0:0	2	->
water	7:14	0:0	2	p_sys
op	7:20	0:0	2	=
call	7:22	7:53	2	malloc
arg	7:30	7:53	3	sizeof(filter_sys_t)
op	7:30	0:0	4	sizeof
water	7:36	0:0	4	(
water	7:38	0:0	4	filter_sys_t
water	7:51	0:0	4	)
water	7:54	0:0	2	;
if	8:4	9:25	2	(p_filter -> p_sys == NULL)
cond	8:8	8:27	3	p_filter -> p_sys == NULL
water	8:8	0:0	4	p_filter
op	8:16	0:0	4	->
water	8:18	0:0	4	p_sys
op	8:24	0:0	4	==
water	8:27	0:0	4	NULL
stmts	9:8	9:25	3	
return	9:8	9:25	4	VLC_ENOMEM
water	9:15	0:0	5	VLC_ENOMEM
switch	10:4	33:4	2	(p_filter -> fmt_in . video . i_chroma)
cond	10:12	10:35	3	p_filter -> fmt_in . video . i_chroma
water	10:12	0:0	4	p_filter
op	10:20	0:0	4	->
water	10:22	0:0	4	fmt_in
op	10:28	0:0	4	.
water	10:29	0:0	4	video
op	10:34	0:0	4	.
water	10:35	0:0	4	i_chroma
stmts	11:4	33:4	3	
water	11:4	0:0	4	{
label	12:8	12:27	4	case VLC_CODEC_I420 :
label	13:8	13:27	4	case VLC_CODEC_J420 :
water	14:12	0:0	4	p_filter
op	14:20	0:0	4	->
water	14:22	0:0	4	p_sys
op	14:27	0:0	4	->
water	14:29	0:0	4	drawingPixelFunction
op	14:50	0:0	4	=
water	14:52	0:0	4	drawPixelI420
water	14:65	0:0	4	;
water	15:12	0:0	4	COLORS_YUV
water	16:12	0:0	4	break
water	16:17	0:0	4	;
water	17:8	0:0	4	CASE_PACKED_YUV_422
water	18:12	0:0	4	p_filter
op	18:20	0:0	4	->
water	18:22	0:0	4	p_sys
op	18:27	0:0	4	->
water	18:29	0:0	4	drawingPixelFunction
op	18:50	0:0	4	=
water	18:52	0:0	4	drawPixelPacked
water	18:67	0:0	4	;
decl	19:12	23:63	4	COLORS_YUV	GetPackedYuvOffsets
water	20:31	0:0	4	(
water	20:33	0:0	4	p_filter
op	20:41	0:0	4	->
water	20:43	0:0	4	fmt_in
op	20:49	0:0	4	.
water	20:50	0:0	4	video
op	20:55	0:0	4	.
water	20:56	0:0	4	i_chroma
water	20:64	0:0	4	,
op	21:33	0:0	4	&
water	21:34	0:0	4	p_filter
op	21:42	0:0	4	->
water	21:44	0:0	4	p_sys
op	21:49	0:0	4	->
water	21:51	0:0	4	i_y_offset
water	21:61	0:0	4	,
op	22:33	0:0	4	&
water	22:34	0:0	4	p_filter
op	22:42	0:0	4	->
water	22:44	0:0	4	p_sys
op	22:49	0:0	4	->
water	22:51	0:0	4	i_u_offset
water	22:61	0:0	4	,
op	23:33	0:0	4	&
water	23:34	0:0	4	p_filter
op	23:42	0:0	4	->
water	23:44	0:0	4	p_sys
op	23:49	0:0	4	->
water	23:51	0:0	4	i_v_offset
water	23:62	0:0	4	)
break	24:12	24:17	4	
label	25:8	25:28	4	case VLC_CODEC_RGB24 :
water	26:12	0:0	4	p_filter
op	26:20	0:0	4	->
water	26:22	0:0	4	p_sys
op	26:27	0:0	4	->
water	26:29	0:0	4	drawingPixelFunction
op	26:50	0:0	4	=
water	26:52	0:0	4	drawPixelRGB24
water	26:66	0:0	4	;
water	27:12	0:0	4	COLORS_RGB
water	28:12	0:0	4	break
water	28:17	0:0	4	;
label	29:8	29:15	4	default :
call	30:12	31:63	4	msg_Err
arg	30:21	30:29	5	p_filter
water	30:21	0:0	6	p_filter
arg	30:31	30:65	5	"Unsupported input chroma (%4.4s)"
water	30:31	0:0	6	"Unsupported input chroma (%4.4s)"
arg	31:21	31:63	5	(char*)&(p_filter->fmt_in.video.i_chroma)
water	31:21	0:0	6	(
water	31:22	0:0	6	char
op	31:26	0:0	6	*
water	31:27	0:0	6	)
op	31:28	0:0	6	&
water	31:29	0:0	6	(
water	31:30	0:0	6	p_filter
op	31:38	0:0	6	->
water	31:40	0:0	6	fmt_in
op	31:46	0:0	6	.
water	31:47	0:0	6	video
op	31:52	0:0	6	.
water	31:53	0:0	6	i_chroma
water	31:61	0:0	6	)
water	31:64	0:0	4	;
return	32:12	32:31	4	VLC_EGENERIC
water	32:19	0:0	5	VLC_EGENERIC
water	33:4	0:0	4	}
water	34:4	0:0	2	p_filter
op	34:12	0:0	2	->
water	34:14	0:0	2	p_sys
op	34:19	0:0	2	->
water	34:21	0:0	2	p_image
op	34:29	0:0	2	=
call	34:31	34:61	2	image_HandlerCreate
arg	34:52	34:61	3	p_filter
water	34:52	0:0	4	p_filter
water	34:62	0:0	2	;
if	35:4	36:27	2	(p_filter -> p_sys -> p_image == NULL)
cond	35:8	35:36	3	p_filter -> p_sys -> p_image == NULL
water	35:8	0:0	4	p_filter
op	35:16	0:0	4	->
water	35:18	0:0	4	p_sys
op	35:23	0:0	4	->
water	35:25	0:0	4	p_image
op	35:33	0:0	4	==
water	35:36	0:0	4	NULL
stmts	36:8	36:27	3	
return	36:8	36:27	4	VLC_EGENERIC
water	36:15	0:0	5	VLC_EGENERIC
water	37:4	0:0	2	p_filter
op	37:12	0:0	2	->
water	37:14	0:0	2	pf_video_filter
op	37:30	0:0	2	=
water	37:32	0:0	2	Filter
water	37:38	0:0	2	;
call	38:4	39:39	2	config_ChainParse
arg	38:23	38:31	3	p_filter
water	38:23	0:0	4	p_filter
arg	38:33	38:46	3	FILTER_PREFIX
water	38:33	0:0	4	FILTER_PREFIX
arg	38:48	38:67	3	ppsz_filter_options
water	38:48	0:0	4	ppsz_filter_options
arg	39:23	39:39	3	p_filter->p_cfg
water	39:23	0:0	4	p_filter
op	39:31	0:0	4	->
water	39:33	0:0	4	p_cfg
water	39:40	0:0	2	;
if	40:4	47:4	2	(! ( psz_method =var_CreateGetNonEmptyStringCommand (p_filter ,FILTER_PREFIX "color" ) ))
cond	40:8	42:68	3	! ( psz_method =var_CreateGetNonEmptyStringCommand (p_filter ,FILTER_PREFIX "color" ) )
op	40:8	0:0	4	!
water	40:9	0:0	4	(
water	40:10	0:0	4	psz_method
op	40:21	0:0	4	=
call	41:8	42:66	4	var_CreateGetNonEmptyStringCommand
arg	41:44	41:52	5	p_filter
water	41:44	0:0	6	p_filter
arg	42:44	42:66	5	FILTER_PREFIX"color"
water	42:44	0:0	6	FILTER_PREFIX
water	42:58	0:0	6	"color"
water	42:68	0:0	4	)
stmts	43:4	47:4	3	
water	43:4	0:0	4	{
call	44:8	45:45	4	msg_Err
arg	44:17	44:25	5	p_filter
water	44:17	0:0	6	p_filter
arg	44:27	45:45	5	"configuration variable "FILTER_PREFIX"color empty"
water	44:27	0:0	6	"configuration variable "
water	45:17	0:0	6	FILTER_PREFIX
water	45:31	0:0	6	"color empty"
water	45:46	0:0	4	;
water	46:8	0:0	4	p_filter
op	46:16	0:0	4	->
water	46:18	0:0	4	p_sys
op	46:23	0:0	4	->
water	46:25	0:0	4	ballColor
op	46:35	0:0	4	=
water	46:37	0:0	4	RED
water	46:40	0:0	4	;
water	47:4	0:0	4	}
else	48:4	49:71	2
stmts	49:8	49:71	3	
water	49:8	0:0	4	p_filter
op	49:16	0:0	4	->
water	49:18	0:0	4	p_sys
op	49:23	0:0	4	->
water	49:25	0:0	4	ballColor
op	49:35	0:0	4	=
call	49:37	49:70	4	getBallColor
arg	49:51	49:57	5	p_this
water	49:51	0:0	6	p_this
arg	49:59	49:70	5	psz_method
water	49:59	0:0	6	psz_method
water	49:71	0:0	4	;
call	50:4	50:21	2	free
arg	50:10	50:21	3	psz_method
water	50:10	0:0	4	psz_method
water	50:22	0:0	2	;
water	51:4	0:0	2	p_filter
op	51:12	0:0	2	->
water	51:14	0:0	2	p_sys
op	51:19	0:0	2	->
water	51:21	0:0	2	i_ballSize
op	51:32	0:0	2	=
call	52:12	52:72	2	var_CreateGetIntegerCommand
arg	52:41	52:49	3	p_filter
water	52:41	0:0	4	p_filter
arg	52:51	52:72	3	FILTER_PREFIX"size"
water	52:51	0:0	4	FILTER_PREFIX
water	52:65	0:0	4	"size"
water	52:73	0:0	2	;
water	53:4	0:0	2	p_filter
op	53:12	0:0	2	->
water	53:14	0:0	2	p_sys
op	53:19	0:0	2	->
water	53:21	0:0	2	i_ballSpeed
op	53:33	0:0	2	=
call	54:12	54:73	2	var_CreateGetIntegerCommand
arg	54:41	54:49	3	p_filter
water	54:41	0:0	4	p_filter
arg	54:51	54:73	3	FILTER_PREFIX"speed"
water	54:51	0:0	4	FILTER_PREFIX
water	54:65	0:0	4	"speed"
water	54:74	0:0	2	;
water	55:4	0:0	2	p_filter
op	55:12	0:0	2	->
water	55:14	0:0	2	p_sys
op	55:19	0:0	2	->
water	55:21	0:0	2	b_edgeVisible
op	55:35	0:0	2	=
call	56:12	56:77	2	var_CreateGetBoolCommand
arg	56:38	56:46	3	p_filter
water	56:38	0:0	4	p_filter
arg	56:48	56:77	3	FILTER_PREFIX"edge-visible"
water	56:48	0:0	4	FILTER_PREFIX
water	56:62	0:0	4	"edge-visible"
water	56:78	0:0	2	;
water	57:4	0:0	2	p_filter
op	57:12	0:0	2	->
water	57:14	0:0	2	p_sys
op	57:19	0:0	2	->
water	57:21	0:0	2	i_gradThresh
op	57:34	0:0	2	=
call	58:12	58:86	2	var_CreateGetIntegerCommand
arg	58:41	58:49	3	p_filter
water	58:41	0:0	4	p_filter
arg	58:51	58:86	3	FILTER_PREFIX"gradient-threshold"
water	58:51	0:0	4	FILTER_PREFIX
water	58:65	0:0	4	"gradient-threshold"
water	58:87	0:0	2	;
call	59:4	59:43	2	vlc_mutex_init
arg	59:20	59:43	3	&p_filter->p_sys->lock
op	59:20	0:0	4	&
water	59:21	0:0	4	p_filter
op	59:29	0:0	4	->
water	59:31	0:0	4	p_sys
op	59:36	0:0	4	->
water	59:38	0:0	4	lock
water	59:44	0:0	2	;
call	60:4	61:51	2	var_AddCallback
arg	60:21	60:29	3	p_filter
water	60:21	0:0	4	p_filter
arg	60:31	60:52	3	FILTER_PREFIX"color"
water	60:31	0:0	4	FILTER_PREFIX
water	60:45	0:0	4	"color"
arg	61:21	61:33	3	ballCallback
water	61:21	0:0	4	ballCallback
arg	61:35	61:51	3	p_filter->p_sys
water	61:35	0:0	4	p_filter
op	61:43	0:0	4	->
water	61:45	0:0	4	p_sys
water	61:52	0:0	2	;
call	62:4	63:51	2	var_AddCallback
arg	62:21	62:29	3	p_filter
water	62:21	0:0	4	p_filter
arg	62:31	62:51	3	FILTER_PREFIX"size"
water	62:31	0:0	4	FILTER_PREFIX
water	62:45	0:0	4	"size"
arg	63:21	63:33	3	ballCallback
water	63:21	0:0	4	ballCallback
arg	63:35	63:51	3	p_filter->p_sys
water	63:35	0:0	4	p_filter
op	63:43	0:0	4	->
water	63:45	0:0	4	p_sys
water	63:52	0:0	2	;
call	64:4	65:51	2	var_AddCallback
arg	64:21	64:29	3	p_filter
water	64:21	0:0	4	p_filter
arg	64:31	64:52	3	FILTER_PREFIX"speed"
water	64:31	0:0	4	FILTER_PREFIX
water	64:45	0:0	4	"speed"
arg	65:21	65:33	3	ballCallback
water	65:21	0:0	4	ballCallback
arg	65:35	65:51	3	p_filter->p_sys
water	65:35	0:0	4	p_filter
op	65:43	0:0	4	->
water	65:45	0:0	4	p_sys
water	65:52	0:0	2	;
call	66:4	67:51	2	var_AddCallback
arg	66:21	66:29	3	p_filter
water	66:21	0:0	4	p_filter
arg	66:31	66:59	3	FILTER_PREFIX"edge-visible"
water	66:31	0:0	4	FILTER_PREFIX
water	66:45	0:0	4	"edge-visible"
arg	67:21	67:33	3	ballCallback
water	67:21	0:0	4	ballCallback
arg	67:35	67:51	3	p_filter->p_sys
water	67:35	0:0	4	p_filter
op	67:43	0:0	4	->
water	67:45	0:0	4	p_sys
water	67:52	0:0	2	;
water	68:4	0:0	2	p_filter
op	68:12	0:0	2	->
water	68:14	0:0	2	p_sys
op	68:19	0:0	2	->
water	68:21	0:0	2	p_smooth
op	68:30	0:0	2	=
water	68:32	0:0	2	NULL
water	68:36	0:0	2	;
water	69:4	0:0	2	p_filter
op	69:12	0:0	2	->
water	69:14	0:0	2	p_sys
op	69:19	0:0	2	->
water	69:21	0:0	2	p_grad_x
op	69:30	0:0	2	=
water	69:32	0:0	2	NULL
water	69:36	0:0	2	;
water	70:4	0:0	2	p_filter
op	70:12	0:0	2	->
water	70:14	0:0	2	p_sys
op	70:19	0:0	2	->
water	70:21	0:0	2	p_grad_y
op	70:30	0:0	2	=
water	70:32	0:0	2	NULL
water	70:36	0:0	2	;
water	71:4	0:0	2	p_filter
op	71:12	0:0	2	->
water	71:14	0:0	2	p_sys
op	71:19	0:0	2	->
water	71:21	0:0	2	i_ball_x
op	71:30	0:0	2	=
water	71:32	0:0	2	100
water	71:35	0:0	2	;
water	72:4	0:0	2	p_filter
op	72:12	0:0	2	->
water	72:14	0:0	2	p_sys
op	72:19	0:0	2	->
water	72:21	0:0	2	i_ball_y
op	72:30	0:0	2	=
water	72:32	0:0	2	100
water	72:35	0:0	2	;
water	73:4	0:0	2	p_filter
op	73:12	0:0	2	->
water	73:14	0:0	2	p_sys
op	73:19	0:0	2	->
water	73:21	0:0	2	f_lastVect_x
op	73:34	0:0	2	=
water	73:36	0:0	2	0
water	73:37	0:0	2	;
water	74:4	0:0	2	p_filter
op	74:12	0:0	2	->
water	74:14	0:0	2	p_sys
op	74:19	0:0	2	->
water	74:21	0:0	2	f_lastVect_y
op	74:34	0:0	2	=
op	74:36	0:0	2	-
water	74:37	0:0	2	1
water	74:38	0:0	2	;
return	75:4	75:22	2	VLC_SUCCESS
water	75:11	0:0	3	VLC_SUCCESS
