func	2:0	17:0	0	static int	TsPopCmdLocked
params	2:25	0:0	1	
param	2:27	2:44	2	ts_thread_t *	p_ts
param	2:46	2:61	2	ts_cmd_t *	p_cmd
param	2:63	2:76	2	bool	b_flush
stmnts	4:4	16:22	1	
call	4:4	4:35	2	vlc_assert_locked
arg	4:23	4:35	3	&p_ts->lock
op	4:23	0:0	4	&
water	4:24	0:0	4	p_ts
op	4:28	0:0	4	->
water	4:30	0:0	4	lock
water	4:36	0:0	2	;
if	5:4	6:27	2	(TsStorageIsEmpty (p_ts -> p_storage_r ))
cond	5:8	5:44	3	TsStorageIsEmpty (p_ts -> p_storage_r )
call	5:8	5:44	4	TsStorageIsEmpty
arg	5:26	5:44	5	p_ts->p_storage_r
water	5:26	0:0	6	p_ts
op	5:30	0:0	6	->
water	5:32	0:0	6	p_storage_r
stmts	6:8	6:27	3	
return	6:8	6:27	4	VLC_EGENERIC
water	6:15	0:0	5	VLC_EGENERIC
call	7:4	7:55	2	TsStoragePopCmd
arg	7:21	7:38	3	p_ts->p_storage_r
water	7:21	0:0	4	p_ts
op	7:25	0:0	4	->
water	7:27	0:0	4	p_storage_r
arg	7:40	7:45	3	p_cmd
water	7:40	0:0	4	p_cmd
arg	7:47	7:55	3	b_flush
water	7:47	0:0	4	b_flush
water	7:56	0:0	2	;
while	8:4	15:4	2	(p_ts -> p_storage_r &&TsStorageIsEmpty (p_ts -> p_storage_r ))
cond	8:11	8:68	3	p_ts -> p_storage_r &&TsStorageIsEmpty (p_ts -> p_storage_r )
water	8:11	0:0	4	p_ts
op	8:15	0:0	4	->
water	8:17	0:0	4	p_storage_r
op	8:29	0:0	4	&&
call	8:32	8:68	4	TsStorageIsEmpty
arg	8:50	8:68	5	p_ts->p_storage_r
water	8:50	0:0	6	p_ts
op	8:54	0:0	6	->
water	8:56	0:0	6	p_storage_r
stmts	9:4	15:4	3	
water	9:4	0:0	4	{
decl	10:8	10:56	4	ts_storage_t	*p_next
op	10:29	0:0	4	=
water	10:31	0:0	4	p_ts
op	10:35	0:0	4	->
water	10:37	0:0	4	p_storage_r
op	10:48	0:0	4	->
water	10:50	0:0	4	p_next
if	11:8	12:17	4	(! p_next)
cond	11:12	11:13	5	! p_next
op	11:12	0:0	6	!
water	11:13	0:0	6	p_next
stmts	12:12	12:17	5	
break	12:12	12:17	6	
call	13:8	13:43	4	TsStorageDelete
arg	13:25	13:43	5	p_ts->p_storage_r
water	13:25	0:0	6	p_ts
op	13:29	0:0	6	->
water	13:31	0:0	6	p_storage_r
water	13:44	0:0	4	;
water	14:8	0:0	4	p_ts
op	14:12	0:0	4	->
water	14:14	0:0	4	p_storage_r
op	14:26	0:0	4	=
water	14:28	0:0	4	p_next
water	14:34	0:0	4	;
water	15:4	0:0	4	}
return	16:4	16:22	2	VLC_SUCCESS
water	16:11	0:0	3	VLC_SUCCESS
