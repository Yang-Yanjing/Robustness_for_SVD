func	2:0	60:0	0	int	screen_InitCapture
params	2:22	0:0	1	
param	2:23	2:39	2	demux_t *	p_demux
stmnts	0:0	59:22	1	
decl	4:4	4:39	2	demux_sys_t	*p_sys
op	4:23	0:0	2	=
water	4:25	0:0	2	p_demux
op	4:32	0:0	2	->
water	4:34	0:0	2	p_sys
decl	5:4	5:25	2	screen_data_t	*p_data
decl	6:4	6:26	2	CGLError	returnedError
water	7:4	0:0	2	p_sys
op	7:9	0:0	2	->
water	7:11	0:0	2	p_data
op	7:18	0:0	2	=
water	7:20	0:0	2	p_data
op	7:27	0:0	2	=
call	7:29	7:60	2	calloc
arg	7:36	7:37	3	1
water	7:36	0:0	4	1
arg	7:39	7:60	3	sizeof(screen_data_t)
op	7:39	0:0	4	sizeof
water	7:45	0:0	4	(
water	7:46	0:0	4	screen_data_t
water	7:59	0:0	4	)
water	7:61	0:0	2	;
if	8:4	9:25	2	(! p_data)
cond	8:8	8:9	3	! p_data
op	8:8	0:0	4	!
water	8:9	0:0	4	p_data
stmts	9:8	9:25	3	
return	9:8	9:25	4	VLC_ENOMEM
water	9:15	0:0	5	VLC_ENOMEM
water	11:4	0:0	2	p_data
op	11:10	0:0	2	->
water	11:12	0:0	2	display_id
op	11:23	0:0	2	=
water	11:25	0:0	2	kCGDirectMainDisplay
water	11:45	0:0	2	;
water	12:4	0:0	2	p_data
op	12:10	0:0	2	->
water	12:12	0:0	2	rate
op	12:17	0:0	2	=
call	12:19	12:58	2	var_InheritFloat
arg	12:37	12:44	3	p_demux
water	12:37	0:0	4	p_demux
arg	12:46	12:58	3	"screen-fps"
water	12:46	0:0	4	"screen-fps"
water	12:59	0:0	2	;
decl	13:4	13:33	2	unsigned int	displayCount
op	13:30	0:0	2	=
water	13:32	0:0	2	0
water	14:4	0:0	2	returnedError
op	14:18	0:0	2	=
call	14:20	14:65	2	CGGetOnlineDisplayList
arg	14:43	14:44	3	0
water	14:43	0:0	4	0
arg	14:46	14:50	3	NULL
water	14:46	0:0	4	NULL
arg	14:52	14:65	3	&displayCount
op	14:52	0:0	4	&
water	14:53	0:0	4	displayCount
water	14:66	0:0	2	;
if	15:4	31:4	2	(! returnedError)
cond	15:8	15:9	3	! returnedError
op	15:8	0:0	4	!
water	15:9	0:0	4	returnedError
stmts	15:24	31:4	3	
water	15:24	0:0	4	{
decl	16:8	16:30	4	CGDirectDisplayID	*ids
water	17:8	0:0	4	ids
op	17:12	0:0	4	=
water	17:14	0:0	4	(
water	17:15	0:0	4	CGDirectDisplayID
op	17:33	0:0	4	*
water	17:34	0:0	4	)
call	17:35	17:82	4	malloc
arg	17:42	17:82	5	displayCount*sizeof(CGDirectDisplayID)
water	17:42	0:0	6	displayCount
op	17:55	0:0	6	*
op	17:57	0:0	6	sizeof
water	17:63	0:0	6	(
water	17:64	0:0	6	CGDirectDisplayID
water	17:81	0:0	6	)
water	17:83	0:0	4	;
water	18:8	0:0	4	returnedError
op	18:22	0:0	4	=
call	18:24	18:79	4	CGGetOnlineDisplayList
arg	18:47	18:59	5	displayCount
water	18:47	0:0	6	displayCount
arg	18:61	18:64	5	ids
water	18:61	0:0	6	ids
arg	18:66	18:79	5	&displayCount
op	18:66	0:0	6	&
water	18:67	0:0	6	displayCount
water	18:80	0:0	4	;
if	19:8	29:8	4	(! returnedError)
cond	19:12	19:13	5	! returnedError
op	19:12	0:0	6	!
water	19:13	0:0	6	returnedError
stmts	19:28	29:8	5	
water	19:28	0:0	6	{
if	20:12	27:12	6	(p_sys -> i_display_id > 0)
cond	20:16	20:38	7	p_sys -> i_display_id > 0
water	20:16	0:0	8	p_sys
op	20:21	0:0	8	->
water	20:23	0:0	8	i_display_id
op	20:36	0:0	8	>
water	20:38	0:0	8	0
stmts	20:41	27:12	7	
water	20:41	0:0	8	{
for	21:16	26:16	8	( unsigned int i = 0 ;i < displayCount;i ++)
forinit	0:0	21:39	9	 unsigned int i = 0 ;
decl	21:21	21:39	10	unsigned int	i
op	21:36	0:0	10	=
water	21:38	0:0	10	0
cond	21:41	21:45	9	i < displayCount
water	21:41	0:0	10	i
op	21:43	0:0	10	<
water	21:45	0:0	10	displayCount
forexpr	21:59	21:60	9	i ++
water	21:59	0:0	10	i
op	21:60	0:0	10	++
stmts	21:64	26:16	9	
water	21:64	0:0	10	{
if	22:20	25:20	10	(p_sys -> i_display_id == ids [ i ])
cond	22:24	22:52	11	p_sys -> i_display_id == ids [ i ]
water	22:24	0:0	12	p_sys
op	22:29	0:0	12	->
water	22:31	0:0	12	i_display_id
op	22:44	0:0	12	==
water	22:47	0:0	12	ids
op	22:50	0:0	12	[
water	22:51	0:0	12	i
op	22:52	0:0	12	]
stmts	22:55	25:20	11	
water	22:55	0:0	12	{
water	23:24	0:0	12	p_data
op	23:30	0:0	12	->
water	23:32	0:0	12	display_id
op	23:43	0:0	12	=
water	23:45	0:0	12	ids
op	23:48	0:0	12	[
water	23:49	0:0	12	i
op	23:50	0:0	12	]
water	23:51	0:0	12	;
break	24:24	24:29	12	
water	25:20	0:0	12	}
water	26:16	0:0	10	}
water	27:12	0:0	8	}
else	27:14	28:67	6
stmts	27:19	28:67	7	
if	27:19	28:67	8	(p_sys -> i_screen_index > 0 && p_sys -> i_screen_index <= displayCount)
cond	27:23	27:77	9	p_sys -> i_screen_index > 0 && p_sys -> i_screen_index <= displayCount
water	27:23	0:0	10	p_sys
op	27:28	0:0	10	->
water	27:30	0:0	10	i_screen_index
op	27:45	0:0	10	>
water	27:47	0:0	10	0
op	27:49	0:0	10	&&
water	27:52	0:0	10	p_sys
op	27:57	0:0	10	->
water	27:59	0:0	10	i_screen_index
op	27:74	0:0	10	<=
water	27:77	0:0	10	displayCount
stmts	28:16	28:67	9	
water	28:16	0:0	10	p_data
op	28:22	0:0	10	->
water	28:24	0:0	10	display_id
op	28:35	0:0	10	=
water	28:37	0:0	10	ids
op	28:40	0:0	10	[
water	28:41	0:0	10	p_sys
op	28:46	0:0	10	->
water	28:48	0:0	10	i_screen_index
op	28:63	0:0	10	-
water	28:65	0:0	10	1
op	28:66	0:0	10	]
water	28:67	0:0	10	;
water	29:8	0:0	6	}
call	30:8	30:16	4	free
arg	30:13	30:16	5	ids
water	30:13	0:0	6	ids
water	30:17	0:0	4	;
water	31:4	0:0	4	}
decl	33:4	33:53	2	CGRect	rect
op	33:16	0:0	2	=
call	33:18	33:52	3	CGDisplayBounds
arg	33:34	33:52	4	p_data->display_id
water	33:34	0:0	5	p_data
op	33:40	0:0	5	->
water	33:42	0:0	5	display_id
water	34:4	0:0	2	p_data
op	34:10	0:0	2	->
water	34:12	0:0	2	screen_left
op	34:24	0:0	2	=
water	34:26	0:0	2	rect
op	34:30	0:0	2	.
water	34:31	0:0	2	origin
op	34:37	0:0	2	.
water	34:38	0:0	2	x
water	34:39	0:0	2	;
water	35:4	0:0	2	p_data
op	35:10	0:0	2	->
water	35:12	0:0	2	screen_top
op	35:23	0:0	2	=
water	35:25	0:0	2	rect
op	35:29	0:0	2	.
water	35:30	0:0	2	origin
op	35:36	0:0	2	.
water	35:37	0:0	2	y
water	35:38	0:0	2	;
water	36:4	0:0	2	p_data
op	36:10	0:0	2	->
water	36:12	0:0	2	screen_width
op	36:25	0:0	2	=
water	36:27	0:0	2	rect
op	36:31	0:0	2	.
water	36:32	0:0	2	size
op	36:36	0:0	2	.
water	36:37	0:0	2	width
water	36:42	0:0	2	;
water	37:4	0:0	2	p_data
op	37:10	0:0	2	->
water	37:12	0:0	2	screen_height
op	37:26	0:0	2	=
water	37:28	0:0	2	rect
op	37:32	0:0	2	.
water	37:33	0:0	2	size
op	37:37	0:0	2	.
water	37:38	0:0	2	height
water	37:44	0:0	2	;
water	38:4	0:0	2	p_data
op	38:10	0:0	2	->
water	38:12	0:0	2	width
op	38:18	0:0	2	=
water	38:20	0:0	2	p_sys
op	38:25	0:0	2	->
water	38:27	0:0	2	i_width
water	38:34	0:0	2	;
water	39:4	0:0	2	p_data
op	39:10	0:0	2	->
water	39:12	0:0	2	height
op	39:19	0:0	2	=
water	39:21	0:0	2	p_sys
op	39:26	0:0	2	->
water	39:28	0:0	2	i_height
water	39:36	0:0	2	;
if	40:4	43:4	2	(p_data -> width <= 0 || p_data -> height <= 0)
cond	40:8	40:48	3	p_data -> width <= 0 || p_data -> height <= 0
water	40:8	0:0	4	p_data
op	40:14	0:0	4	->
water	40:16	0:0	4	width
op	40:22	0:0	4	<=
water	40:25	0:0	4	0
op	40:27	0:0	4	||
water	40:30	0:0	4	p_data
op	40:36	0:0	4	->
water	40:38	0:0	4	height
op	40:45	0:0	4	<=
water	40:48	0:0	4	0
stmts	40:51	43:4	3	
water	40:51	0:0	4	{
water	41:8	0:0	4	p_data
op	41:14	0:0	4	->
water	41:16	0:0	4	width
op	41:22	0:0	4	=
water	41:24	0:0	4	p_data
op	41:30	0:0	4	->
water	41:32	0:0	4	screen_width
water	41:44	0:0	4	;
water	42:8	0:0	4	p_data
op	42:14	0:0	4	->
water	42:16	0:0	4	height
op	42:23	0:0	4	=
water	42:25	0:0	4	p_data
op	42:31	0:0	4	->
water	42:33	0:0	4	screen_height
water	42:46	0:0	4	;
water	43:4	0:0	4	}
call	45:4	45:57	2	es_format_Init
arg	45:19	45:30	3	&p_sys->fmt
op	45:19	0:0	4	&
water	45:20	0:0	4	p_sys
op	45:25	0:0	4	->
water	45:27	0:0	4	fmt
arg	45:32	45:40	3	VIDEO_ES
water	45:32	0:0	4	VIDEO_ES
arg	45:42	45:57	3	VLC_CODEC_RGB32
water	45:42	0:0	4	VLC_CODEC_RGB32
water	45:58	0:0	2	;
water	46:4	0:0	2	p_sys
op	46:9	0:0	2	->
water	46:11	0:0	2	fmt
op	46:14	0:0	2	.
water	46:15	0:0	2	video
op	46:20	0:0	2	.
water	46:21	0:0	2	i_visible_width
op	46:39	0:0	2	=
water	47:4	0:0	2	p_sys
op	47:9	0:0	2	->
water	47:11	0:0	2	fmt
op	47:14	0:0	2	.
water	47:15	0:0	2	video
op	47:20	0:0	2	.
water	47:21	0:0	2	i_width
op	47:39	0:0	2	=
water	47:41	0:0	2	rect
op	47:45	0:0	2	.
water	47:46	0:0	2	size
op	47:50	0:0	2	.
water	47:51	0:0	2	width
water	47:56	0:0	2	;
water	48:4	0:0	2	p_sys
op	48:9	0:0	2	->
water	48:11	0:0	2	fmt
op	48:14	0:0	2	.
water	48:15	0:0	2	video
op	48:20	0:0	2	.
water	48:21	0:0	2	i_visible_height
op	48:39	0:0	2	=
water	49:4	0:0	2	p_sys
op	49:9	0:0	2	->
water	49:11	0:0	2	fmt
op	49:14	0:0	2	.
water	49:15	0:0	2	video
op	49:20	0:0	2	.
water	49:21	0:0	2	i_height
op	49:39	0:0	2	=
water	49:41	0:0	2	rect
op	49:45	0:0	2	.
water	49:46	0:0	2	size
op	49:50	0:0	2	.
water	49:51	0:0	2	height
water	49:57	0:0	2	;
water	50:4	0:0	2	p_sys
op	50:9	0:0	2	->
water	50:11	0:0	2	fmt
op	50:14	0:0	2	.
water	50:15	0:0	2	video
op	50:20	0:0	2	.
water	50:21	0:0	2	i_bits_per_pixel
op	50:39	0:0	2	=
water	50:41	0:0	2	32
water	50:43	0:0	2	;
water	51:4	0:0	2	p_sys
op	51:9	0:0	2	->
water	51:11	0:0	2	fmt
op	51:14	0:0	2	.
water	51:15	0:0	2	video
op	51:20	0:0	2	.
water	51:21	0:0	2	i_chroma
op	51:39	0:0	2	=
water	51:41	0:0	2	VLC_CODEC_RGB32
water	51:56	0:0	2	;
water	52:4	0:0	2	p_sys
op	52:9	0:0	2	->
water	52:11	0:0	2	fmt
op	52:14	0:0	2	.
water	52:15	0:0	2	video
op	52:20	0:0	2	.
water	52:21	0:0	2	i_rmask
op	52:39	0:0	2	=
water	52:41	0:0	2	0
water	52:42	0:0	2	x00ff0000
water	52:51	0:0	2	;
water	53:4	0:0	2	p_sys
op	53:9	0:0	2	->
water	53:11	0:0	2	fmt
op	53:14	0:0	2	.
water	53:15	0:0	2	video
op	53:20	0:0	2	.
water	53:21	0:0	2	i_gmask
op	53:39	0:0	2	=
water	53:41	0:0	2	0
water	53:42	0:0	2	x0000ff00
water	53:51	0:0	2	;
water	54:4	0:0	2	p_sys
op	54:9	0:0	2	->
water	54:11	0:0	2	fmt
op	54:14	0:0	2	.
water	54:15	0:0	2	video
op	54:20	0:0	2	.
water	54:21	0:0	2	i_bmask
op	54:39	0:0	2	=
water	54:41	0:0	2	0
water	54:42	0:0	2	x000000ff
water	54:51	0:0	2	;
water	55:4	0:0	2	p_sys
op	55:9	0:0	2	->
water	55:11	0:0	2	fmt
op	55:14	0:0	2	.
water	55:15	0:0	2	video
op	55:20	0:0	2	.
water	55:21	0:0	2	i_frame_rate
op	55:39	0:0	2	=
water	55:41	0:0	2	1000
op	55:46	0:0	2	*
water	55:48	0:0	2	p_data
op	55:54	0:0	2	->
water	55:56	0:0	2	rate
water	55:60	0:0	2	;
water	56:4	0:0	2	p_sys
op	56:9	0:0	2	->
water	56:11	0:0	2	fmt
op	56:14	0:0	2	.
water	56:15	0:0	2	video
op	56:20	0:0	2	.
water	56:21	0:0	2	i_frame_rate_base
op	56:39	0:0	2	=
water	56:41	0:0	2	1000
water	56:45	0:0	2	;
water	57:4	0:0	2	p_sys
op	57:9	0:0	2	->
water	57:11	0:0	2	fmt
op	57:14	0:0	2	.
water	57:15	0:0	2	video
op	57:20	0:0	2	.
water	57:21	0:0	2	i_sar_num
op	57:39	0:0	2	=
water	58:4	0:0	2	p_sys
op	58:9	0:0	2	->
water	58:11	0:0	2	fmt
op	58:14	0:0	2	.
water	58:15	0:0	2	video
op	58:20	0:0	2	.
water	58:21	0:0	2	i_sar_den
op	58:39	0:0	2	=
water	58:41	0:0	2	1
water	58:42	0:0	2	;
return	59:4	59:22	2	VLC_SUCCESS
water	59:11	0:0	3	VLC_SUCCESS
