func	1:0	35:0	0	static int	filter_frame
params	1:23	0:0	1	
param	1:24	1:44	2	AVFilterLink *	inlink
param	1:46	1:57	2	AVFrame *	in
stmnts	0:0	34:47	1	
decl	3:4	3:38	2	AVFilterContext	*ctx
op	3:25	0:0	2	=
water	3:27	0:0	2	inlink
op	3:33	0:0	2	->
water	3:35	0:0	2	dst
decl	4:4	4:31	2	FOCContext	*foc
op	4:20	0:0	2	=
water	4:22	0:0	2	ctx
op	4:25	0:0	2	->
water	4:27	0:0	2	priv
decl	5:4	5:20	2	float	best_score
decl	6:4	6:22	2	int	best_x
water	6:14	0:0	2	,
decl	6:4	6:22	2	int	best_y
decl	7:4	7:9	2	int	i
water	8:4	0:0	2	foc
op	8:7	0:0	2	->
water	8:9	0:0	2	haystack_frame
op	8:23	0:0	2	[
water	8:24	0:0	2	0
op	8:25	0:0	2	]
op	8:27	0:0	2	=
call	8:29	8:46	2	av_frame_clone
arg	8:44	8:46	3	in
water	8:44	0:0	4	in
water	8:47	0:0	2	;
for	9:4	11:4	2	(i = 1 ;i < foc -> mipmaps;i ++)
forinit	9:9	9:12	3	i = 1 ;
water	9:9	0:0	4	i
op	9:10	0:0	4	=
water	9:11	0:0	4	1
water	9:12	0:0	4	;
cond	9:14	9:21	3	i < foc -> mipmaps
water	9:14	0:0	4	i
op	9:15	0:0	4	<
water	9:16	0:0	4	foc
op	9:19	0:0	4	->
water	9:21	0:0	4	mipmaps
forexpr	9:30	9:31	3	i ++
water	9:30	0:0	4	i
op	9:31	0:0	4	++
stmts	9:35	11:4	3	
water	9:35	0:0	4	{
water	10:8	0:0	4	foc
op	10:11	0:0	4	->
water	10:13	0:0	4	haystack_frame
op	10:27	0:0	4	[
water	10:28	0:0	4	i
op	10:29	0:0	4	]
op	10:31	0:0	4	=
call	10:33	10:67	4	downscale
arg	10:43	10:67	5	foc->haystack_frame[i-1]
water	10:43	0:0	6	foc
op	10:46	0:0	6	->
water	10:48	0:0	6	haystack_frame
op	10:62	0:0	6	[
water	10:63	0:0	6	i
op	10:64	0:0	6	-
water	10:65	0:0	6	1
op	10:66	0:0	6	]
water	10:68	0:0	4	;
water	11:4	0:0	4	}
water	12:4	0:0	2	best_score
op	12:15	0:0	2	=
call	12:17	17:45	2	search
arg	12:24	12:27	3	foc
water	12:24	0:0	4	foc
arg	12:29	12:30	3	0
water	12:29	0:0	4	0
arg	12:32	12:33	3	0
water	12:32	0:0	4	0
arg	13:24	13:57	3	FFMAX(foc->xmin,foc->last_x-8)
call	13:24	13:56	4	FFMAX
arg	13:30	13:39	5	foc->xmin
water	13:30	0:0	6	foc
op	13:33	0:0	6	->
water	13:35	0:0	6	xmin
arg	13:41	13:56	5	foc->last_x-8
water	13:41	0:0	6	foc
op	13:44	0:0	6	->
water	13:46	0:0	6	last_x
op	13:53	0:0	6	-
water	13:55	0:0	6	8
arg	14:24	14:57	3	FFMIN(foc->xmax,foc->last_x+8)
call	14:24	14:56	4	FFMIN
arg	14:30	14:39	5	foc->xmax
water	14:30	0:0	6	foc
op	14:33	0:0	6	->
water	14:35	0:0	6	xmax
arg	14:41	14:56	5	foc->last_x+8
water	14:41	0:0	6	foc
op	14:44	0:0	6	->
water	14:46	0:0	6	last_x
op	14:53	0:0	6	+
water	14:55	0:0	6	8
arg	15:24	15:57	3	FFMAX(foc->ymin,foc->last_y-8)
call	15:24	15:56	4	FFMAX
arg	15:30	15:39	5	foc->ymin
water	15:30	0:0	6	foc
op	15:33	0:0	6	->
water	15:35	0:0	6	ymin
arg	15:41	15:56	5	foc->last_y-8
water	15:41	0:0	6	foc
op	15:44	0:0	6	->
water	15:46	0:0	6	last_y
op	15:53	0:0	6	-
water	15:55	0:0	6	8
arg	16:24	16:57	3	FFMIN(foc->ymax,foc->last_y+8)
call	16:24	16:56	4	FFMIN
arg	16:30	16:39	5	foc->ymax
water	16:30	0:0	6	foc
op	16:33	0:0	6	->
water	16:35	0:0	6	ymax
arg	16:41	16:56	5	foc->last_y+8
water	16:41	0:0	6	foc
op	16:44	0:0	6	->
water	16:46	0:0	6	last_y
op	16:53	0:0	6	+
water	16:55	0:0	6	8
arg	17:24	17:31	3	&best_x
op	17:24	0:0	4	&
water	17:25	0:0	4	best_x
arg	17:33	17:40	3	&best_y
op	17:33	0:0	4	&
water	17:34	0:0	4	best_y
arg	17:42	17:45	3	1.0
water	17:42	0:0	4	1
op	17:43	0:0	4	.
water	17:44	0:0	4	0
water	17:46	0:0	2	;
water	18:4	0:0	2	best_score
op	18:15	0:0	2	=
call	18:17	19:52	2	search
arg	18:24	18:27	3	foc
water	18:24	0:0	4	foc
arg	18:29	18:30	3	0
water	18:29	0:0	4	0
arg	18:32	18:48	3	foc->mipmaps-1
water	18:32	0:0	4	foc
op	18:35	0:0	4	->
water	18:37	0:0	4	mipmaps
op	18:45	0:0	4	-
water	18:47	0:0	4	1
arg	18:50	18:59	3	foc->xmin
water	18:50	0:0	4	foc
op	18:53	0:0	4	->
water	18:55	0:0	4	xmin
arg	18:61	18:70	3	foc->xmax
water	18:61	0:0	4	foc
op	18:64	0:0	4	->
water	18:66	0:0	4	xmax
arg	18:72	18:81	3	foc->ymin
water	18:72	0:0	4	foc
op	18:75	0:0	4	->
water	18:77	0:0	4	ymin
arg	18:83	18:92	3	foc->ymax
water	18:83	0:0	4	foc
op	18:86	0:0	4	->
water	18:88	0:0	4	ymax
arg	19:24	19:31	3	&best_x
op	19:24	0:0	4	&
water	19:25	0:0	4	best_x
arg	19:33	19:40	3	&best_y
op	19:33	0:0	4	&
water	19:34	0:0	4	best_y
arg	19:42	19:52	3	best_score
water	19:42	0:0	4	best_score
water	19:53	0:0	2	;
for	20:4	22:4	2	(i = 0 ;i < MAX_MIPMAPS;i ++)
forinit	20:9	20:12	3	i = 0 ;
water	20:9	0:0	4	i
op	20:10	0:0	4	=
water	20:11	0:0	4	0
water	20:12	0:0	4	;
cond	20:14	20:16	3	i < MAX_MIPMAPS
water	20:14	0:0	4	i
op	20:15	0:0	4	<
water	20:16	0:0	4	MAX_MIPMAPS
forexpr	20:29	20:30	3	i ++
water	20:29	0:0	4	i
op	20:30	0:0	4	++
stmts	20:34	22:4	3	
water	20:34	0:0	4	{
call	21:8	21:45	4	av_frame_free
arg	21:22	21:45	5	&foc->haystack_frame[i]
op	21:22	0:0	6	&
water	21:23	0:0	6	foc
op	21:26	0:0	6	->
water	21:28	0:0	6	haystack_frame
op	21:42	0:0	6	[
water	21:43	0:0	6	i
op	21:44	0:0	6	]
water	21:46	0:0	4	;
water	22:4	0:0	4	}
if	23:4	25:4	2	(best_score > foc -> threshold)
cond	23:8	23:26	3	best_score > foc -> threshold
water	23:8	0:0	4	best_score
op	23:19	0:0	4	>
water	23:21	0:0	4	foc
op	23:24	0:0	4	->
water	23:26	0:0	4	threshold
stmts	23:37	25:4	3	
water	23:37	0:0	4	{
return	24:8	24:51	4	ff_filter_frame(ctx->outputs[0],in)
call	24:15	24:50	5	ff_filter_frame
arg	24:31	24:46	6	ctx->outputs[0]
water	24:31	0:0	7	ctx
op	24:34	0:0	7	->
water	24:36	0:0	7	outputs
op	24:43	0:0	7	[
water	24:44	0:0	7	0
op	24:45	0:0	7	]
arg	24:48	24:50	6	in
water	24:48	0:0	7	in
water	25:4	0:0	4	}
call	26:4	26:85	2	av_log
arg	26:11	26:14	3	ctx
water	26:11	0:0	4	ctx
arg	26:16	26:28	3	AV_LOG_DEBUG
water	26:16	0:0	4	AV_LOG_DEBUG
arg	26:30	26:57	3	"Found at %d %d score %f\n"
water	26:30	0:0	4	"Found at %d %d score %f\n"
arg	26:59	26:65	3	best_x
water	26:59	0:0	4	best_x
arg	26:67	26:73	3	best_y
water	26:67	0:0	4	best_y
arg	26:75	26:85	3	best_score
water	26:75	0:0	4	best_score
water	26:86	0:0	2	;
water	27:4	0:0	2	foc
op	27:7	0:0	2	->
water	27:9	0:0	2	last_x
op	27:16	0:0	2	=
water	27:18	0:0	2	best_x
water	27:24	0:0	2	;
water	28:4	0:0	2	foc
op	28:7	0:0	2	->
water	28:9	0:0	2	last_y
op	28:16	0:0	2	=
water	28:18	0:0	2	best_y
water	28:24	0:0	2	;
call	29:4	29:29	2	av_frame_make_writable
arg	29:27	29:29	3	in
water	29:27	0:0	4	in
water	29:30	0:0	2	;
call	30:4	30:75	2	av_dict_set_int
arg	30:20	30:33	3	&in->metadata
op	30:20	0:0	4	&
water	30:21	0:0	4	in
op	30:23	0:0	4	->
water	30:25	0:0	4	metadata
arg	30:35	30:49	3	"lavfi.rect.w"
water	30:35	0:0	4	"lavfi.rect.w"
arg	30:51	30:72	3	foc->obj_frame->width
water	30:51	0:0	4	foc
op	30:54	0:0	4	->
water	30:56	0:0	4	obj_frame
op	30:65	0:0	4	->
water	30:67	0:0	4	width
arg	30:74	30:75	3	0
water	30:74	0:0	4	0
water	30:76	0:0	2	;
call	31:4	31:76	2	av_dict_set_int
arg	31:20	31:33	3	&in->metadata
op	31:20	0:0	4	&
water	31:21	0:0	4	in
op	31:23	0:0	4	->
water	31:25	0:0	4	metadata
arg	31:35	31:49	3	"lavfi.rect.h"
water	31:35	0:0	4	"lavfi.rect.h"
arg	31:51	31:73	3	foc->obj_frame->height
water	31:51	0:0	4	foc
op	31:54	0:0	4	->
water	31:56	0:0	4	obj_frame
op	31:65	0:0	4	->
water	31:67	0:0	4	height
arg	31:75	31:76	3	0
water	31:75	0:0	4	0
water	31:77	0:0	2	;
call	32:4	32:60	2	av_dict_set_int
arg	32:20	32:33	3	&in->metadata
op	32:20	0:0	4	&
water	32:21	0:0	4	in
op	32:23	0:0	4	->
water	32:25	0:0	4	metadata
arg	32:35	32:49	3	"lavfi.rect.x"
water	32:35	0:0	4	"lavfi.rect.x"
arg	32:51	32:57	3	best_x
water	32:51	0:0	4	best_x
arg	32:59	32:60	3	0
water	32:59	0:0	4	0
water	32:61	0:0	2	;
call	33:4	33:60	2	av_dict_set_int
arg	33:20	33:33	3	&in->metadata
op	33:20	0:0	4	&
water	33:21	0:0	4	in
op	33:23	0:0	4	->
water	33:25	0:0	4	metadata
arg	33:35	33:49	3	"lavfi.rect.y"
water	33:35	0:0	4	"lavfi.rect.y"
arg	33:51	33:57	3	best_y
water	33:51	0:0	4	best_y
arg	33:59	33:60	3	0
water	33:59	0:0	4	0
water	33:61	0:0	2	;
return	34:4	34:47	2	ff_filter_frame(ctx->outputs[0],in)
call	34:11	34:46	3	ff_filter_frame
arg	34:27	34:42	4	ctx->outputs[0]
water	34:27	0:0	5	ctx
op	34:30	0:0	5	->
water	34:32	0:0	5	outputs
op	34:39	0:0	5	[
water	34:40	0:0	5	0
op	34:41	0:0	5	]
arg	34:44	34:46	4	in
water	34:44	0:0	5	in
