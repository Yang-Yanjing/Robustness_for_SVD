func	1:0	68:0	0	int	TIFFUnlinkDirectory
params	2:19	0:0	1	
param	2:20	2:29	2	TIFF *	tif
param	2:31	2:42	2	tdir_t	dirn
stmnts	4:1	67:11	1	
water	4:1	0:0	2	static
water	4:8	0:0	2	const
water	4:14	0:0	2	char
water	4:19	0:0	2	module
op	4:25	0:0	2	[
op	4:26	0:0	2	]
op	4:28	0:0	2	=
water	4:30	0:0	2	"TIFFUnlinkDirectory"
water	4:51	0:0	2	;
decl	5:1	5:15	2	toff_t	nextdir
decl	6:1	6:11	2	toff_t	off
decl	7:1	7:9	2	tdir_t	n
if	8:1	12:1	2	(tif -> tif_mode == O_RDONLY)
cond	8:5	8:22	3	tif -> tif_mode == O_RDONLY
water	8:5	0:0	4	tif
op	8:8	0:0	4	->
water	8:10	0:0	4	tif_mode
op	8:19	0:0	4	==
water	8:22	0:0	4	O_RDONLY
stmts	8:32	12:1	3	
water	8:32	0:0	4	{
call	9:2	10:73	4	TIFFErrorExt
arg	9:15	9:34	5	tif->tif_clientdata
water	9:15	0:0	6	tif
op	9:18	0:0	6	->
water	9:20	0:0	6	tif_clientdata
arg	9:36	9:42	5	module
water	9:36	0:0	6	module
arg	10:29	10:73	5	"Can not unlink directory in read-only file"
water	10:29	0:0	6	"Can not unlink directory in read-only file"
water	10:74	0:0	4	;
return	11:2	11:12	4	(0)
water	11:9	0:0	5	(
water	11:10	0:0	5	0
water	11:11	0:0	5	)
water	12:1	0:0	4	}
water	18:1	0:0	2	nextdir
op	18:9	0:0	2	=
water	18:11	0:0	2	tif
op	18:14	0:0	2	->
water	18:16	0:0	2	tif_header
op	18:26	0:0	2	.
water	18:27	0:0	2	tiff_diroff
water	18:38	0:0	2	;
water	19:1	0:0	2	off
op	19:5	0:0	2	=
op	19:7	0:0	2	sizeof
water	19:14	0:0	2	(
water	19:15	0:0	2	uint16
water	19:21	0:0	2	)
op	19:23	0:0	2	+
op	19:25	0:0	2	sizeof
water	19:32	0:0	2	(
water	19:33	0:0	2	uint16
water	19:39	0:0	2	)
water	19:40	0:0	2	;
for	20:1	27:1	2	(n = dirn - 1 ;n > 0;n --)
forinit	20:6	20:16	3	n = dirn - 1 ;
water	20:6	0:0	4	n
op	20:8	0:0	4	=
water	20:10	0:0	4	dirn
op	20:14	0:0	4	-
water	20:15	0:0	4	1
water	20:16	0:0	4	;
cond	20:18	20:22	3	n > 0
water	20:18	0:0	4	n
op	20:20	0:0	4	>
water	20:22	0:0	4	0
forexpr	20:25	20:26	3	n --
water	20:25	0:0	4	n
op	20:26	0:0	4	--
stmts	20:30	27:1	3	
water	20:30	0:0	4	{
if	21:2	24:2	4	(nextdir == 0)
cond	21:6	21:17	5	nextdir == 0
water	21:6	0:0	6	nextdir
op	21:14	0:0	6	==
water	21:17	0:0	6	0
stmts	21:20	24:2	5	
water	21:20	0:0	6	{
call	22:3	22:80	6	TIFFErrorExt
arg	22:16	22:35	7	tif->tif_clientdata
water	22:16	0:0	8	tif
op	22:19	0:0	8	->
water	22:21	0:0	8	tif_clientdata
arg	22:37	22:43	7	module
water	22:37	0:0	8	module
arg	22:45	22:74	7	"Directory %d does not exist"
water	22:45	0:0	8	"Directory %d does not exist"
arg	22:76	22:80	7	dirn
water	22:76	0:0	8	dirn
water	22:81	0:0	6	;
return	23:3	23:13	6	(0)
water	23:10	0:0	7	(
water	23:11	0:0	7	0
water	23:12	0:0	7	)
water	24:2	0:0	6	}
if	25:2	26:13	4	(!TIFFAdvanceDirectory (tif ,& nextdir ,& off ))
cond	25:6	25:47	5	!TIFFAdvanceDirectory (tif ,& nextdir ,& off )
op	25:6	0:0	6	!
call	25:7	25:47	6	TIFFAdvanceDirectory
arg	25:28	25:31	7	tif
water	25:28	0:0	8	tif
arg	25:33	25:41	7	&nextdir
op	25:33	0:0	8	&
water	25:34	0:0	8	nextdir
arg	25:43	25:47	7	&off
op	25:43	0:0	8	&
water	25:44	0:0	8	off
stmts	26:3	26:13	5	
return	26:3	26:13	6	(0)
water	26:10	0:0	7	(
water	26:11	0:0	7	0
water	26:12	0:0	7	)
water	27:1	0:0	4	}
if	32:1	33:12	2	(!TIFFAdvanceDirectory (tif ,& nextdir ,NULL ))
cond	32:5	32:46	3	!TIFFAdvanceDirectory (tif ,& nextdir ,NULL )
op	32:5	0:0	4	!
call	32:6	32:46	4	TIFFAdvanceDirectory
arg	32:27	32:30	5	tif
water	32:27	0:0	6	tif
arg	32:32	32:40	5	&nextdir
op	32:32	0:0	6	&
water	32:33	0:0	6	nextdir
arg	32:42	32:46	5	NULL
water	32:42	0:0	6	NULL
stmts	33:2	33:12	3	
return	33:2	33:12	4	(0)
water	33:9	0:0	5	(
water	33:10	0:0	5	0
water	33:11	0:0	5	)
water	39:1	0:0	2	(
water	39:2	0:0	2	void
water	39:6	0:0	2	)
call	39:8	39:39	2	TIFFSeekFile
arg	39:21	39:24	3	tif
water	39:21	0:0	4	tif
arg	39:26	39:29	3	off
water	39:26	0:0	4	off
arg	39:31	39:39	3	SEEK_SET
water	39:31	0:0	4	SEEK_SET
water	39:40	0:0	2	;
if	40:1	41:24	2	(tif -> tif_flags & TIFF_SWAB)
cond	40:5	40:22	3	tif -> tif_flags & TIFF_SWAB
water	40:5	0:0	4	tif
op	40:8	0:0	4	->
water	40:10	0:0	4	tif_flags
op	40:20	0:0	4	&
water	40:22	0:0	4	TIFF_SWAB
stmts	41:2	41:24	3	
call	41:2	41:23	4	TIFFSwabLong
arg	41:15	41:23	5	&nextdir
op	41:15	0:0	6	&
water	41:16	0:0	6	nextdir
water	41:24	0:0	4	;
if	42:1	45:1	2	(!WriteOK (tif ,& nextdir ,sizeof ( uint32 ) ))
cond	42:5	42:44	3	!WriteOK (tif ,& nextdir ,sizeof ( uint32 ) )
op	42:5	0:0	4	!
call	42:6	42:44	4	WriteOK
arg	42:14	42:17	5	tif
water	42:14	0:0	6	tif
arg	42:19	42:27	5	&nextdir
op	42:19	0:0	6	&
water	42:20	0:0	6	nextdir
arg	42:29	42:44	5	sizeof(uint32)
op	42:29	0:0	6	sizeof
water	42:36	0:0	6	(
water	42:37	0:0	6	uint32
water	42:43	0:0	6	)
stmts	42:47	45:1	3	
water	42:47	0:0	4	{
call	43:2	43:74	4	TIFFErrorExt
arg	43:15	43:34	5	tif->tif_clientdata
water	43:15	0:0	6	tif
op	43:18	0:0	6	->
water	43:20	0:0	6	tif_clientdata
arg	43:36	43:42	5	module
water	43:36	0:0	6	module
arg	43:44	43:74	5	"Error writing directory link"
water	43:44	0:0	6	"Error writing directory link"
water	43:75	0:0	4	;
return	44:2	44:12	4	(0)
water	44:9	0:0	5	(
water	44:10	0:0	5	0
water	44:11	0:0	5	)
water	45:1	0:0	4	}
call	53:1	53:24	2	(*tif->tif_cleanup)
arg	53:21	53:24	3	tif
water	53:21	0:0	4	tif
water	53:25	0:0	2	;
if	54:1	58:1	2	(( tif -> tif_flags & TIFF_MYBUFFER ) && tif -> tif_rawdata)
cond	54:5	54:46	3	( tif -> tif_flags & TIFF_MYBUFFER ) && tif -> tif_rawdata
water	54:5	0:0	4	(
water	54:6	0:0	4	tif
op	54:9	0:0	4	->
water	54:11	0:0	4	tif_flags
op	54:21	0:0	4	&
water	54:23	0:0	4	TIFF_MYBUFFER
water	54:36	0:0	4	)
op	54:38	0:0	4	&&
water	54:41	0:0	4	tif
op	54:44	0:0	4	->
water	54:46	0:0	4	tif_rawdata
stmts	54:59	58:1	3	
water	54:59	0:0	4	{
call	55:2	55:28	4	_TIFFfree
arg	55:12	55:28	5	tif->tif_rawdata
water	55:12	0:0	6	tif
op	55:15	0:0	6	->
water	55:17	0:0	6	tif_rawdata
water	55:29	0:0	4	;
water	56:2	0:0	4	tif
op	56:5	0:0	4	->
water	56:7	0:0	4	tif_rawdata
op	56:19	0:0	4	=
water	56:21	0:0	4	NULL
water	56:25	0:0	4	;
water	57:2	0:0	4	tif
op	57:5	0:0	4	->
water	57:7	0:0	4	tif_rawcc
op	57:17	0:0	4	=
water	57:19	0:0	4	0
water	57:20	0:0	4	;
water	58:1	0:0	4	}
water	59:1	0:0	2	tif
op	59:4	0:0	2	->
water	59:6	0:0	2	tif_flags
op	59:16	0:0	2	&=
op	59:19	0:0	2	~
water	59:20	0:0	2	(
water	59:21	0:0	2	TIFF_BEENWRITING
op	59:37	0:0	2	|
water	59:38	0:0	2	TIFF_BUFFERSETUP
op	59:54	0:0	2	|
water	59:55	0:0	2	TIFF_POSTENCODE
water	59:70	0:0	2	)
water	59:71	0:0	2	;
call	60:1	60:22	2	TIFFFreeDirectory
arg	60:19	60:22	3	tif
water	60:19	0:0	4	tif
water	60:23	0:0	2	;
call	61:1	61:25	2	TIFFDefaultDirectory
arg	61:22	61:25	3	tif
water	61:22	0:0	4	tif
water	61:26	0:0	2	;
water	62:1	0:0	2	tif
op	62:4	0:0	2	->
water	62:6	0:0	2	tif_diroff
op	62:17	0:0	2	=
water	62:19	0:0	2	0
water	62:20	0:0	2	;
water	63:1	0:0	2	tif
op	63:4	0:0	2	->
water	63:6	0:0	2	tif_nextdiroff
op	63:21	0:0	2	=
water	63:23	0:0	2	0
water	63:24	0:0	2	;
water	64:1	0:0	2	tif
op	64:4	0:0	2	->
water	64:6	0:0	2	tif_curoff
op	64:17	0:0	2	=
water	64:19	0:0	2	0
water	64:20	0:0	2	;
water	65:1	0:0	2	tif
op	65:4	0:0	2	->
water	65:6	0:0	2	tif_row
op	65:14	0:0	2	=
water	65:16	0:0	2	(
water	65:17	0:0	2	uint32
water	65:23	0:0	2	)
op	65:25	0:0	2	-
water	65:26	0:0	2	1
water	65:27	0:0	2	;
water	66:1	0:0	2	tif
op	66:4	0:0	2	->
water	66:6	0:0	2	tif_curstrip
op	66:19	0:0	2	=
water	66:21	0:0	2	(
water	66:22	0:0	2	tstrip_t
water	66:30	0:0	2	)
op	66:32	0:0	2	-
water	66:33	0:0	2	1
water	66:34	0:0	2	;
return	67:1	67:11	2	(1)
water	67:8	0:0	3	(
water	67:9	0:0	3	1
water	67:10	0:0	3	)
