func	1:0	56:2	0	static int	update_output_file
params	2:19	0:0	1	
param	2:20	2:34	2	TIFF * *	tiffout
param	2:36	2:46	2	char *	mode
param	2:48	2:61	2	int	autoindex
param	3:20	3:33	2	char *	outname
param	3:35	3:53	2	unsigned int *	page
stmnts	5:2	55:10	1	
water	5:2	0:0	2	static
water	5:9	0:0	2	int
water	5:13	0:0	2	findex
op	5:20	0:0	2	=
water	5:22	0:0	2	0
water	5:23	0:0	2	;
decl	6:2	6:12	2	char	*sep
decl	7:2	7:20	2	char	filenum[16]
decl	8:2	8:23	2	char	export_ext[16]
decl	9:2	9:29	2	char	exportname[PATH_MAX]
if	10:2	15:4	2	(autoindex && ( * tiffout != NULL ))
cond	10:6	10:36	3	autoindex && ( * tiffout != NULL )
water	10:6	0:0	4	autoindex
op	10:16	0:0	4	&&
water	10:19	0:0	4	(
op	10:20	0:0	4	*
water	10:21	0:0	4	tiffout
op	10:29	0:0	4	!=
water	10:32	0:0	4	NULL
water	10:36	0:0	4	)
stmts	11:4	15:4	3	
water	11:4	0:0	4	{
call	13:4	13:23	4	TIFFClose
arg	13:15	13:23	5	*tiffout
op	13:15	0:0	6	*
water	13:16	0:0	6	tiffout
water	13:24	0:0	4	;
op	14:4	0:0	4	*
water	14:5	0:0	4	tiffout
op	14:13	0:0	4	=
water	14:15	0:0	4	NULL
water	14:19	0:0	4	;
water	15:4	0:0	4	}
call	16:2	16:29	2	strcpy
arg	16:10	16:20	3	export_ext
water	16:10	0:0	4	export_ext
arg	16:22	16:29	3	".tiff"
water	16:22	0:0	4	".tiff"
water	16:30	0:0	2	;
call	17:2	17:36	2	memset
arg	17:10	17:20	3	exportname
water	17:10	0:0	4	exportname
arg	17:22	17:26	3	'\0'
water	17:22	0:0	4	'\0'
arg	17:28	17:36	3	PATH_MAX
water	17:28	0:0	4	PATH_MAX
water	17:37	0:0	2	;
call	19:2	19:45	2	strncpy
arg	19:11	19:21	3	exportname
water	19:11	0:0	4	exportname
arg	19:23	19:30	3	outname
water	19:23	0:0	4	outname
arg	19:32	19:45	3	PATH_MAX-16
water	19:32	0:0	4	PATH_MAX
op	19:41	0:0	4	-
water	19:43	0:0	4	16
water	19:46	0:0	2	;
if	20:2	52:4	2	(* tiffout == NULL)
cond	20:6	20:18	3	* tiffout == NULL
op	20:6	0:0	4	*
water	20:7	0:0	4	tiffout
op	20:15	0:0	4	==
water	20:18	0:0	4	NULL
stmts	21:4	52:4	3	
water	21:4	0:0	4	{
if	22:4	42:6	4	(autoindex)
cond	22:8	22:8	5	autoindex
water	22:8	0:0	6	autoindex
stmts	23:6	42:6	5	
water	23:6	0:0	6	{
water	24:6	0:0	6	findex
op	24:12	0:0	6	++
water	24:14	0:0	6	;
if	25:6	29:8	6	(( sep =strstr (exportname ,".tif" ) ) || ( sep =strstr (exportname ,".TIF" ) ))
cond	25:10	25:81	7	( sep =strstr (exportname ,".tif" ) ) || ( sep =strstr (exportname ,".TIF" ) )
water	25:10	0:0	8	(
water	25:11	0:0	8	sep
op	25:15	0:0	8	=
call	25:17	25:42	8	strstr
arg	25:24	25:34	9	exportname
water	25:24	0:0	10	exportname
arg	25:36	25:42	9	".tif"
water	25:36	0:0	10	".tif"
water	25:43	0:0	8	)
op	25:45	0:0	8	||
water	25:48	0:0	8	(
water	25:49	0:0	8	sep
op	25:53	0:0	8	=
call	25:55	25:80	8	strstr
arg	25:62	25:72	9	exportname
water	25:62	0:0	10	exportname
arg	25:74	25:80	9	".TIF"
water	25:74	0:0	10	".TIF"
water	25:81	0:0	8	)
stmts	26:8	29:8	7	
water	26:8	0:0	8	{
call	27:8	27:35	8	strncpy
arg	27:17	27:27	9	export_ext
water	27:17	0:0	10	export_ext
arg	27:29	27:32	9	sep
water	27:29	0:0	10	sep
arg	27:34	27:35	9	5
water	27:34	0:0	10	5
water	27:36	0:0	8	;
op	28:8	0:0	8	*
water	28:9	0:0	8	sep
op	28:13	0:0	8	=
water	28:15	0:0	8	'\0'
water	28:19	0:0	8	;
water	29:8	0:0	8	}
else	30:6	31:40	6
stmts	31:8	31:40	7	
call	31:8	31:39	8	strncpy
arg	31:17	31:27	9	export_ext
water	31:17	0:0	10	export_ext
arg	31:29	31:36	9	".tiff"
water	31:29	0:0	10	".tiff"
arg	31:38	31:39	9	5
water	31:38	0:0	10	5
water	31:40	0:0	8	;
water	32:6	0:0	6	export_ext
op	32:16	0:0	6	[
water	32:17	0:0	6	5
op	32:18	0:0	6	]
op	32:20	0:0	6	=
water	32:22	0:0	6	'\0'
water	32:26	0:0	6	;
if	34:6	38:8	6	(findex > MAX_EXPORT_PAGES)
cond	34:10	34:19	7	findex > MAX_EXPORT_PAGES
water	34:10	0:0	8	findex
op	34:17	0:0	8	>
water	34:19	0:0	8	MAX_EXPORT_PAGES
stmts	35:1	38:8	7	
water	35:1	0:0	8	{
call	36:1	36:90	8	TIFFError
arg	36:11	36:31	9	"update_output_file"
water	36:11	0:0	10	"update_output_file"
arg	36:33	36:72	9	"Maximum of %d pages per file exceeded"
water	36:33	0:0	10	"Maximum of %d pages per file exceeded"
arg	36:74	36:90	9	MAX_EXPORT_PAGES
water	36:74	0:0	10	MAX_EXPORT_PAGES
water	36:91	0:0	8	;
return	37:8	37:16	8	1
water	37:15	0:0	9	1
water	38:8	0:0	8	}
call	39:6	39:70	6	snprintf
arg	39:15	39:22	7	filenum
water	39:15	0:0	8	filenum
arg	39:24	39:39	7	sizeof(filenum)
op	39:24	0:0	8	sizeof
water	39:30	0:0	8	(
water	39:31	0:0	8	filenum
water	39:38	0:0	8	)
arg	39:41	39:50	7	"-%03d%s"
water	39:41	0:0	8	"-%03d%s"
arg	39:52	39:58	7	findex
water	39:52	0:0	8	findex
arg	39:60	39:70	7	export_ext
water	39:60	0:0	8	export_ext
water	39:71	0:0	6	;
water	40:6	0:0	6	filenum
op	40:13	0:0	6	[
water	40:14	0:0	6	14
op	40:16	0:0	6	]
op	40:18	0:0	6	=
water	40:20	0:0	6	'\0'
water	40:24	0:0	6	;
call	41:6	41:38	6	strncat
arg	41:15	41:25	7	exportname
water	41:15	0:0	8	exportname
arg	41:27	41:34	7	filenum
water	41:27	0:0	8	filenum
arg	41:36	41:38	7	15
water	41:36	0:0	8	15
water	41:39	0:0	6	;
water	42:6	0:0	6	}
water	43:4	0:0	4	exportname
op	43:14	0:0	4	[
water	43:15	0:0	4	PATH_MAX
op	43:24	0:0	4	-
water	43:26	0:0	4	1
op	43:27	0:0	4	]
op	43:29	0:0	4	=
water	43:31	0:0	4	'\0'
water	43:35	0:0	4	;
op	44:4	0:0	4	*
water	44:5	0:0	4	tiffout
op	44:13	0:0	4	=
call	44:15	44:40	4	TIFFOpen
arg	44:24	44:34	5	exportname
water	44:24	0:0	6	exportname
arg	44:36	44:40	5	mode
water	44:36	0:0	6	mode
water	44:41	0:0	4	;
if	45:4	49:6	4	(* tiffout == NULL)
cond	45:8	45:20	5	* tiffout == NULL
op	45:8	0:0	6	*
water	45:9	0:0	6	tiffout
op	45:17	0:0	6	==
water	45:20	0:0	6	NULL
stmts	46:6	49:6	5	
water	46:6	0:0	6	{
call	47:6	47:81	6	TIFFError
arg	47:16	47:36	7	"update_output_file"
water	47:16	0:0	8	"update_output_file"
arg	47:38	47:69	7	"Unable to open output file %s"
water	47:38	0:0	8	"Unable to open output file %s"
arg	47:71	47:81	7	exportname
water	47:71	0:0	8	exportname
water	47:82	0:0	6	;
return	48:6	48:14	6	1
water	48:13	0:0	7	1
water	49:6	0:0	6	}
op	50:4	0:0	4	*
water	50:5	0:0	4	page
op	50:10	0:0	4	=
water	50:12	0:0	4	0
water	50:13	0:0	4	;
return	51:4	51:12	4	0
water	51:11	0:0	5	0
water	52:4	0:0	4	}
else	53:2	54:13	2
stmts	54:4	54:13	3	
water	54:4	0:0	4	(
op	54:5	0:0	4	*
water	54:6	0:0	4	page
water	54:10	0:0	4	)
op	54:11	0:0	4	++
water	54:13	0:0	4	;
return	55:2	55:10	2	0
water	55:9	0:0	3	0
