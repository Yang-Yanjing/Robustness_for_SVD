func	1:0	83:0	0	static void	TIFF_DownSample
params	2:20	0:0	1	
param	2:22	2:48	2	unsigned char *	pabySrcTile
param	3:22	3:40	2	uint32	nBlockXSize
param	3:42	3:60	2	uint32	nBlockYSize
param	4:22	4:40	2	int	nPixelSkewBits
param	4:42	4:59	2	int	nBitsPerPixel
param	5:22	5:47	2	unsigned char *	pabyOTile
param	6:22	6:41	2	uint32	nOBlockXSize
param	6:43	6:62	2	uint32	nOBlockYSize
param	7:22	7:35	2	uint32	nTXOff
param	7:37	7:50	2	uint32	nTYOff
param	7:52	7:62	2	int	nOMult
param	8:22	8:39	2	int	nSampleFormat
param	8:41	8:68	2	const char *	pszResampling
stmnts	0:0	82:23	1	
decl	10:4	10:15	2	uint32	i
water	10:12	0:0	2	,
decl	10:4	10:15	2	uint32	j
decl	11:4	11:52	2	int	k
water	11:17	0:0	2	,
decl	11:4	11:52	2	int	nPixelBytes
op	11:31	0:0	2	=
water	11:33	0:0	2	(
water	11:34	0:0	2	nBitsPerPixel
water	11:47	0:0	2	)
op	11:49	0:0	2	/
water	11:51	0:0	2	8
decl	12:4	12:60	2	int	nPixelGroupBytes
op	12:26	0:0	2	=
water	12:28	0:0	2	(
water	12:29	0:0	2	nBitsPerPixel
op	12:42	0:0	2	+
water	12:43	0:0	2	nPixelSkewBits
water	12:57	0:0	2	)
op	12:58	0:0	2	/
water	12:59	0:0	2	8
decl	13:4	13:36	2	unsigned char	*pabySrc
water	13:26	0:0	2	,
decl	13:4	13:36	2	unsigned char	*pabyDst
decl	14:4	14:28	2	double	*padfSamples
call	15:4	15:31	2	assert
arg	15:12	15:31	3	nBitsPerPixel>=8
water	15:12	0:0	4	nBitsPerPixel
op	15:26	0:0	4	>=
water	15:29	0:0	4	8
water	15:32	0:0	2	;
water	16:4	0:0	2	padfSamples
op	16:16	0:0	2	=
water	16:18	0:0	2	(
water	16:19	0:0	2	double
op	16:26	0:0	2	*
water	16:27	0:0	2	)
call	16:29	16:68	2	malloc
arg	16:36	16:68	3	sizeof(double)*nOMult*nOMult
op	16:36	0:0	4	sizeof
water	16:42	0:0	4	(
water	16:43	0:0	4	double
water	16:49	0:0	4	)
op	16:51	0:0	4	*
water	16:53	0:0	4	nOMult
op	16:60	0:0	4	*
water	16:62	0:0	4	nOMult
water	16:69	0:0	2	;
for	21:4	81:4	2	(j = 0 ;j * nOMult < nBlockYSize;j ++)
forinit	21:9	21:14	3	j = 0 ;
water	21:9	0:0	4	j
op	21:11	0:0	4	=
water	21:13	0:0	4	0
water	21:14	0:0	4	;
cond	21:16	21:27	3	j * nOMult < nBlockYSize
water	21:16	0:0	4	j
op	21:17	0:0	4	*
water	21:18	0:0	4	nOMult
op	21:25	0:0	4	<
water	21:27	0:0	4	nBlockYSize
forexpr	21:40	21:41	3	j ++
water	21:40	0:0	4	j
op	21:41	0:0	4	++
stmts	22:4	81:4	3	
water	22:4	0:0	4	{
if	23:8	24:17	4	(j + nTYOff >= nOBlockYSize)
cond	23:12	23:26	5	j + nTYOff >= nOBlockYSize
water	23:12	0:0	6	j
op	23:14	0:0	6	+
water	23:16	0:0	6	nTYOff
op	23:23	0:0	6	>=
water	23:26	0:0	6	nOBlockYSize
stmts	24:12	24:17	5	
break	24:12	24:17	6	
water	25:8	0:0	4	pabyDst
op	25:16	0:0	4	=
water	25:18	0:0	4	pabyOTile
op	25:28	0:0	4	+
water	25:30	0:0	4	(
water	25:31	0:0	4	(
water	25:32	0:0	4	j
op	25:33	0:0	4	+
water	25:34	0:0	4	nTYOff
water	25:40	0:0	4	)
op	25:41	0:0	4	*
water	25:42	0:0	4	nOBlockXSize
op	25:55	0:0	4	+
water	25:57	0:0	4	nTXOff
water	25:63	0:0	4	)
op	26:12	0:0	4	*
water	26:14	0:0	4	nPixelBytes
op	26:26	0:0	4	*
water	26:28	0:0	4	nPixelGroupBytes
water	26:44	0:0	4	;
if	31:8	48:8	4	(strncmp (pszResampling ,"nearest" ,4 ) == 0 ||strncmp (pszResampling ,"NEAR" ,4 ) == 0)
cond	31:12	32:50	5	strncmp (pszResampling ,"nearest" ,4 ) == 0 ||strncmp (pszResampling ,"NEAR" ,4 ) == 0
call	31:12	31:45	6	strncmp
arg	31:20	31:33	7	pszResampling
water	31:20	0:0	8	pszResampling
arg	31:34	31:43	7	"nearest"
water	31:34	0:0	8	"nearest"
arg	31:44	31:45	7	4
water	31:44	0:0	8	4
op	31:47	0:0	6	==
water	31:50	0:0	6	0
op	32:12	0:0	6	||
call	32:15	32:45	6	strncmp
arg	32:23	32:36	7	pszResampling
water	32:23	0:0	8	pszResampling
arg	32:37	32:43	7	"NEAR"
water	32:37	0:0	8	"NEAR"
arg	32:44	32:45	7	4
water	32:44	0:0	8	4
op	32:47	0:0	6	==
water	32:50	0:0	6	0
stmts	33:8	48:8	5	
water	33:8	0:0	6	{
water	34:12	0:0	6	pabySrc
op	34:20	0:0	6	=
water	34:22	0:0	6	pabySrcTile
op	34:34	0:0	6	+
water	34:36	0:0	6	j
op	34:37	0:0	6	*
water	34:38	0:0	6	nOMult
op	34:44	0:0	6	*
water	34:45	0:0	6	nBlockXSize
op	34:57	0:0	6	*
water	34:59	0:0	6	nPixelGroupBytes
water	34:75	0:0	6	;
for	35:12	47:12	6	(i = 0 ;i * nOMult < nBlockXSize;i ++)
forinit	35:17	35:22	7	i = 0 ;
water	35:17	0:0	8	i
op	35:19	0:0	8	=
water	35:21	0:0	8	0
water	35:22	0:0	8	;
cond	35:24	35:35	7	i * nOMult < nBlockXSize
water	35:24	0:0	8	i
op	35:25	0:0	8	*
water	35:26	0:0	8	nOMult
op	35:33	0:0	8	<
water	35:35	0:0	8	nBlockXSize
forexpr	35:48	35:49	7	i ++
water	35:48	0:0	8	i
op	35:49	0:0	8	++
stmts	36:12	47:12	7	
water	36:12	0:0	8	{
if	37:16	38:25	8	(i + nTXOff >= nOBlockXSize)
cond	37:20	37:34	9	i + nTXOff >= nOBlockXSize
water	37:20	0:0	10	i
op	37:22	0:0	10	+
water	37:24	0:0	10	nTXOff
op	37:31	0:0	10	>=
water	37:34	0:0	10	nOBlockXSize
stmts	38:20	38:25	9	
break	38:20	38:25	10	
for	43:16	44:43	8	(k = 0 ;k < nPixelBytes;k ++)
forinit	43:21	43:26	9	k = 0 ;
water	43:21	0:0	10	k
op	43:23	0:0	10	=
water	43:25	0:0	10	0
water	43:26	0:0	10	;
cond	43:28	43:32	9	k < nPixelBytes
water	43:28	0:0	10	k
op	43:30	0:0	10	<
water	43:32	0:0	10	nPixelBytes
forexpr	43:45	43:46	9	k ++
water	43:45	0:0	10	k
op	43:46	0:0	10	++
stmts	44:20	44:43	9	
water	44:20	0:0	10	pabyDst
op	44:27	0:0	10	[
water	44:28	0:0	10	k
op	44:29	0:0	10	]
op	44:31	0:0	10	=
water	44:33	0:0	10	pabySrc
op	44:40	0:0	10	[
water	44:41	0:0	10	k
op	44:42	0:0	10	]
water	44:43	0:0	10	;
water	45:16	0:0	8	pabyDst
op	45:24	0:0	8	+=
water	45:27	0:0	8	nPixelBytes
op	45:39	0:0	8	*
water	45:41	0:0	8	nPixelGroupBytes
water	45:57	0:0	8	;
water	46:16	0:0	8	pabySrc
op	46:24	0:0	8	+=
water	46:27	0:0	8	nOMult
op	46:34	0:0	8	*
water	46:36	0:0	8	nPixelGroupBytes
water	46:52	0:0	8	;
water	47:12	0:0	8	}
water	48:8	0:0	6	}
else	53:8	80:8	4
stmts	53:13	80:8	5	
if	53:13	80:8	6	(strncmp (pszResampling ,"averag" ,6 ) == 0 ||strncmp (pszResampling ,"AVERAG" ,6 ) == 0)
cond	53:17	54:57	7	strncmp (pszResampling ,"averag" ,6 ) == 0 ||strncmp (pszResampling ,"AVERAG" ,6 ) == 0
call	53:17	53:49	8	strncmp
arg	53:25	53:38	9	pszResampling
water	53:25	0:0	10	pszResampling
arg	53:39	53:47	9	"averag"
water	53:39	0:0	10	"averag"
arg	53:48	53:49	9	6
water	53:48	0:0	10	6
op	53:51	0:0	8	==
water	53:54	0:0	8	0
op	54:17	0:0	8	||
call	54:20	54:52	8	strncmp
arg	54:28	54:41	9	pszResampling
water	54:28	0:0	10	pszResampling
arg	54:42	54:50	9	"AVERAG"
water	54:42	0:0	10	"AVERAG"
arg	54:51	54:52	9	6
water	54:51	0:0	10	6
op	54:54	0:0	8	==
water	54:57	0:0	8	0
stmts	55:8	80:8	7	
water	55:8	0:0	8	{
water	56:12	0:0	8	pabySrc
op	56:20	0:0	8	=
water	56:22	0:0	8	pabySrcTile
op	56:34	0:0	8	+
water	56:36	0:0	8	j
op	56:37	0:0	8	*
water	56:38	0:0	8	nOMult
op	56:44	0:0	8	*
water	56:45	0:0	8	nBlockXSize
op	56:57	0:0	8	*
water	56:59	0:0	8	nPixelGroupBytes
water	56:75	0:0	8	;
for	57:12	79:12	8	(i = 0 ;i * nOMult < nBlockXSize;i ++)
forinit	57:17	57:22	9	i = 0 ;
water	57:17	0:0	10	i
op	57:19	0:0	10	=
water	57:21	0:0	10	0
water	57:22	0:0	10	;
cond	57:24	57:35	9	i * nOMult < nBlockXSize
water	57:24	0:0	10	i
op	57:25	0:0	10	*
water	57:26	0:0	10	nOMult
op	57:33	0:0	10	<
water	57:35	0:0	10	nBlockXSize
forexpr	57:48	57:49	9	i ++
water	57:48	0:0	10	i
op	57:49	0:0	10	++
stmts	58:12	79:12	9	
water	58:12	0:0	10	{
decl	59:16	59:32	10	double	dfTotal
decl	60:16	60:48	10	uint32	nXSize
water	60:31	0:0	10	,
decl	60:16	60:48	10	uint32	nYSize
water	60:39	0:0	10	,
decl	60:16	60:48	10	uint32	iSample
if	61:16	62:25	10	(i + nTXOff >= nOBlockXSize)
cond	61:20	61:34	11	i + nTXOff >= nOBlockXSize
water	61:20	0:0	12	i
op	61:22	0:0	12	+
water	61:24	0:0	12	nTXOff
op	61:31	0:0	12	>=
water	61:34	0:0	12	nOBlockXSize
stmts	62:20	62:25	11	
break	62:20	62:25	12	
water	63:16	0:0	10	nXSize
op	63:23	0:0	10	=
call	63:25	63:57	10	MIN
arg	63:29	63:43	11	(uint32)nOMult
water	63:29	0:0	12	(
water	63:30	0:0	12	uint32
water	63:36	0:0	12	)
water	63:37	0:0	12	nOMult
arg	63:44	63:57	11	nBlockXSize-i
water	63:44	0:0	12	nBlockXSize
op	63:55	0:0	12	-
water	63:56	0:0	12	i
water	63:58	0:0	10	;
water	64:16	0:0	10	nYSize
op	64:23	0:0	10	=
call	64:25	64:57	10	MIN
arg	64:29	64:43	11	(uint32)nOMult
water	64:29	0:0	12	(
water	64:30	0:0	12	uint32
water	64:36	0:0	12	)
water	64:37	0:0	12	nOMult
arg	64:44	64:57	11	nBlockYSize-j
water	64:44	0:0	12	nBlockYSize
op	64:55	0:0	12	-
water	64:56	0:0	12	j
water	64:58	0:0	10	;
call	65:16	69:70	10	TIFF_GetSourceSamples
arg	65:39	65:50	11	padfSamples
water	65:39	0:0	12	padfSamples
arg	65:52	65:59	11	pabySrc
water	65:52	0:0	12	pabySrc
arg	66:39	66:50	11	nPixelBytes
water	66:39	0:0	12	nPixelBytes
arg	66:52	66:65	11	nSampleFormat
water	66:52	0:0	12	nSampleFormat
arg	67:39	67:45	11	nXSize
water	67:39	0:0	12	nXSize
arg	67:47	67:53	11	nYSize
water	67:47	0:0	12	nYSize
arg	68:39	68:55	11	nPixelGroupBytes
water	68:39	0:0	12	nPixelGroupBytes
arg	69:39	69:70	11	nPixelGroupBytes*nBlockXSize
water	69:39	0:0	12	nPixelGroupBytes
op	69:56	0:0	12	*
water	69:58	0:0	12	nBlockXSize
water	69:71	0:0	10	;
water	70:16	0:0	10	dfTotal
op	70:24	0:0	10	=
water	70:26	0:0	10	0
water	70:27	0:0	10	;
for	71:16	74:16	10	(iSample = 0 ;iSample < nXSize * nYSize;iSample ++)
forinit	71:21	71:32	11	iSample = 0 ;
water	71:21	0:0	12	iSample
op	71:29	0:0	12	=
water	71:31	0:0	12	0
water	71:32	0:0	12	;
cond	71:34	71:51	11	iSample < nXSize * nYSize
water	71:34	0:0	12	iSample
op	71:42	0:0	12	<
water	71:44	0:0	12	nXSize
op	71:50	0:0	12	*
water	71:51	0:0	12	nYSize
forexpr	71:59	71:66	11	iSample ++
water	71:59	0:0	12	iSample
op	71:66	0:0	12	++
stmts	72:16	74:16	11	
water	72:16	0:0	12	{
water	73:20	0:0	12	dfTotal
op	73:28	0:0	12	+=
water	73:31	0:0	12	padfSamples
op	73:42	0:0	12	[
water	73:43	0:0	12	iSample
op	73:50	0:0	12	]
water	73:51	0:0	12	;
water	74:16	0:0	12	}
call	75:16	76:58	10	TIFF_SetSample
arg	75:32	75:39	11	pabyDst
water	75:32	0:0	12	pabyDst
arg	75:41	75:52	11	nPixelBytes
water	75:41	0:0	12	nPixelBytes
arg	75:54	75:67	11	nSampleFormat
water	75:54	0:0	12	nSampleFormat
arg	76:32	76:58	11	dfTotal/(nXSize*nYSize)
water	76:32	0:0	12	dfTotal
op	76:40	0:0	12	/
water	76:42	0:0	12	(
water	76:43	0:0	12	nXSize
op	76:49	0:0	12	*
water	76:50	0:0	12	nYSize
water	76:56	0:0	12	)
water	76:59	0:0	10	;
water	77:16	0:0	10	pabySrc
op	77:24	0:0	10	+=
water	77:27	0:0	10	nOMult
op	77:34	0:0	10	*
water	77:36	0:0	10	nPixelGroupBytes
water	77:52	0:0	10	;
water	78:16	0:0	10	pabyDst
op	78:24	0:0	10	+=
water	78:27	0:0	10	nPixelBytes
water	78:38	0:0	10	;
water	79:12	0:0	10	}
water	80:8	0:0	8	}
water	81:4	0:0	4	}
call	82:4	82:22	2	free
arg	82:10	82:22	3	padfSamples
water	82:10	0:0	4	padfSamples
water	82:23	0:0	2	;
