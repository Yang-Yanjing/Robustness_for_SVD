func	1:0	34:0	0	int	mfs_write
params	1:14	0:0	1	
param	1:15	1:21	2	int	fd
param	1:23	1:37	2	void *	clnt_buf
param	1:39	1:47	2	int	size
stmnts	0:0	33:16	1	
decl	3:4	3:11	2	int	ret
if	4:4	9:4	2	(fds [ fd ] == - 1 || buf_mode [ fd ] == 'r')
cond	4:8	4:41	3	fds [ fd ] == - 1 || buf_mode [ fd ] == 'r'
water	4:8	0:0	4	fds
op	4:11	0:0	4	[
water	4:12	0:0	4	fd
op	4:14	0:0	4	]
op	4:16	0:0	4	==
op	4:19	0:0	4	-
water	4:20	0:0	4	1
op	4:22	0:0	4	||
water	4:25	0:0	4	buf_mode
op	4:33	0:0	4	[
water	4:34	0:0	4	fd
op	4:36	0:0	4	]
op	4:38	0:0	4	==
water	4:41	0:0	4	'r'
stmts	5:4	9:4	3	
water	5:4	0:0	4	{
water	7:8	0:0	4	ret
op	7:12	0:0	4	=
op	7:14	0:0	4	-
water	7:15	0:0	4	1
water	7:16	0:0	4	;
water	8:8	0:0	4	errno
op	8:14	0:0	4	=
water	8:16	0:0	4	EBADF
water	8:21	0:0	4	;
water	9:4	0:0	4	}
else	10:4	21:4	2
stmts	10:9	21:4	3	
if	10:9	21:4	4	(buf_mode [ fd ] == 'w')
cond	10:13	10:29	5	buf_mode [ fd ] == 'w'
water	10:13	0:0	6	buf_mode
op	10:21	0:0	6	[
water	10:22	0:0	6	fd
op	10:24	0:0	6	]
op	10:26	0:0	6	==
water	10:29	0:0	6	'w'
stmts	11:4	21:4	5	
water	11:4	0:0	6	{
if	13:8	17:8	6	(buf_off [ fd ] + size > buf_size [ fd ])
cond	13:12	13:44	7	buf_off [ fd ] + size > buf_size [ fd ]
water	13:12	0:0	8	buf_off
op	13:19	0:0	8	[
water	13:20	0:0	8	fd
op	13:22	0:0	8	]
op	13:24	0:0	8	+
water	13:26	0:0	8	size
op	13:31	0:0	8	>
water	13:33	0:0	8	buf_size
op	13:41	0:0	8	[
water	13:42	0:0	8	fd
op	13:44	0:0	8	]
stmts	14:8	17:8	7	
water	14:8	0:0	8	{
call	15:12	15:51	8	extend_mem_file
arg	15:29	15:31	9	fd
water	15:29	0:0	10	fd
arg	15:33	15:51	9	buf_off[fd]+size
water	15:33	0:0	10	buf_off
op	15:40	0:0	10	[
water	15:41	0:0	10	fd
op	15:43	0:0	10	]
op	15:45	0:0	10	+
water	15:47	0:0	10	size
water	15:52	0:0	8	;
water	16:12	0:0	8	buf_size
op	16:20	0:0	8	[
water	16:21	0:0	8	fd
op	16:23	0:0	8	]
op	16:25	0:0	8	=
water	16:27	0:0	8	(
water	16:28	0:0	8	buf_off
op	16:35	0:0	8	[
water	16:36	0:0	8	fd
op	16:38	0:0	8	]
op	16:40	0:0	8	+
water	16:42	0:0	8	size
water	16:46	0:0	8	)
water	16:47	0:0	8	;
water	17:8	0:0	8	}
call	18:8	18:55	6	memcpy
arg	18:16	18:39	7	(buf[fd]+buf_off[fd])
water	18:16	0:0	8	(
water	18:17	0:0	8	buf
op	18:20	0:0	8	[
water	18:21	0:0	8	fd
op	18:23	0:0	8	]
op	18:25	0:0	8	+
water	18:27	0:0	8	buf_off
op	18:34	0:0	8	[
water	18:35	0:0	8	fd
op	18:37	0:0	8	]
water	18:38	0:0	8	)
arg	18:41	18:49	7	clnt_buf
water	18:41	0:0	8	clnt_buf
arg	18:51	18:55	7	size
water	18:51	0:0	8	size
water	18:56	0:0	6	;
water	19:8	0:0	6	buf_off
op	19:15	0:0	6	[
water	19:16	0:0	6	fd
op	19:18	0:0	6	]
op	19:20	0:0	6	=
water	19:22	0:0	6	buf_off
op	19:29	0:0	6	[
water	19:30	0:0	6	fd
op	19:32	0:0	6	]
op	19:34	0:0	6	+
water	19:36	0:0	6	size
water	19:40	0:0	6	;
water	20:8	0:0	6	ret
op	20:12	0:0	6	=
water	20:14	0:0	6	size
water	20:18	0:0	6	;
water	21:4	0:0	6	}
else	22:4	32:4	2
stmts	23:4	32:4	3	
water	23:4	0:0	4	{
if	25:8	26:38	4	(buf_off [ fd ] != buf_size [ fd ])
cond	25:12	25:38	5	buf_off [ fd ] != buf_size [ fd ]
water	25:12	0:0	6	buf_off
op	25:19	0:0	6	[
water	25:20	0:0	6	fd
op	25:22	0:0	6	]
op	25:24	0:0	6	!=
water	25:27	0:0	6	buf_size
op	25:35	0:0	6	[
water	25:36	0:0	6	fd
op	25:38	0:0	6	]
stmts	26:12	26:38	5	
water	26:12	0:0	6	buf_off
op	26:19	0:0	6	[
water	26:20	0:0	6	fd
op	26:22	0:0	6	]
op	26:24	0:0	6	=
water	26:26	0:0	6	buf_size
op	26:34	0:0	6	[
water	26:35	0:0	6	fd
op	26:37	0:0	6	]
water	26:38	0:0	6	;
call	27:8	27:47	4	extend_mem_file
arg	27:25	27:27	5	fd
water	27:25	0:0	6	fd
arg	27:29	27:47	5	buf_off[fd]+size
water	27:29	0:0	6	buf_off
op	27:36	0:0	6	[
water	27:37	0:0	6	fd
op	27:39	0:0	6	]
op	27:41	0:0	6	+
water	27:43	0:0	6	size
water	27:48	0:0	4	;
water	28:8	0:0	4	buf_size
op	28:16	0:0	4	[
water	28:17	0:0	4	fd
op	28:19	0:0	4	]
op	28:21	0:0	4	+=
water	28:24	0:0	4	size
water	28:28	0:0	4	;
call	29:8	29:55	4	memcpy
arg	29:16	29:39	5	(buf[fd]+buf_off[fd])
water	29:16	0:0	6	(
water	29:17	0:0	6	buf
op	29:20	0:0	6	[
water	29:21	0:0	6	fd
op	29:23	0:0	6	]
op	29:25	0:0	6	+
water	29:27	0:0	6	buf_off
op	29:34	0:0	6	[
water	29:35	0:0	6	fd
op	29:37	0:0	6	]
water	29:38	0:0	6	)
arg	29:41	29:49	5	clnt_buf
water	29:41	0:0	6	clnt_buf
arg	29:51	29:55	5	size
water	29:51	0:0	6	size
water	29:56	0:0	4	;
water	30:8	0:0	4	buf_off
op	30:15	0:0	4	[
water	30:16	0:0	4	fd
op	30:18	0:0	4	]
op	30:20	0:0	4	=
water	30:22	0:0	4	buf_off
op	30:29	0:0	4	[
water	30:30	0:0	4	fd
op	30:32	0:0	4	]
op	30:34	0:0	4	+
water	30:36	0:0	4	size
water	30:40	0:0	4	;
water	31:8	0:0	4	ret
op	31:12	0:0	4	=
water	31:14	0:0	4	size
water	31:18	0:0	4	;
water	32:4	0:0	4	}
return	33:4	33:16	2	(ret)
water	33:11	0:0	3	(
water	33:12	0:0	3	ret
water	33:15	0:0	3	)
