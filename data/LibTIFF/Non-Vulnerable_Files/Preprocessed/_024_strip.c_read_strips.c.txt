func	1:0	41:0	0	int	read_strips
params	2:11	0:0	1	
param	2:12	2:21	2	TIFF *	tif
param	2:23	2:42	2	const tdata_t	array
param	2:44	2:62	2	const tsize_t	size
stmnts	0:0	40:9	1	
decl	4:1	4:24	2	tstrip_t	strip
water	4:15	0:0	2	,
decl	4:1	4:24	2	tstrip_t	nstrips
decl	5:1	5:27	2	tsize_t	stripsize
water	5:19	0:0	2	,
decl	5:1	5:27	2	tsize_t	offset
decl	6:1	6:20	2	tdata_t	buf
op	6:14	0:0	2	=
water	6:16	0:0	2	NULL
water	7:1	0:0	2	stripsize
op	7:11	0:0	2	=
call	7:13	7:30	2	TIFFStripSize
arg	7:27	7:30	3	tif
water	7:27	0:0	4	tif
water	7:31	0:0	2	;
if	8:1	11:1	2	(! stripsize)
cond	8:5	8:6	3	! stripsize
op	8:5	0:0	4	!
water	8:6	0:0	4	stripsize
stmts	8:17	11:1	3	
water	8:17	0:0	4	{
call	9:2	9:43	4	fprintf
arg	9:11	9:17	5	stderr
water	9:11	0:0	6	stderr
arg	9:19	9:43	5	"Wrong size of strip.\n"
water	9:19	0:0	6	"Wrong size of strip.\n"
water	9:44	0:0	4	;
return	10:2	10:11	4	-1
op	10:9	0:0	5	-
water	10:10	0:0	5	1
water	11:1	0:0	4	}
water	12:1	0:0	2	buf
op	12:5	0:0	2	=
call	12:7	12:28	2	_TIFFmalloc
arg	12:19	12:28	3	stripsize
water	12:19	0:0	4	stripsize
water	12:29	0:0	2	;
if	13:1	16:1	2	(! buf)
cond	13:5	13:6	3	! buf
op	13:5	0:0	4	!
water	13:6	0:0	4	buf
stmts	13:11	16:1	3	
water	13:11	0:0	4	{
call	14:2	14:61	4	fprintf
arg	14:11	14:17	5	stderr
water	14:11	0:0	6	stderr
arg	14:19	14:61	5	"Can't allocate space for strip buffer.\n"
water	14:19	0:0	6	"Can't allocate space for strip buffer.\n"
water	14:62	0:0	4	;
return	15:2	15:11	4	-1
op	15:9	0:0	5	-
water	15:10	0:0	5	1
water	16:1	0:0	4	}
water	17:1	0:0	2	nstrips
op	17:9	0:0	2	=
call	17:11	17:33	2	TIFFNumberOfStrips
arg	17:30	17:33	3	tif
water	17:30	0:0	4	tif
water	17:34	0:0	2	;
for	18:1	38:8	2	(offset = 0 , strip = 0 ;offset < size && strip < nstrips;offset += stripsize , strip ++)
forinit	18:6	18:27	3	offset = 0 , strip = 0 ;
water	18:6	0:0	4	offset
op	18:13	0:0	4	=
water	18:15	0:0	4	0
water	18:16	0:0	4	,
water	18:18	0:0	4	strip
op	18:24	0:0	4	=
water	18:26	0:0	4	0
water	18:27	0:0	4	;
cond	19:6	19:31	3	offset < size && strip < nstrips
water	19:6	0:0	4	offset
op	19:13	0:0	4	<
water	19:15	0:0	4	size
op	19:20	0:0	4	&&
water	19:23	0:0	4	strip
op	19:29	0:0	4	<
water	19:31	0:0	4	nstrips
forexpr	20:6	20:30	3	offset += stripsize , strip ++
water	20:6	0:0	4	offset
op	20:12	0:0	4	+=
water	20:14	0:0	4	stripsize
water	20:23	0:0	4	,
water	20:25	0:0	4	strip
op	20:30	0:0	4	++
stmts	20:34	38:8	3	
water	20:34	0:0	4	{
decl	24:2	24:33	4	tsize_t	bufsize
op	24:18	0:0	4	=
water	24:20	0:0	4	size
op	24:25	0:0	4	-
water	24:27	0:0	4	offset
if	25:2	26:22	4	(bufsize > stripsize)
cond	25:6	25:16	5	bufsize > stripsize
water	25:6	0:0	6	bufsize
op	25:14	0:0	6	>
water	25:16	0:0	6	stripsize
stmts	26:3	26:22	5	
water	26:3	0:0	6	bufsize
op	26:11	0:0	6	=
water	26:13	0:0	6	stripsize
water	26:22	0:0	6	;
if	27:2	31:2	4	(TIFFReadEncodedStrip (tif ,strip ,buf ,- 1 ) != bufsize)
cond	27:6	27:51	5	TIFFReadEncodedStrip (tif ,strip ,buf ,- 1 ) != bufsize
call	27:6	27:46	6	TIFFReadEncodedStrip
arg	27:27	27:30	7	tif
water	27:27	0:0	8	tif
arg	27:32	27:37	7	strip
water	27:32	0:0	8	strip
arg	27:39	27:42	7	buf
water	27:39	0:0	8	buf
arg	27:44	27:46	7	-1
op	27:44	0:0	8	-
water	27:45	0:0	8	1
op	27:48	0:0	6	!=
water	27:51	0:0	6	bufsize
stmts	27:60	31:2	5	
water	27:60	0:0	6	{
call	28:3	29:25	6	fprintf
arg	28:12	28:18	7	stderr
water	28:12	0:0	8	stderr
arg	28:20	28:45	7	"Can't read strip %lu.\n"
water	28:20	0:0	8	"Can't read strip %lu.\n"
arg	29:5	29:25	7	(unsignedlong)strip
water	29:5	0:0	8	(
water	29:6	0:0	8	unsigned
water	29:15	0:0	8	long
water	29:19	0:0	8	)
water	29:20	0:0	8	strip
water	29:26	0:0	6	;
return	30:3	30:12	6	-1
op	30:10	0:0	7	-
water	30:11	0:0	7	1
water	31:2	0:0	6	}
if	32:2	37:2	4	(memcmp (buf ,( char * ) array + offset ,bufsize ) != 0)
cond	32:6	32:54	5	memcmp (buf ,( char * ) array + offset ,bufsize ) != 0
call	32:6	32:49	6	memcmp
arg	32:13	32:16	7	buf
water	32:13	0:0	8	buf
arg	32:18	32:40	7	(char*)array+offset
water	32:18	0:0	8	(
water	32:19	0:0	8	char
op	32:24	0:0	8	*
water	32:25	0:0	8	)
water	32:26	0:0	8	array
op	32:32	0:0	8	+
water	32:34	0:0	8	offset
arg	32:42	32:49	7	bufsize
water	32:42	0:0	8	bufsize
op	32:51	0:0	6	!=
water	32:54	0:0	6	0
stmts	32:57	37:2	5	
water	32:57	0:0	6	{
call	33:3	34:25	6	fprintf
arg	33:12	33:18	7	stderr
water	33:12	0:0	8	stderr
arg	33:20	33:54	7	"Wrong data read for strip %lu.\n"
water	33:20	0:0	8	"Wrong data read for strip %lu.\n"
arg	34:5	34:25	7	(unsignedlong)strip
water	34:5	0:0	8	(
water	34:6	0:0	8	unsigned
water	34:15	0:0	8	long
water	34:19	0:0	8	)
water	34:20	0:0	8	strip
water	34:26	0:0	6	;
call	35:3	35:16	6	_TIFFfree
arg	35:13	35:16	7	buf
water	35:13	0:0	8	buf
water	35:17	0:0	6	;
return	36:3	36:12	6	-1
op	36:10	0:0	7	-
water	36:11	0:0	7	1
water	37:2	0:0	6	}
water	38:8	0:0	4	}
call	39:1	39:14	2	_TIFFfree
arg	39:11	39:14	3	buf
water	39:11	0:0	4	buf
water	39:15	0:0	2	;
return	40:1	40:9	2	0
water	40:8	0:0	3	0
