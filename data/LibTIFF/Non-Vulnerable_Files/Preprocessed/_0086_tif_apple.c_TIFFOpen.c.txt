func	1:0	48:0	0	TIFF *	TIFFOpen
params	2:8	0:0	1	
param	2:9	2:25	2	const char *	name
param	2:27	2:43	2	const char *	mode
stmnts	4:1	47:19	1	
water	4:1	0:0	2	static
water	4:8	0:0	2	const
water	4:14	0:0	2	char
water	4:19	0:0	2	module
op	4:25	0:0	2	[
op	4:26	0:0	2	]
op	4:28	0:0	2	=
water	4:30	0:0	2	"TIFFOpen"
water	4:40	0:0	2	;
decl	5:1	5:13	2	Str255	pname
decl	6:1	6:12	2	FInfo	finfo
decl	7:1	7:11	2	short	fref
decl	8:1	8:10	2	OSErr	err
decl	9:1	9:13	2	FSSpec	fSpec
call	10:1	10:27	2	strcpy
arg	10:8	10:21	3	(char*)pname
water	10:8	0:0	4	(
water	10:9	0:0	4	char
op	10:13	0:0	4	*
water	10:14	0:0	4	)
water	10:16	0:0	4	pname
arg	10:23	10:27	3	name
water	10:23	0:0	4	name
water	10:28	0:0	2	;
call	11:1	11:24	2	ourc2pstr
arg	11:11	11:24	3	(char*)pname
water	11:11	0:0	4	(
water	11:12	0:0	4	char
op	11:16	0:0	4	*
water	11:17	0:0	4	)
water	11:19	0:0	4	pname
water	11:25	0:0	2	;
water	12:1	0:0	2	err
op	12:5	0:0	2	=
call	12:7	12:41	2	FSMakeFSSpec
arg	12:21	12:22	3	0
water	12:21	0:0	4	0
arg	12:24	12:25	3	0
water	12:24	0:0	4	0
arg	12:27	12:32	3	pname
water	12:27	0:0	4	pname
arg	12:34	12:41	3	&fSpec
op	12:34	0:0	4	&
water	12:35	0:0	4	fSpec
water	12:42	0:0	2	;
switch	13:1	40:1	2	(_TIFFgetMode (mode ,module ))
cond	13:9	13:34	3	_TIFFgetMode (mode ,module )
call	13:9	13:34	4	_TIFFgetMode
arg	13:22	13:26	5	mode
water	13:22	0:0	6	mode
arg	13:28	13:34	5	module
water	13:28	0:0	6	module
stmts	13:37	40:1	3	
water	13:37	0:0	4	{
label	14:1	14:8	4	default :
return	15:2	15:20	4	((TIFF*)0)
water	15:9	0:0	5	(
water	15:10	0:0	5	(
water	15:11	0:0	5	TIFF
op	15:15	0:0	5	*
water	15:16	0:0	5	)
water	15:18	0:0	5	0
water	15:19	0:0	5	)
water	16:1	0:0	4	case
water	16:6	0:0	4	O_RDWR
op	16:13	0:0	4	|
water	16:15	0:0	4	O_CREAT
op	16:23	0:0	4	|
water	16:25	0:0	4	O_TRUNC
water	16:32	0:0	4	:
water	17:2	0:0	4	if
water	17:5	0:0	4	(
call	17:6	17:32	4	FSpGetFInfo
arg	17:18	17:24	5	&fSpec
op	17:18	0:0	6	&
water	17:19	0:0	6	fSpec
arg	17:26	17:32	5	&finfo
op	17:26	0:0	6	&
water	17:27	0:0	6	finfo
op	17:34	0:0	4	==
water	17:37	0:0	4	noErr
water	17:42	0:0	4	)
call	18:3	18:19	4	FSpDelete
arg	18:13	18:19	5	&fSpec
op	18:13	0:0	6	&
water	18:14	0:0	6	fSpec
water	18:20	0:0	4	;
water	20:1	0:0	4	case
water	20:6	0:0	4	O_RDWR
op	20:13	0:0	4	|
water	20:15	0:0	4	O_CREAT
water	20:22	0:0	4	:
water	21:2	0:0	4	if
water	21:5	0:0	4	(
water	21:6	0:0	4	(
water	21:7	0:0	4	err
op	21:11	0:0	4	=
call	21:13	21:39	4	FSpGetFInfo
arg	21:25	21:31	5	&fSpec
op	21:25	0:0	6	&
water	21:26	0:0	6	fSpec
arg	21:33	21:39	5	&finfo
op	21:33	0:0	6	&
water	21:34	0:0	6	finfo
water	21:40	0:0	4	)
op	21:42	0:0	4	==
water	21:45	0:0	4	fnfErr
water	21:51	0:0	4	)
water	21:53	0:0	4	{
water	22:3	0:0	4	if
water	22:6	0:0	4	(
call	22:7	22:55	4	FSpCreate
arg	22:17	22:23	5	&fSpec
op	22:17	0:0	6	&
water	22:18	0:0	6	fSpec
arg	22:25	22:31	5	'    '
water	22:25	0:0	6	'    '
arg	22:33	22:39	5	'TIFF'
water	22:33	0:0	6	'TIFF'
arg	22:41	22:55	5	smSystemScript
water	22:41	0:0	6	smSystemScript
op	22:57	0:0	4	!=
water	22:60	0:0	4	noErr
water	22:65	0:0	4	)
water	23:4	0:0	4	goto
water	23:9	0:0	4	badCreate
water	23:18	0:0	4	;
water	24:3	0:0	4	if
water	24:6	0:0	4	(
call	24:7	24:42	4	FSpOpenDF
arg	24:17	24:23	5	&fSpec
op	24:17	0:0	6	&
water	24:18	0:0	6	fSpec
arg	24:25	24:35	5	fsRdWrPerm
water	24:25	0:0	6	fsRdWrPerm
arg	24:37	24:42	5	&fref
op	24:37	0:0	6	&
water	24:38	0:0	6	fref
op	24:44	0:0	4	!=
water	24:47	0:0	4	noErr
water	24:52	0:0	4	)
water	25:4	0:0	4	goto
water	25:9	0:0	4	badOpen
water	25:16	0:0	4	;
water	26:2	0:0	4	}
water	26:4	0:0	4	else
water	26:9	0:0	4	if
water	26:12	0:0	4	(
water	26:13	0:0	4	err
op	26:17	0:0	4	==
water	26:20	0:0	4	noErr
water	26:25	0:0	4	)
water	26:27	0:0	4	{
water	27:3	0:0	4	if
water	27:6	0:0	4	(
call	27:7	27:42	4	FSpOpenDF
arg	27:17	27:23	5	&fSpec
op	27:17	0:0	6	&
water	27:18	0:0	6	fSpec
arg	27:25	27:35	5	fsRdWrPerm
water	27:25	0:0	6	fsRdWrPerm
arg	27:37	27:42	5	&fref
op	27:37	0:0	6	&
water	27:38	0:0	6	fref
op	27:44	0:0	4	!=
water	27:47	0:0	4	noErr
water	27:52	0:0	4	)
water	28:4	0:0	4	goto
water	28:9	0:0	4	badOpen
water	28:16	0:0	4	;
water	29:2	0:0	4	}
water	29:4	0:0	4	else
water	30:3	0:0	4	goto
water	30:8	0:0	4	badOpen
water	30:15	0:0	4	;
break	31:2	31:7	4	
label	32:1	32:14	4	case O_RDONLY :
if	33:2	34:15	4	(FSpOpenDF (& fSpec ,fsRdPerm ,& fref ) != noErr)
cond	33:6	33:44	5	FSpOpenDF (& fSpec ,fsRdPerm ,& fref ) != noErr
call	33:6	33:39	6	FSpOpenDF
arg	33:16	33:22	7	&fSpec
op	33:16	0:0	8	&
water	33:17	0:0	8	fSpec
arg	33:24	33:32	7	fsRdPerm
water	33:24	0:0	8	fsRdPerm
arg	33:34	33:39	7	&fref
op	33:34	0:0	8	&
water	33:35	0:0	8	fref
op	33:41	0:0	6	!=
water	33:44	0:0	6	noErr
stmts	34:3	34:15	5	
goto	34:3	34:15	6	badOpen
water	34:8	0:0	7	badOpen
break	35:2	35:7	4	
label	36:1	36:12	4	case O_RDWR :
if	37:2	38:15	4	(FSpOpenDF (& fSpec ,fsRdWrPerm ,& fref ) != noErr)
cond	37:6	37:46	5	FSpOpenDF (& fSpec ,fsRdWrPerm ,& fref ) != noErr
call	37:6	37:41	6	FSpOpenDF
arg	37:16	37:22	7	&fSpec
op	37:16	0:0	8	&
water	37:17	0:0	8	fSpec
arg	37:24	37:34	7	fsRdWrPerm
water	37:24	0:0	8	fsRdWrPerm
arg	37:36	37:41	7	&fref
op	37:36	0:0	8	&
water	37:37	0:0	8	fref
op	37:43	0:0	6	!=
water	37:46	0:0	6	noErr
stmts	38:3	38:15	5	
goto	38:3	38:15	6	badOpen
water	38:8	0:0	7	badOpen
break	39:2	39:7	4	
water	40:1	0:0	4	}
return	41:1	41:44	2	(TIFFFdOpen((int)fref,name,mode))
water	41:8	0:0	3	(
call	41:9	41:42	3	TIFFFdOpen
arg	41:20	41:30	4	(int)fref
water	41:20	0:0	5	(
water	41:21	0:0	5	int
water	41:24	0:0	5	)
water	41:26	0:0	5	fref
arg	41:32	41:36	4	name
water	41:32	0:0	5	name
arg	41:38	41:42	4	mode
water	41:38	0:0	5	mode
water	41:43	0:0	3	)
label	42:0	42:9	2	badCreate :
call	43:1	43:50	2	TIFFErrorExt
arg	43:14	43:15	3	0
water	43:14	0:0	4	0
arg	43:17	43:23	3	module
water	43:17	0:0	4	module
arg	43:25	43:44	3	"%s: Cannot create"
water	43:25	0:0	4	"%s: Cannot create"
arg	43:46	43:50	3	name
water	43:46	0:0	4	name
water	43:51	0:0	2	;
return	44:1	44:19	2	((TIFF*)0)
water	44:8	0:0	3	(
water	44:9	0:0	3	(
water	44:10	0:0	3	TIFF
op	44:14	0:0	3	*
water	44:15	0:0	3	)
water	44:17	0:0	3	0
water	44:18	0:0	3	)
label	45:0	45:7	2	badOpen :
call	46:1	46:48	2	TIFFErrorExt
arg	46:14	46:15	3	0
water	46:14	0:0	4	0
arg	46:17	46:23	3	module
water	46:17	0:0	4	module
arg	46:25	46:42	3	"%s: Cannot open"
water	46:25	0:0	4	"%s: Cannot open"
arg	46:44	46:48	3	name
water	46:44	0:0	4	name
water	46:49	0:0	2	;
return	47:1	47:19	2	((TIFF*)0)
water	47:8	0:0	3	(
water	47:9	0:0	3	(
water	47:10	0:0	3	TIFF
op	47:14	0:0	3	*
water	47:15	0:0	3	)
water	47:17	0:0	3	0
water	47:18	0:0	3	)
