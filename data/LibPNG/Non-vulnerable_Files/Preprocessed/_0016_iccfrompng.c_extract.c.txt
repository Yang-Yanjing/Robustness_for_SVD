func	1:0	42:0	0	static png_bytep	extract
params	2:7	0:0	1	
param	2:8	2:16	2	FILE *	fp
param	2:18	2:38	2	png_uint_32 *	proflen
stmnts	0:0	41:16	1	
decl	4:3	4:76	2	png_structp	png_ptr
op	4:23	0:0	2	=
call	4:25	4:75	3	png_create_read_struct
arg	4:48	4:69	4	PNG_LIBPNG_VER_STRING
water	4:48	0:0	5	PNG_LIBPNG_VER_STRING
arg	4:70	4:71	4	0
water	4:70	0:0	5	0
arg	4:72	4:73	4	0
water	4:72	0:0	5	0
arg	4:74	4:75	4	0
water	4:74	0:0	5	0
decl	5:3	5:28	2	png_infop	info_ptr
op	5:22	0:0	2	=
water	5:24	0:0	2	NULL
decl	6:3	6:26	2	png_bytep	result
op	6:20	0:0	2	=
water	6:22	0:0	2	NULL
op	8:3	0:0	2	*
water	8:4	0:0	2	proflen
op	8:12	0:0	2	=
water	8:14	0:0	2	0
water	8:15	0:0	2	;
if	9:3	13:3	2	(png_ptr == NULL)
cond	9:7	9:18	3	png_ptr == NULL
water	9:7	0:0	4	png_ptr
op	9:15	0:0	4	==
water	9:18	0:0	4	NULL
stmts	10:3	13:3	3	
water	10:3	0:0	4	{
call	11:6	11:63	4	fprintf
arg	11:14	11:20	5	stderr
water	11:14	0:0	6	stderr
arg	11:22	11:63	5	"iccfrompng: version library mismatch?\n"
water	11:22	0:0	6	"iccfrompng: version library mismatch?\n"
water	11:64	0:0	4	;
return	12:6	12:14	4	0
water	12:13	0:0	5	0
water	13:3	0:0	4	}
if	14:3	18:3	2	(setjmp (png_jmpbuf (png_ptr ) ))
cond	14:7	14:33	3	setjmp (png_jmpbuf (png_ptr ) )
call	14:7	14:33	4	setjmp
arg	14:14	14:33	5	png_jmpbuf(png_ptr)
call	14:14	14:32	6	png_jmpbuf
arg	14:25	14:32	7	png_ptr
water	14:25	0:0	8	png_ptr
stmts	15:3	18:3	3	
water	15:3	0:0	4	{
call	16:6	16:55	4	png_destroy_read_struct
arg	16:30	16:38	5	&png_ptr
op	16:30	0:0	6	&
water	16:31	0:0	6	png_ptr
arg	16:40	16:49	5	&info_ptr
op	16:40	0:0	6	&
water	16:41	0:0	6	info_ptr
arg	16:51	16:55	5	NULL
water	16:51	0:0	6	NULL
water	16:56	0:0	4	;
return	17:6	17:14	4	0
water	17:13	0:0	5	0
water	18:3	0:0	4	}
call	19:3	19:26	2	png_init_io
arg	19:15	19:22	3	png_ptr
water	19:15	0:0	4	png_ptr
arg	19:24	19:26	3	fp
water	19:24	0:0	4	fp
water	19:27	0:0	2	;
water	20:3	0:0	2	info_ptr
op	20:12	0:0	2	=
call	20:14	20:44	2	png_create_info_struct
arg	20:37	20:44	3	png_ptr
water	20:37	0:0	4	png_ptr
water	20:45	0:0	2	;
if	21:3	22:57	2	(info_ptr == NULL)
cond	21:7	21:19	3	info_ptr == NULL
water	21:7	0:0	4	info_ptr
op	21:16	0:0	4	==
water	21:19	0:0	4	NULL
stmts	22:6	22:57	3	
call	22:6	22:56	4	png_error
arg	22:16	22:23	5	png_ptr
water	22:16	0:0	6	png_ptr
arg	22:25	22:56	5	"OOM allocating info structure"
water	22:25	0:0	6	"OOM allocating info structure"
water	22:57	0:0	4	;
call	23:3	23:34	2	png_read_info
arg	23:17	23:24	3	png_ptr
water	23:17	0:0	4	png_ptr
arg	23:26	23:34	3	info_ptr
water	23:26	0:0	4	info_ptr
water	23:35	0:0	2	;
water	24:3	0:0	2	{
decl	25:6	25:20	2	png_charp	name
decl	26:6	26:26	2	int	compression_type
decl	27:6	27:23	2	png_bytep	profile
if	28:6	36:6	2	(png_get_iCCP (png_ptr ,info_ptr ,& name ,& compression_type ,& profile ,proflen ) & PNG_INFO_iCCP)
cond	28:10	29:20	3	png_get_iCCP (png_ptr ,info_ptr ,& name ,& compression_type ,& profile ,proflen ) & PNG_INFO_iCCP
call	28:10	29:16	4	png_get_iCCP
arg	28:23	28:30	5	png_ptr
water	28:23	0:0	6	png_ptr
arg	28:32	28:40	5	info_ptr
water	28:32	0:0	6	info_ptr
arg	28:42	28:47	5	&name
op	28:42	0:0	6	&
water	28:43	0:0	6	name
arg	28:49	28:66	5	&compression_type
op	28:49	0:0	6	&
water	28:50	0:0	6	compression_type
arg	28:68	28:76	5	&profile
op	28:68	0:0	6	&
water	28:69	0:0	6	profile
arg	29:9	29:16	5	proflen
water	29:9	0:0	6	proflen
op	29:18	0:0	4	&
water	29:20	0:0	4	PNG_INFO_iCCP
stmts	30:6	36:6	3	
water	30:6	0:0	4	{
water	31:9	0:0	4	result
op	31:16	0:0	4	=
call	31:18	31:33	4	malloc
arg	31:25	31:33	5	*proflen
op	31:25	0:0	6	*
water	31:26	0:0	6	proflen
water	31:34	0:0	4	;
if	32:9	33:45	4	(result != NULL)
cond	32:13	32:23	5	result != NULL
water	32:13	0:0	6	result
op	32:20	0:0	6	!=
water	32:23	0:0	6	NULL
stmts	33:12	33:45	5	
call	33:12	33:44	6	memcpy
arg	33:19	33:25	7	result
water	33:19	0:0	8	result
arg	33:27	33:34	7	profile
water	33:27	0:0	8	profile
arg	33:36	33:44	7	*proflen
op	33:36	0:0	8	*
water	33:37	0:0	8	proflen
water	33:45	0:0	6	;
else	34:9	35:63	4
stmts	35:12	35:63	5	
call	35:12	35:62	6	png_error
arg	35:22	35:29	7	png_ptr
water	35:22	0:0	8	png_ptr
arg	35:31	35:62	7	"OOM allocating profile buffer"
water	35:31	0:0	8	"OOM allocating profile buffer"
water	35:63	0:0	6	;
water	36:6	0:0	4	}
else	37:6	38:20	2
stmts	38:1	38:20	3	
water	38:1	0:0	4	result
op	38:8	0:0	4	=
water	38:10	0:0	4	no_profile
water	38:20	0:0	4	;
water	39:3	0:0	2	}
call	40:3	40:52	2	png_destroy_read_struct
arg	40:27	40:35	3	&png_ptr
op	40:27	0:0	4	&
water	40:28	0:0	4	png_ptr
arg	40:37	40:46	3	&info_ptr
op	40:37	0:0	4	&
water	40:38	0:0	4	info_ptr
arg	40:48	40:52	3	NULL
water	40:48	0:0	4	NULL
water	40:53	0:0	2	;
return	41:3	41:16	2	result
water	41:10	0:0	3	result
