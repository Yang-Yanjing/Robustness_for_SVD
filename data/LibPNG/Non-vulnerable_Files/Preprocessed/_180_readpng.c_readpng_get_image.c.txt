func	2:0	70:0	0	uch *	readpng_get_image
params	2:22	0:0	1	
param	2:23	2:46	2	double	display_exponent
param	2:48	2:62	2	int *	pChannels
param	2:64	2:78	2	ulg *	pRowbytes
stmnts	0:0	69:21	1	
decl	4:4	4:17	2	double	gamma
decl	5:4	5:28	2	png_uint_32	i
water	5:18	0:0	2	,
decl	5:4	5:28	2	png_uint_32	rowbytes
decl	6:4	6:35	2	png_bytepp	row_pointers
op	6:29	0:0	2	=
water	6:31	0:0	2	NULL
if	9:4	16:4	2	(setjmp (png_jmpbuf (png_ptr ) ))
cond	9:8	9:34	3	setjmp (png_jmpbuf (png_ptr ) )
call	9:8	9:34	4	setjmp
arg	9:15	9:34	5	png_jmpbuf(png_ptr)
call	9:15	9:33	6	png_jmpbuf
arg	9:26	9:33	7	png_ptr
water	9:26	0:0	8	png_ptr
stmts	9:37	16:4	3	
water	9:37	0:0	4	{
call	10:8	10:23	4	free
arg	10:13	10:23	5	image_data
water	10:13	0:0	6	image_data
water	10:24	0:0	4	;
water	11:8	0:0	4	image_data
op	11:19	0:0	4	=
water	11:21	0:0	4	NULL
water	11:25	0:0	4	;
call	12:8	12:25	4	free
arg	12:13	12:25	5	row_pointers
water	12:13	0:0	6	row_pointers
water	12:26	0:0	4	;
water	13:8	0:0	4	row_pointers
op	13:21	0:0	4	=
water	13:23	0:0	4	NULL
water	13:27	0:0	4	;
call	14:8	14:57	4	png_destroy_read_struct
arg	14:32	14:40	5	&png_ptr
op	14:32	0:0	6	&
water	14:33	0:0	6	png_ptr
arg	14:42	14:51	5	&info_ptr
op	14:42	0:0	6	&
water	14:43	0:0	6	info_ptr
arg	14:53	14:57	5	NULL
water	14:53	0:0	6	NULL
water	14:58	0:0	4	;
return	15:8	15:19	4	NULL
water	15:15	0:0	5	NULL
water	16:4	0:0	4	}
if	20:4	21:31	2	(color_type == PNG_COLOR_TYPE_PALETTE)
cond	20:8	20:22	3	color_type == PNG_COLOR_TYPE_PALETTE
water	20:8	0:0	4	color_type
op	20:19	0:0	4	==
water	20:22	0:0	4	PNG_COLOR_TYPE_PALETTE
stmts	21:8	21:31	3	
call	21:8	21:30	4	png_set_expand
arg	21:23	21:30	5	png_ptr
water	21:23	0:0	6	png_ptr
water	21:31	0:0	4	;
if	22:4	23:31	2	(color_type == PNG_COLOR_TYPE_GRAY && bit_depth < 8)
cond	22:8	22:57	3	color_type == PNG_COLOR_TYPE_GRAY && bit_depth < 8
water	22:8	0:0	4	color_type
op	22:19	0:0	4	==
water	22:22	0:0	4	PNG_COLOR_TYPE_GRAY
op	22:42	0:0	4	&&
water	22:45	0:0	4	bit_depth
op	22:55	0:0	4	<
water	22:57	0:0	4	8
stmts	23:8	23:31	3	
call	23:8	23:30	4	png_set_expand
arg	23:23	23:30	5	png_ptr
water	23:23	0:0	6	png_ptr
water	23:31	0:0	4	;
if	24:4	25:31	2	(png_get_valid (png_ptr ,info_ptr ,PNG_INFO_tRNS ))
cond	24:8	24:54	3	png_get_valid (png_ptr ,info_ptr ,PNG_INFO_tRNS )
call	24:8	24:54	4	png_get_valid
arg	24:22	24:29	5	png_ptr
water	24:22	0:0	6	png_ptr
arg	24:31	24:39	5	info_ptr
water	24:31	0:0	6	info_ptr
arg	24:41	24:54	5	PNG_INFO_tRNS
water	24:41	0:0	6	PNG_INFO_tRNS
stmts	25:8	25:31	3	
call	25:8	25:30	4	png_set_expand
arg	25:23	25:30	5	png_ptr
water	25:23	0:0	6	png_ptr
water	25:31	0:0	4	;
if	27:4	29:33	2	(bit_depth == 16)
cond	27:8	27:21	3	bit_depth == 16
water	27:8	0:0	4	bit_depth
op	27:18	0:0	4	==
water	27:21	0:0	4	16
stmts	29:8	29:33	3	
call	29:8	29:32	4	png_set_scale_16
arg	29:25	29:32	5	png_ptr
water	29:25	0:0	6	png_ptr
water	29:33	0:0	4	;
call	31:8	31:32	2	png_set_strip_16
arg	31:25	31:32	3	png_ptr
water	31:25	0:0	4	png_ptr
water	31:33	0:0	2	;
if	34:4	36:36	2	(color_type == PNG_COLOR_TYPE_GRAY || color_type == PNG_COLOR_TYPE_GRAY_ALPHA)
cond	34:8	35:22	3	color_type == PNG_COLOR_TYPE_GRAY || color_type == PNG_COLOR_TYPE_GRAY_ALPHA
water	34:8	0:0	4	color_type
op	34:19	0:0	4	==
water	34:22	0:0	4	PNG_COLOR_TYPE_GRAY
op	34:42	0:0	4	||
water	35:8	0:0	4	color_type
op	35:19	0:0	4	==
water	35:22	0:0	4	PNG_COLOR_TYPE_GRAY_ALPHA
stmts	36:8	36:36	3	
call	36:8	36:35	4	png_set_gray_to_rgb
arg	36:28	36:35	5	png_ptr
water	36:28	0:0	6	png_ptr
water	36:36	0:0	4	;
if	40:4	41:55	2	(png_get_gAMA (png_ptr ,info_ptr ,& gamma ))
cond	40:8	40:46	3	png_get_gAMA (png_ptr ,info_ptr ,& gamma )
call	40:8	40:46	4	png_get_gAMA
arg	40:21	40:28	5	png_ptr
water	40:21	0:0	6	png_ptr
arg	40:30	40:38	5	info_ptr
water	40:30	0:0	6	info_ptr
arg	40:40	40:46	5	&gamma
op	40:40	0:0	6	&
water	40:41	0:0	6	gamma
stmts	41:8	41:55	3	
call	41:8	41:54	4	png_set_gamma
arg	41:22	41:29	5	png_ptr
water	41:22	0:0	6	png_ptr
arg	41:31	41:47	5	display_exponent
water	41:31	0:0	6	display_exponent
arg	41:49	41:54	5	gamma
water	41:49	0:0	6	gamma
water	41:55	0:0	4	;
call	44:4	44:42	2	png_read_update_info
arg	44:25	44:32	3	png_ptr
water	44:25	0:0	4	png_ptr
arg	44:34	44:42	3	info_ptr
water	44:34	0:0	4	info_ptr
water	44:43	0:0	2	;
op	45:4	0:0	2	*
water	45:5	0:0	2	pRowbytes
op	45:15	0:0	2	=
water	45:17	0:0	2	rowbytes
op	45:26	0:0	2	=
call	45:28	45:62	2	png_get_rowbytes
arg	45:45	45:52	3	png_ptr
water	45:45	0:0	4	png_ptr
arg	45:54	45:62	3	info_ptr
water	45:54	0:0	4	info_ptr
water	45:63	0:0	2	;
op	46:4	0:0	2	*
water	46:5	0:0	2	pChannels
op	46:15	0:0	2	=
water	46:17	0:0	2	(
water	46:18	0:0	2	int
water	46:21	0:0	2	)
call	46:22	46:56	2	png_get_channels
arg	46:39	46:46	3	png_ptr
water	46:39	0:0	4	png_ptr
arg	46:48	46:56	3	info_ptr
water	46:48	0:0	4	info_ptr
water	46:57	0:0	2	;
if	47:4	50:4	2	(( image_data = ( uch * )malloc (rowbytes * height ) ) == NULL)
cond	47:8	47:57	3	( image_data = ( uch * )malloc (rowbytes * height ) ) == NULL
water	47:8	0:0	4	(
water	47:9	0:0	4	image_data
op	47:20	0:0	4	=
water	47:22	0:0	4	(
water	47:23	0:0	4	uch
op	47:27	0:0	4	*
water	47:28	0:0	4	)
call	47:29	47:51	4	malloc
arg	47:36	47:51	5	rowbytes*height
water	47:36	0:0	6	rowbytes
op	47:44	0:0	6	*
water	47:45	0:0	6	height
water	47:52	0:0	4	)
op	47:54	0:0	4	==
water	47:57	0:0	4	NULL
stmts	47:63	50:4	3	
water	47:63	0:0	4	{
call	48:8	48:57	4	png_destroy_read_struct
arg	48:32	48:40	5	&png_ptr
op	48:32	0:0	6	&
water	48:33	0:0	6	png_ptr
arg	48:42	48:51	5	&info_ptr
op	48:42	0:0	6	&
water	48:43	0:0	6	info_ptr
arg	48:53	48:57	5	NULL
water	48:53	0:0	6	NULL
water	48:58	0:0	4	;
return	49:8	49:19	4	NULL
water	49:15	0:0	5	NULL
water	50:4	0:0	4	}
if	51:4	56:4	2	(( row_pointers = ( png_bytepp )malloc (height * sizeof ( png_bytep ) ) ) == NULL)
cond	51:8	51:73	3	( row_pointers = ( png_bytepp )malloc (height * sizeof ( png_bytep ) ) ) == NULL
water	51:8	0:0	4	(
water	51:9	0:0	4	row_pointers
op	51:22	0:0	4	=
water	51:24	0:0	4	(
water	51:25	0:0	4	png_bytepp
water	51:35	0:0	4	)
call	51:36	51:67	4	malloc
arg	51:43	51:67	5	height*sizeof(png_bytep)
water	51:43	0:0	6	height
op	51:49	0:0	6	*
op	51:50	0:0	6	sizeof
water	51:56	0:0	6	(
water	51:57	0:0	6	png_bytep
water	51:66	0:0	6	)
water	51:68	0:0	4	)
op	51:70	0:0	4	==
water	51:73	0:0	4	NULL
stmts	51:79	56:4	3	
water	51:79	0:0	4	{
call	52:8	52:57	4	png_destroy_read_struct
arg	52:32	52:40	5	&png_ptr
op	52:32	0:0	6	&
water	52:33	0:0	6	png_ptr
arg	52:42	52:51	5	&info_ptr
op	52:42	0:0	6	&
water	52:43	0:0	6	info_ptr
arg	52:53	52:57	5	NULL
water	52:53	0:0	6	NULL
water	52:58	0:0	4	;
call	53:8	53:23	4	free
arg	53:13	53:23	5	image_data
water	53:13	0:0	6	image_data
water	53:24	0:0	4	;
water	54:8	0:0	4	image_data
op	54:19	0:0	4	=
water	54:21	0:0	4	NULL
water	54:25	0:0	4	;
return	55:8	55:19	4	NULL
water	55:15	0:0	5	NULL
water	56:4	0:0	4	}
call	57:4	58:37	2	Trace
arg	57:10	58:37	3	(stderr,"readpng_get_image:  channels = %d, rowbytes = %ld, height = %ld\n",*pChannels,rowbytes,height)
water	57:10	0:0	4	(
water	57:11	0:0	4	stderr
water	57:17	0:0	4	,
water	57:19	0:0	4	"readpng_get_image:  channels = %d, rowbytes = %ld, height = %ld\n"
water	57:86	0:0	4	,
op	58:8	0:0	4	*
water	58:9	0:0	4	pChannels
water	58:18	0:0	4	,
water	58:20	0:0	4	rowbytes
water	58:28	0:0	4	,
water	58:30	0:0	4	height
water	58:36	0:0	4	)
water	58:38	0:0	2	;
for	60:4	61:49	2	(i = 0 ;i < height;++ i)
forinit	60:9	60:14	3	i = 0 ;
water	60:9	0:0	4	i
op	60:11	0:0	4	=
water	60:13	0:0	4	0
water	60:14	0:0	4	;
cond	60:17	60:21	3	i < height
water	60:17	0:0	4	i
op	60:19	0:0	4	<
water	60:21	0:0	4	height
forexpr	60:30	60:32	3	++ i
op	60:30	0:0	4	++
water	60:32	0:0	4	i
stmts	61:8	61:49	3	
water	61:8	0:0	4	row_pointers
op	61:20	0:0	4	[
water	61:21	0:0	4	i
op	61:22	0:0	4	]
op	61:24	0:0	4	=
water	61:26	0:0	4	image_data
op	61:37	0:0	4	+
water	61:39	0:0	4	i
op	61:40	0:0	4	*
water	61:41	0:0	4	rowbytes
water	61:49	0:0	4	;
call	63:4	63:40	2	png_read_image
arg	63:19	63:26	3	png_ptr
water	63:19	0:0	4	png_ptr
arg	63:28	63:40	3	row_pointers
water	63:28	0:0	4	row_pointers
water	63:41	0:0	2	;
call	66:4	66:21	2	free
arg	66:9	66:21	3	row_pointers
water	66:9	0:0	4	row_pointers
water	66:22	0:0	2	;
water	67:4	0:0	2	row_pointers
op	67:17	0:0	2	=
water	67:19	0:0	2	NULL
water	67:23	0:0	2	;
call	68:4	68:30	2	png_read_end
arg	68:17	68:24	3	png_ptr
water	68:17	0:0	4	png_ptr
arg	68:26	68:30	3	NULL
water	68:26	0:0	4	NULL
water	68:31	0:0	2	;
return	69:4	69:21	2	image_data
water	69:11	0:0	3	image_data
