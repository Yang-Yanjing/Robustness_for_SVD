func	1:0	48:0	0	static size_t	safe_read
params	2:9	0:0	1	
param	2:10	2:29	2	png_structp	png_ptr
param	2:31	2:37	2	int	fd
param	2:39	2:54	2	void *	buffer_in
param	2:56	2:69	2	size_t	nbytes
stmnts	0:0	47:16	1	
decl	4:3	4:20	2	size_t	ntotal
op	4:17	0:0	2	=
water	4:19	0:0	2	0
decl	5:3	5:48	2	char	*buffer
op	5:16	0:0	2	=
call	5:18	5:47	3	png_voidcast
arg	5:31	5:36	4	char*
water	5:31	0:0	5	char
op	5:35	0:0	5	*
arg	5:38	5:47	4	buffer_in
water	5:38	0:0	5	buffer_in
while	6:3	46:3	2	(nbytes > 0)
cond	6:10	6:19	3	nbytes > 0
water	6:10	0:0	4	nbytes
op	6:17	0:0	4	>
water	6:19	0:0	4	0
stmts	7:3	46:3	3	
water	7:3	0:0	4	{
decl	8:6	8:24	4	unsigned int	nread
decl	9:6	9:15	4	int	iread
if	14:6	15:24	4	(nbytes > INT_MAX)
cond	14:10	14:19	5	nbytes > INT_MAX
water	14:10	0:0	6	nbytes
op	14:17	0:0	6	>
water	14:19	0:0	6	INT_MAX
stmts	15:9	15:24	5	
water	15:9	0:0	6	nread
op	15:15	0:0	6	=
water	15:17	0:0	6	INT_MAX
water	15:24	0:0	6	;
else	16:6	17:37	4
stmts	17:9	17:37	5	
water	17:9	0:0	6	nread
op	17:15	0:0	6	=
water	17:17	0:0	6	(
water	17:18	0:0	6	unsigned
water	17:27	0:0	6	int
water	17:30	0:0	6	)
water	17:31	0:0	6	nbytes
water	17:37	0:0	6	;
water	18:6	0:0	4	iread
op	18:12	0:0	4	=
call	18:14	18:36	4	read
arg	18:19	18:21	5	fd
water	18:19	0:0	6	fd
arg	18:23	18:29	5	buffer
water	18:23	0:0	6	buffer
arg	18:31	18:36	5	nread
water	18:31	0:0	6	nread
water	18:37	0:0	4	;
if	19:6	30:6	4	(iread == - 1)
cond	19:10	19:20	5	iread == - 1
water	19:10	0:0	6	iread
op	19:16	0:0	6	==
op	19:19	0:0	6	-
water	19:20	0:0	6	1
stmts	20:6	30:6	5	
water	20:6	0:0	6	{
if	25:9	29:9	6	(errno != EINTR)
cond	25:13	25:22	7	errno != EINTR
water	25:13	0:0	8	errno
op	25:19	0:0	8	!=
water	25:22	0:0	8	EINTR
stmts	26:9	29:9	7	
water	26:9	0:0	8	{
call	27:12	27:52	8	png_warning
arg	27:24	27:31	9	png_ptr
water	27:24	0:0	10	png_ptr
arg	27:33	27:52	9	"/proc read failed"
water	27:33	0:0	10	"/proc read failed"
water	27:53	0:0	8	;
return	28:12	28:20	8	0
water	28:19	0:0	9	0
water	29:9	0:0	8	}
water	30:6	0:0	6	}
else	31:6	36:6	4
stmts	31:11	36:6	5	
if	31:11	36:6	6	(iread < 0)
cond	31:15	31:23	7	iread < 0
water	31:15	0:0	8	iread
op	31:21	0:0	8	<
water	31:23	0:0	8	0
stmts	32:6	36:6	7	
water	32:6	0:0	8	{
call	34:9	34:49	8	png_warning
arg	34:21	34:28	9	png_ptr
water	34:21	0:0	10	png_ptr
arg	34:30	34:49	9	"OS /proc read bug"
water	34:30	0:0	10	"OS /proc read bug"
water	34:50	0:0	8	;
return	35:9	35:17	8	0
water	35:16	0:0	9	0
water	36:6	0:0	8	}
else	37:6	43:6	4
stmts	37:11	43:6	5	
if	37:11	43:6	6	(iread > 0)
cond	37:15	37:23	7	iread > 0
water	37:15	0:0	8	iread
op	37:21	0:0	8	>
water	37:23	0:0	8	0
stmts	38:6	43:6	7	
water	38:6	0:0	8	{
water	40:9	0:0	8	buffer
op	40:16	0:0	8	+=
water	40:19	0:0	8	iread
water	40:24	0:0	8	;
water	41:9	0:0	8	nbytes
op	41:16	0:0	8	-=
water	41:19	0:0	8	(
water	41:20	0:0	8	unsigned
water	41:29	0:0	8	int
water	41:32	0:0	8	)
water	41:33	0:0	8	iread
water	41:38	0:0	8	;
water	42:9	0:0	8	ntotal
op	42:16	0:0	8	+=
water	42:19	0:0	8	(
water	42:20	0:0	8	unsigned
water	42:29	0:0	8	int
water	42:32	0:0	8	)
water	42:33	0:0	8	iread
water	42:38	0:0	8	;
water	43:6	0:0	8	}
else	44:6	45:22	4
stmts	45:9	45:22	5	
return	45:9	45:22	6	ntotal
water	45:16	0:0	7	ntotal
water	46:3	0:0	4	}
return	47:3	47:16	2	ntotal
water	47:10	0:0	3	ntotal
