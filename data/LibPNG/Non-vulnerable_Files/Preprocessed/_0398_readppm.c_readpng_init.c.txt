func	2:0	39:0	0	int	readpng_init
params	2:16	0:0	1	
param	2:17	2:29	2	FILE *	infile
param	2:31	2:42	2	ulg *	pWidth
param	2:44	2:56	2	ulg *	pHeight
stmnts	4:4	38:12	1	
water	4:4	0:0	2	static
water	4:11	0:0	2	uch
water	4:15	0:0	2	ppmline
op	4:22	0:0	2	[
water	4:23	0:0	2	256
op	4:26	0:0	2	]
water	4:27	0:0	2	;
decl	5:4	5:14	2	int	maxval
water	6:4	0:0	2	saved_infile
op	6:17	0:0	2	=
water	6:19	0:0	2	infile
water	6:25	0:0	2	;
call	7:4	7:30	2	fgets
arg	7:10	7:17	3	ppmline
water	7:10	0:0	4	ppmline
arg	7:19	7:22	3	256
water	7:19	0:0	4	256
arg	7:24	7:30	3	infile
water	7:24	0:0	4	infile
water	7:31	0:0	2	;
if	8:4	11:4	2	(ppmline [ 0 ] != 'P' || ppmline [ 1 ] != '6')
cond	8:8	8:43	3	ppmline [ 0 ] != 'P' || ppmline [ 1 ] != '6'
water	8:8	0:0	4	ppmline
op	8:15	0:0	4	[
water	8:16	0:0	4	0
op	8:17	0:0	4	]
op	8:19	0:0	4	!=
water	8:22	0:0	4	'P'
op	8:26	0:0	4	||
water	8:29	0:0	4	ppmline
op	8:36	0:0	4	[
water	8:37	0:0	4	1
op	8:38	0:0	4	]
op	8:40	0:0	4	!=
water	8:43	0:0	4	'6'
stmts	8:48	11:4	3	
water	8:48	0:0	4	{
call	9:8	9:50	4	fprintf
arg	9:16	9:22	5	stderr
water	9:16	0:0	6	stderr
arg	9:24	9:50	5	"ERROR:  not a PPM file\n"
water	9:24	0:0	6	"ERROR:  not a PPM file\n"
water	9:51	0:0	4	;
return	10:8	10:16	4	1
water	10:15	0:0	5	1
water	11:4	0:0	4	}
if	13:4	16:4	2	(ppmline [ 1 ] == '6')
cond	13:8	13:22	3	ppmline [ 1 ] == '6'
water	13:8	0:0	4	ppmline
op	13:15	0:0	4	[
water	13:16	0:0	4	1
op	13:17	0:0	4	]
op	13:19	0:0	4	==
water	13:22	0:0	4	'6'
stmts	13:27	16:4	3	
water	13:27	0:0	4	{
water	14:8	0:0	4	color_type
op	14:19	0:0	4	=
water	14:21	0:0	4	2
water	14:22	0:0	4	;
water	15:8	0:0	4	channels
op	15:17	0:0	4	=
water	15:19	0:0	4	3
water	15:20	0:0	4	;
water	16:4	0:0	4	}
else	16:6	19:4	2
stmts	16:11	19:4	3	
if	16:11	19:4	4	(ppmline [ 1 ] == '8')
cond	16:15	16:29	5	ppmline [ 1 ] == '8'
water	16:15	0:0	6	ppmline
op	16:22	0:0	6	[
water	16:23	0:0	6	1
op	16:24	0:0	6	]
op	16:26	0:0	6	==
water	16:29	0:0	6	'8'
stmts	16:34	19:4	5	
water	16:34	0:0	6	{
water	17:8	0:0	6	color_type
op	17:19	0:0	6	=
water	17:21	0:0	6	6
water	17:22	0:0	6	;
water	18:8	0:0	6	channels
op	18:17	0:0	6	=
water	18:19	0:0	6	4
water	18:20	0:0	6	;
water	19:4	0:0	6	}
else	19:6	22:4	2
stmts	19:12	22:4	3	
water	19:12	0:0	4	{
water	20:8	0:0	4	color_type
op	20:19	0:0	4	=
water	20:21	0:0	4	0
water	20:22	0:0	4	;
water	21:8	0:0	4	channels
op	21:17	0:0	4	=
water	21:19	0:0	4	1
water	21:20	0:0	4	;
water	22:4	0:0	4	}
do	23:4	25:4	2	(ppmline [ 0 ] == '#')
cond	25:13	25:27	3	ppmline [ 0 ] == '#'
water	25:13	0:0	4	ppmline
op	25:20	0:0	4	[
water	25:21	0:0	4	0
op	25:22	0:0	4	]
op	25:24	0:0	4	==
water	25:27	0:0	4	'#'
stmts	23:7	25:4	3	
water	23:7	0:0	4	{
call	24:8	24:34	4	fgets
arg	24:14	24:21	5	ppmline
water	24:14	0:0	6	ppmline
arg	24:23	24:26	5	256
water	24:23	0:0	6	256
arg	24:28	24:34	5	infile
water	24:28	0:0	6	infile
water	24:35	0:0	4	;
water	25:4	0:0	4	}
water	25:31	0:0	2	;
call	26:4	26:46	2	sscanf
arg	26:11	26:18	3	ppmline
water	26:11	0:0	4	ppmline
arg	26:20	26:29	3	"%lu %lu"
water	26:20	0:0	4	"%lu %lu"
arg	26:31	26:37	3	&width
op	26:31	0:0	4	&
water	26:32	0:0	4	width
arg	26:39	26:46	3	&height
op	26:39	0:0	4	&
water	26:40	0:0	4	height
water	26:47	0:0	2	;
do	27:4	29:4	2	(ppmline [ 0 ] == '#')
cond	29:13	29:27	3	ppmline [ 0 ] == '#'
water	29:13	0:0	4	ppmline
op	29:20	0:0	4	[
water	29:21	0:0	4	0
op	29:22	0:0	4	]
op	29:24	0:0	4	==
water	29:27	0:0	4	'#'
stmts	27:7	29:4	3	
water	27:7	0:0	4	{
call	28:8	28:34	4	fgets
arg	28:14	28:21	5	ppmline
water	28:14	0:0	6	ppmline
arg	28:23	28:26	5	256
water	28:23	0:0	6	256
arg	28:28	28:34	5	infile
water	28:28	0:0	6	infile
water	28:35	0:0	4	;
water	29:4	0:0	4	}
water	29:31	0:0	2	;
call	30:4	30:33	2	sscanf
arg	30:11	30:18	3	ppmline
water	30:11	0:0	4	ppmline
arg	30:20	30:24	3	"%d"
water	30:20	0:0	4	"%d"
arg	30:26	30:33	3	&maxval
op	30:26	0:0	4	&
water	30:27	0:0	4	maxval
water	30:34	0:0	2	;
if	31:4	34:4	2	(maxval != 255)
cond	31:8	31:18	3	maxval != 255
water	31:8	0:0	4	maxval
op	31:15	0:0	4	!=
water	31:18	0:0	4	255
stmts	31:23	34:4	3	
water	31:23	0:0	4	{
call	32:8	32:55	4	fprintf
arg	32:16	32:22	5	stderr
water	32:16	0:0	6	stderr
arg	32:24	32:47	5	"ERROR:  maxval = %d\n"
water	32:24	0:0	6	"ERROR:  maxval = %d\n"
arg	32:49	32:55	5	maxval
water	32:49	0:0	6	maxval
water	32:56	0:0	4	;
return	33:8	33:16	4	2
water	33:15	0:0	5	2
water	34:4	0:0	4	}
water	35:4	0:0	2	bit_depth
op	35:14	0:0	2	=
water	35:16	0:0	2	8
water	35:17	0:0	2	;
op	36:4	0:0	2	*
water	36:5	0:0	2	pWidth
op	36:12	0:0	2	=
water	36:14	0:0	2	width
water	36:19	0:0	2	;
op	37:4	0:0	2	*
water	37:5	0:0	2	pHeight
op	37:13	0:0	2	=
water	37:15	0:0	2	height
water	37:21	0:0	2	;
return	38:4	38:12	2	0
water	38:11	0:0	3	0
